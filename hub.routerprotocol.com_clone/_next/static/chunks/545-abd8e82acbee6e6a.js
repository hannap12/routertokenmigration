(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[545],{98456:function(t,n,l){"use strict";l.d(n,{Z:function(){return tm}});var a=l(63366),u=l(87462),d=l(67294),c=l(90512),g=l(94780),S=l(70917),y=l(98216),C=l(85845),E=l(90948),k=l(1588),U=l(27621);function getCircularProgressUtilityClass(t){return(0,U.ZP)("MuiCircularProgress",t)}(0,k.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var K=l(85893);let ti=["className","color","disableShrink","size","style","thickness","value","variant"],_=t=>t,tl,tr,th,ta,to=(0,S.F4)(tl||(tl=_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),tu=(0,S.F4)(tr||(tr=_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),useUtilityClasses=t=>{let{classes:n,variant:l,color:a,disableShrink:u}=t,d={root:["root",l,`color${(0,y.Z)(a)}`],svg:["svg"],circle:["circle",`circle${(0,y.Z)(l)}`,u&&"circleDisableShrink"]};return(0,g.Z)(d,getCircularProgressUtilityClass,n)},td=(0,E.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,n)=>{let{ownerState:l}=t;return[n.root,n[l.variant],n[`color${(0,y.Z)(l.color)}`]]}})(({ownerState:t,theme:n})=>(0,u.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main}),({ownerState:t})=>"indeterminate"===t.variant&&(0,S.iv)(th||(th=_`
      animation: ${0} 1.4s linear infinite;
    `),to)),tc=(0,E.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,n)=>n.svg})({display:"block"}),tp=(0,E.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,n)=>{let{ownerState:l}=t;return[n.circle,n[`circle${(0,y.Z)(l.variant)}`],l.disableShrink&&n.circleDisableShrink]}})(({ownerState:t,theme:n})=>(0,u.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>"indeterminate"===t.variant&&!t.disableShrink&&(0,S.iv)(ta||(ta=_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),tu)),tf=d.forwardRef(function(t,n){let l=(0,C.i)({props:t,name:"MuiCircularProgress"}),{className:d,color:g="primary",disableShrink:S=!1,size:y=40,style:E,thickness:k=3.6,value:U=0,variant:tl="indeterminate"}=l,tr=(0,a.Z)(l,ti),th=(0,u.Z)({},l,{color:g,disableShrink:S,size:y,thickness:k,value:U,variant:tl}),ta=useUtilityClasses(th),to={},tu={},tf={};if("determinate"===tl){let t=2*Math.PI*((44-k)/2);to.strokeDasharray=t.toFixed(3),tf["aria-valuenow"]=Math.round(U),to.strokeDashoffset=`${((100-U)/100*t).toFixed(3)}px`,tu.transform="rotate(-90deg)"}return(0,K.jsx)(td,(0,u.Z)({className:(0,c.Z)(ta.root,d),style:(0,u.Z)({width:y,height:y},tu,E),ownerState:th,ref:n,role:"progressbar"},tf,tr,{children:(0,K.jsx)(tc,{className:ta.svg,ownerState:th,viewBox:"22 22 44 44",children:(0,K.jsx)(tp,{className:ta.circle,style:to,ownerState:th,cx:44,cy:44,r:(44-k)/2,fill:"none",strokeWidth:k})})}))});var tm=tf},69831:function(){},56735:function(){},17771:function(){},92261:function(){},92703:function(t,n,l){"use strict";var a=l(50414);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,t.exports=function(){function shim(t,n,l,u,d,c){if(c!==a){var g=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return t.PropTypes=t,t}},45697:function(t,n,l){t.exports=l(92703)()},50414:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},23939:function(t,n,l){"use strict";var a=l(67294),u=l(45697),d=l.n(u);function _extends(){return(_extends=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a])}return t}).apply(this,arguments)}var c=(0,a.forwardRef)(function(t,n){var l=t.color,u=t.size,d=void 0===u?24:u,c=function(t,n){if(null==t)return{};var l,a,u=function(t,n){if(null==t)return{};var l,a,u={},d=Object.keys(t);for(a=0;a<d.length;a++)l=d[a],n.indexOf(l)>=0||(u[l]=t[l]);return u}(t,n);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(a=0;a<d.length;a++)l=d[a],!(n.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(t,l)&&(u[l]=t[l])}return u}(t,["color","size"]);return a.createElement("svg",_extends({ref:n,xmlns:"http://www.w3.org/2000/svg",width:d,height:d,viewBox:"0 0 24 24",fill:"none",stroke:void 0===l?"currentColor":l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),a.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),a.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))});c.propTypes={color:d().string,size:d().oneOfType([d().string,d().number])},c.displayName="CheckCircle",n.Z=c},62001:function(t,n,l){"use strict";function size(t){var n=t.width,l=t.height;if(n<0)throw Error("Negative width is not allowed for Size");if(l<0)throw Error("Negative height is not allowed for Size");return{width:n,height:l}}function equalSizes(t,n){return t.width===n.width&&t.height===n.height}l.d(n,{rM:function(){return ti},C2:function(){return Pe}});var a,u,d,c,g,S,y,C,E,k,U,K,ti,tl,tr,th,ta,to,tu,td,tc,tp=function(){function Observable(t){var n=this;this._resolutionListener=function(){return n._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return Observable.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(Observable.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),Observable.prototype.subscribe=function(t){var n=this,l={next:t};return this._observers.push(l),{unsubscribe:function(){n._observers=n._observers.filter(function(t){return t!==l})}}},Observable.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},Observable.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},Observable.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},Observable.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(n){return n.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},Observable}(),tf=function(){function DevicePixelContentBoxBinding(t,n,l){var a;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=size({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!=n?n:function(t){return t},this._allowResizeObserver=null===(a=null==l?void 0:l.allowResizeObserver)||void 0===a||a,this._chooseAndInitObserver()}return DevicePixelContentBoxBinding.prototype.dispose=function(){var t,n;if(null===this._canvasElement)throw Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(n=this._devicePixelRatioObservable)||void 0===n||n.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(DevicePixelContentBoxBinding.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(DevicePixelContentBoxBinding.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(DevicePixelContentBoxBinding.prototype,"bitmapSize",{get:function(){return size({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),DevicePixelContentBoxBinding.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=size(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},DevicePixelContentBoxBinding.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},DevicePixelContentBoxBinding.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(n){return n!==t})},Object.defineProperty(DevicePixelContentBoxBinding.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),DevicePixelContentBoxBinding.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},DevicePixelContentBoxBinding.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(n){return n!==t})},DevicePixelContentBoxBinding.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},DevicePixelContentBoxBinding.prototype._resizeBitmap=function(t){var n=this.bitmapSize;equalSizes(n,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(n,t))},DevicePixelContentBoxBinding.prototype._emitBitmapSizeChanged=function(t,n){var l=this;this._bitmapSizeChangedListeners.forEach(function(a){return a.call(l,t,n)})},DevicePixelContentBoxBinding.prototype._suggestNewBitmapSize=function(t){var n=this._suggestedBitmapSize,l=size(this._transformBitmapSize(t,this._canvasElementClientSize)),a=equalSizes(this.bitmapSize,l)?null:l;null===n&&null===a||null!==n&&null!==a&&equalSizes(n,a)||(this._suggestedBitmapSize=a,this._emitSuggestedBitmapSizeChanged(n,a))},DevicePixelContentBoxBinding.prototype._emitSuggestedBitmapSizeChanged=function(t,n){var l=this;this._suggestedBitmapSizeChangedListeners.forEach(function(a){return a.call(l,t,n)})},DevicePixelContentBoxBinding.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}new Promise(function(t){var n=new ResizeObserver(function(l){t(l.every(function(t){return"devicePixelContentBoxSize"in t})),n.disconnect()});n.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1}).then(function(n){return n?t._initResizeObserver():t._initDevicePixelRatioObservable()})},DevicePixelContentBoxBinding.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var n=canvasElementWindow(this._canvasElement);if(null===n)throw Error("No window is associated with the canvas");this._devicePixelRatioObservable=new tp(n),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},DevicePixelContentBoxBinding.prototype._invalidateBitmapSize=function(){if(null!==this._canvasElement){var t,n,l=canvasElementWindow(this._canvasElement);if(null!==l){var a,u=null!==(n=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==n?n:l.devicePixelRatio,d=this._canvasElement.getClientRects(),c=void 0!==d[0]?size({width:Math.round((a=d[0]).left*u+a.width*u)-Math.round(a.left*u),height:Math.round(a.top*u+a.height*u)-Math.round(a.top*u)}):size({width:this._canvasElementClientSize.width*u,height:this._canvasElementClientSize.height*u});this._suggestNewBitmapSize(c)}}},DevicePixelContentBoxBinding.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver(function(n){var l=n.find(function(n){return n.target===t._canvasElement});if(l&&l.devicePixelContentBoxSize&&l.devicePixelContentBoxSize[0]){var a=l.devicePixelContentBoxSize[0],u=size({width:a.inlineSize,height:a.blockSize});t._suggestNewBitmapSize(u)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},DevicePixelContentBoxBinding}();function canvasElementWindow(t){return t.ownerDocument.defaultView}var tm=function(){function CanvasRenderingTarget2D(t,n,l){if(0===n.width||0===n.height)throw TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=n,0===l.width||0===l.height)throw TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=l,this._context=t}return CanvasRenderingTarget2D.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},CanvasRenderingTarget2D.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(CanvasRenderingTarget2D.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(CanvasRenderingTarget2D.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),CanvasRenderingTarget2D}();function tryCreateCanvasRenderingTarget2D(t,n){var l=t.canvasElementClientSize;if(0===l.width||0===l.height)return null;var a=t.bitmapSize;if(0===a.width||0===a.height)return null;var u=t.canvasElement.getContext("2d",n);return null===u?null:new tm(u,l,a)}/*!
 * @license
 * TradingView Lightweight Charts™ v4.1.7
 * Copyright (c) 2024 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */let tv={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},tg={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},tb={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},tw={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},tS={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},ty={color:"#26a69a",base:0},tx={color:"#2196f3"},tC={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};function f(t,n){let l={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[n];t.setLineDash(l)}function v(t,n,l,a){t.beginPath();let u=t.lineWidth%2?.5:0;t.moveTo(l,n+u),t.lineTo(a,n+u),t.stroke()}function p(t,n){if(!t)throw Error("Assertion failed"+(n?": "+n:""))}function m(t){if(void 0===t)throw Error("Value is undefined");return t}function b(t){if(null===t)throw Error("Value is null");return t}function w(t){return b(m(t))}(a=U||(U={}))[a.Simple=0]="Simple",a[a.WithSteps=1]="WithSteps",a[a.Curved=2]="Curved",(u=K||(K={}))[u.Solid=0]="Solid",u[u.Dotted=1]="Dotted",u[u.Dashed=2]="Dashed",u[u.LargeDashed=3]="LargeDashed",u[u.SparseDotted=4]="SparseDotted";let t_={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function M(t){return t<0?0:t>255?255:Math.round(t)||0}function x(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}let tM=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,tE=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,tz=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,tT=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function T(t){(t=t.toLowerCase())in t_&&(t=t_[t]);{let n=tT.exec(t)||tz.exec(t);if(n)return[M(parseInt(n[1],10)),M(parseInt(n[2],10)),M(parseInt(n[3],10)),x(n.length<5?1:parseFloat(n[4]))]}{let n=tE.exec(t);if(n)return[M(parseInt(n[1],16)),M(parseInt(n[2],16)),M(parseInt(n[3],16)),1]}{let n=tM.exec(t);if(n)return[M(17*parseInt(n[1],16)),M(17*parseInt(n[2],16)),M(17*parseInt(n[3],16)),1]}throw Error(`Cannot parse color: ${t}`)}function P(t){let n=T(t);return{t:`rgb(${n[0]}, ${n[1]}, ${n[2]})`,i:.199*n[0]+.687*n[1]+.114*n[2]>160?"black":"white"}}let R=class R{constructor(){this.h=[]}l(t,n,l){this.h.push({o:t,_:n,u:!0===l})}v(t){let n=this.h.findIndex(n=>t===n.o);n>-1&&this.h.splice(n,1)}p(t){this.h=this.h.filter(n=>n._!==t)}m(t,n,l){let a=[...this.h];this.h=this.h.filter(t=>!t.u),a.forEach(a=>a.o(t,n,l))}M(){return this.h.length>0}S(){this.h=[]}};function D(t,...n){for(let l of n)for(let n in l)void 0!==l[n]&&("object"!=typeof l[n]||void 0===t[n]||Array.isArray(l[n])?t[n]=l[n]:D(t[n],l[n]));return t}function O(t){return"number"==typeof t&&isFinite(t)}function A(t){return"number"==typeof t&&t%1==0}function B(t){return"string"==typeof t}function V(t){return"boolean"==typeof t}function I(t){let n,l,a;if(!t||"object"!=typeof t)return t;for(l in n=Array.isArray(t)?[]:{},t)t.hasOwnProperty(l)&&(a=t[l],n[l]=a&&"object"==typeof a?I(a):a);return n}function z(t){return null!==t}function L(t){return null===t?void 0:t}let tO="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function N(t,n,l){return void 0===n&&(n=tO),`${l=void 0!==l?`${l} `:""}${t}px ${n}`}let F=class F{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",O:"",A:"",B:0,V:0,I:0,L:0,N:0},this.F=t}W(){let t=this.k,n=this.j(),l=this.H();return t.P===n&&t.D===l||(t.P=n,t.D=l,t.R=N(n,l),t.L=2.5/12*n,t.B=t.L,t.V=n/12*t.T,t.I=n/12*t.T,t.N=0),t.O=this.$(),t.A=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}};let W=class W{constructor(){this.Y=[]}X(t){this.Y=t}K(t,n,l){this.Y.forEach(a=>{a.K(t,n,l)})}};let j=class j{K(t,n,l){t.useBitmapCoordinateSpace(t=>this.Z(t,n,l))}};let H=class H extends j{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z({context:t,horizontalPixelRatio:n,verticalPixelRatio:l}){if(null===this.G||null===this.G.tt)return;let a=this.G.tt,u=this.G,d=Math.max(1,Math.floor(n))%2/2,h=c=>{t.beginPath();for(let g=a.to-1;g>=a.from;--g){let a=u.it[g],S=Math.round(a.nt*n)+d,y=a.st*l,C=c*l+d;t.moveTo(S,y),t.arc(S,y,C,0,2*Math.PI)}t.fill()};u.et>0&&(t.fillStyle=u.rt,h(u.ht+u.et)),t.fillStyle=u.lt,h(u.ht)}};function $(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}let tL={from:0,to:1};let q=class q{constructor(t,n){this.ut=new W,this.ct=[],this.dt=[],this.ft=!0,this.F=t,this.vt=n,this.ut.X(this.ct)}bt(t){let n=this.F.wt();n.length!==this.ct.length&&(this.dt=n.map($),this.ct=this.dt.map(t=>{let n=new H;return n.J(t),n}),this.ut.X(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){let t=2===this.vt.W().mode,n=this.F.wt(),l=this.vt.xt(),a=this.F.St();n.forEach((n,u)=>{var d;let c=this.dt[u],g=n.kt(l);if(t||null===g||!n.yt())return void(c.tt=null);let S=b(n.Ct());c.lt=g.Tt,c.ht=g.ht,c.et=g.Pt,c.it[0]._t=g._t,c.it[0].st=n.Dt().Rt(g._t,S.Ot),c.rt=null!==(d=g.At)&&void 0!==d?d:this.F.Bt(c.it[0].st/n.Dt().Vt()),c.it[0].ot=l,c.it[0].nt=a.It(l),c.tt=tL})}};let Y=class Y extends j{constructor(t){super(),this.zt=t}Z({context:t,bitmapSize:n,horizontalPixelRatio:l,verticalPixelRatio:a}){if(null===this.zt)return;let u=this.zt.Lt.yt,d=this.zt.Et.yt;if(!u&&!d)return;let c=Math.round(this.zt.nt*l),g=Math.round(this.zt.st*a);t.lineCap="butt",u&&c>=0&&(t.lineWidth=Math.floor(this.zt.Lt.et*l),t.strokeStyle=this.zt.Lt.O,t.fillStyle=this.zt.Lt.O,f(t,this.zt.Lt.Nt),function(t,n,l,a){t.beginPath();let u=t.lineWidth%2?.5:0;t.moveTo(n+u,0),t.lineTo(n+u,a),t.stroke()}(t,c,0,n.height)),d&&g>=0&&(t.lineWidth=Math.floor(this.zt.Et.et*a),t.strokeStyle=this.zt.Et.O,t.fillStyle=this.zt.Et.O,f(t,this.zt.Et.Nt),v(t,g,0,n.width))}};let X=class X{constructor(t){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,O:"",yt:!1},Et:{et:1,Nt:0,O:"",yt:!1},nt:0,st:0},this.Wt=new Y(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){let t=this.jt.yt(),n=b(this.jt.Ht()),l=n.$t().W().crosshair,a=this.Ft;if(2===l.mode)return a.Et.yt=!1,void(a.Lt.yt=!1);a.Et.yt=t&&this.jt.Ut(n),a.Lt.yt=t&&this.jt.qt(),a.Et.et=l.horzLine.width,a.Et.Nt=l.horzLine.style,a.Et.O=l.horzLine.color,a.Lt.et=l.vertLine.width,a.Lt.Nt=l.vertLine.style,a.Lt.O=l.vertLine.color,a.nt=this.jt.Yt(),a.st=this.jt.Xt()}};function Z(t,n,l,a,u,d){t.save(),t.globalCompositeOperation="copy",t.fillStyle=d,t.fillRect(n,l,a,u),t.restore()}function G(t,n,l,a,u,d){t.beginPath(),t.roundRect?t.roundRect(n,l,a,u,d):(t.lineTo(n+a-d[1],l),0!==d[1]&&t.arcTo(n+a,l,n+a,l+d[1],d[1]),t.lineTo(n+a,l+u-d[2]),0!==d[2]&&t.arcTo(n+a,l+u,n+a-d[2],l+u,d[2]),t.lineTo(n+d[3],l+u),0!==d[3]&&t.arcTo(n,l+u,n,l+u-d[3],d[3]),t.lineTo(n,l+d[0]),0!==d[0]&&t.arcTo(n,l,n+d[0],l,d[0]))}function J(t,n,l,a,u,d,c=0,g=[0,0,0,0],S=""){var y;if(t.save(),!c||!S||S===d)return G(t,n,l,a,u,g),t.fillStyle=d,t.fill(),void t.restore();let C=c/2;G(t,n+C,l+C,a-c,u-c,(y=-C,g.map(t=>0===t?t:t+y))),"transparent"!==d&&(t.fillStyle=d,t.fill()),"transparent"!==S&&(t.lineWidth=c,t.strokeStyle=S,t.closePath(),t.stroke()),t.restore()}function Q(t,n,l,a,u,d,c){t.save(),t.globalCompositeOperation="copy";let g=t.createLinearGradient(0,0,0,u);g.addColorStop(0,d),g.addColorStop(1,c),t.fillStyle=g,t.fillRect(n,l,a,u),t.restore()}let tt=class tt{constructor(t,n){this.J(t,n)}J(t,n){this.zt=t,this.Kt=n}Vt(t,n){return this.zt.yt?t.P+t.L+t.B:0}K(t,n,l,a){if(!this.zt.yt||0===this.zt.Zt.length)return;let u=this.zt.O,d=this.Kt.t,c=t.useBitmapCoordinateSpace(t=>{let c=t.context;c.font=n.R;let g=this.Gt(t,n,l,a),S=g.Jt,o=(t,n)=>{g.Qt?J(c,S.ti,S.ii,S.ni,S.si,t,S.ei,[S.ht,0,0,S.ht],n):J(c,S.ri,S.ii,S.ni,S.si,t,S.ei,[0,S.ht,S.ht,0],n)};return o(d,"transparent"),this.zt.hi&&(c.fillStyle=u,c.fillRect(S.ri,S.li,S.ai-S.ri,S.oi)),o("transparent",d),this.zt._i&&(c.fillStyle=n.A,c.fillRect(g.Qt?S.ui-S.ei:0,S.ii,S.ei,S.ci-S.ii)),g});t.useMediaCoordinateSpace(({context:t})=>{let l=c.di;t.font=n.R,t.textAlign=c.Qt?"right":"left",t.textBaseline="middle",t.fillStyle=u,t.fillText(this.zt.Zt,l.fi,(l.ii+l.ci)/2+l.pi)})}Gt(t,n,l,a){var u;let d,c,g;let{context:S,bitmapSize:y,mediaSize:C,horizontalPixelRatio:E,verticalPixelRatio:k}=t,U=this.zt.hi||!this.zt.mi?n.T:0,K=this.zt.bi?n.C:0,ti=n.L+this.Kt.wi,tl=n.B+this.Kt.gi,tr=n.V,th=n.I,ta=this.zt.Zt,to=n.P,tu=l.Mi(S,ta),td=Math.ceil(l.xi(S,ta)),tc=n.C+tr+th+td+U,tp=Math.max(1,Math.floor(k)),tf=Math.round((to+ti+tl)*k);tf%2!=tp%2&&(tf+=1);let tm=K>0?Math.max(1,Math.floor(K*E)):0,tv=Math.round(tc*E),tg=Math.round(U*E),tb=null!==(u=this.Kt.Si)&&void 0!==u?u:this.Kt.ki,tw=Math.round(tb*k)-Math.floor(.5*k),tS=Math.floor(tw+tp/2-tf/2),ty=tS+tf,tx="right"===a,tC=tx?C.width-K:K,t_=tx?y.width-tm:tm;return tx?(d=t_-tv,c=t_-tg,g=tC-U-tr-K):(d=t_+tv,c=t_+tg,g=tC+U+tr),{Qt:tx,Jt:{ii:tS,li:tw,ci:ty,ni:tv,si:tf,ht:2*E,ei:tm,ti:d,ri:t_,ai:c,oi:tp,ui:y.width},di:{ii:tS/k,ci:ty/k,fi:g,pi:tu}}}};let it=class it{constructor(t){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Zt:"",yt:!1,hi:!0,mi:!1,At:"",O:"#FFF",_i:!1,bi:!1},this.Ti={Zt:"",yt:!1,hi:!1,mi:!0,At:"",O:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(t||tt)(this.Ci,this.yi),this.Ri=new(t||tt)(this.Ti,this.yi)}Zt(){return this.Di(),this.Ci.Zt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}Vt(t,n=!1){return Math.max(this.Pi.Vt(t,n),this.Ri.Vt(t,n))}Oi(){return this.yi.Si||0}Ai(t){this.yi.Si=t}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Vi(){return this.Di(),this.Ci.yt}gt(t){return this.Di(),this.Ci.hi=this.Ci.hi&&t.W().ticksVisible,this.Ti.hi=this.Ti.hi&&t.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}};let nt=class nt extends it{constructor(t,n,l){super(),this.jt=t,this.Li=n,this.Ei=l}zi(t,n,l){if(t.yt=!1,2===this.jt.W().mode)return;let a=this.jt.W().horzLine;if(!a.labelVisible)return;let u=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||null===u)return;let d=P(a.labelBackgroundColor);l.t=d.t,t.O=d.i;let c=2/12*this.Li.P();l.wi=c,l.gi=c;let g=this.Ei(this.Li);l.ki=g.ki,t.Zt=this.Li.Fi(g._t,u),t.yt=!0}};let tk=/[1-9]/g;let et=class et{constructor(){this.zt=null}J(t){this.zt=t}K(t,n){if(null===this.zt||!1===this.zt.yt||0===this.zt.Zt.length)return;let l=t.useMediaCoordinateSpace(({context:t})=>(t.font=n.R,Math.round(n.Wi.xi(t,b(this.zt).Zt,tk))));if(l<=0)return;let a=n.ji,u=l+2*a,d=u/2,c=this.zt.Hi,g=this.zt.ki,S=Math.floor(g-d)+.5;S<0?(g+=Math.abs(0-S),S=Math.floor(g-d)+.5):S+u>c&&(g-=Math.abs(c-(S+u)),S=Math.floor(g-d)+.5);let y=S+u,C=Math.ceil(0+n.C+n.T+n.L+n.P+n.B);t.useBitmapCoordinateSpace(({context:t,horizontalPixelRatio:l,verticalPixelRatio:a})=>{let u=b(this.zt);t.fillStyle=u.t;let d=Math.round(S*l),c=Math.round(0*a),g=Math.round(y*l),E=Math.round(C*a),k=Math.round(2*l);if(t.beginPath(),t.moveTo(d,c),t.lineTo(d,E-k),t.arcTo(d,E,d+k,E,k),t.lineTo(g-k,E),t.arcTo(g,E,g,E-k,k),t.lineTo(g,c),t.fill(),u.hi){let d=Math.round(u.ki*l),g=Math.round((c+n.T)*a);t.fillStyle=u.O;let S=Math.max(1,Math.floor(l)),y=Math.floor(.5*l);t.fillRect(d-y,c,S,g-c)}}),t.useMediaCoordinateSpace(({context:t})=>{let l=b(this.zt),u=0+n.C+n.T+n.L+n.P/2;t.font=n.R,t.textAlign="left",t.textBaseline="middle",t.fillStyle=l.O;let d=n.Wi.Mi(t,"Apr0");t.translate(S+a,u+d),t.fillText(l.Zt,0,0)})}};let rt=class rt{constructor(t,n,l){this.ft=!0,this.Wt=new et,this.Ft={yt:!1,t:"#4c525e",O:"white",Zt:"",Hi:0,ki:NaN,hi:!0},this.vt=t,this.$i=n,this.Ei=l}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){let t=this.Ft;if(t.yt=!1,2===this.vt.W().mode)return;let n=this.vt.W().vertLine;if(!n.labelVisible)return;let l=this.$i.St();if(l.Ni())return;t.Hi=l.Hi();let a=this.Ei();if(null===a)return;t.ki=a.ki;let u=l.Ui(this.vt.xt());t.Zt=l.qi(b(u)),t.yt=!0;let d=P(n.labelBackgroundColor);t.t=d.t,t.O=d.i,t.hi=l.W().ticksVisible}};let ht=class ht{constructor(){this.Yi=null,this.Xi=0}Ki(){return this.Xi}Zi(t){this.Xi=t}Dt(){return this.Yi}Gi(t){this.Yi=t}Ji(t){return[]}Qi(){return[]}yt(){return!0}};(d=ti||(ti={}))[d.Normal=0]="Normal",d[d.Magnet=1]="Magnet",d[d.Hidden=2]="Hidden";let at=class at extends ht{constructor(t,n){var l,a,u,d;super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=t,this.cn=n,this.dn=new q(t,this),this.fn=(l=()=>this.nn,a=()=>this.an,t=>{let n=a(),u=l();if(t===b(this.tn).vn())return{_t:u,ki:n};{let l=b(t.Ct());return{_t:t.pn(n,l),ki:n}}});let c=(u=()=>this.sn,d=()=>this.Yt(),()=>{let t=this.$i.St().mn(u()),n=d();return t&&Number.isFinite(n)?{ot:t,ki:n}:null});this.bn=new rt(this,t,c),this.wn=new X(this)}W(){return this.cn}gn(t,n){this._n=t,this.un=n}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(t,n,l){this.hn||(this.hn=!0),this.en=!0,this.yn(t,n,l)}xt(){return this.sn}Yt(){return this.ln}Xt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(t){return null!==this.tn?[this.wn,this.dn]:[]}Ut(t){return t===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(t,n){this.en&&this.tn===t||this.rn.clear();let l=[];return this.tn===t&&l.push(this.Dn(this.rn,n,this.fn)),l}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}On(){this.wn.bt(),this.rn.forEach(t=>t.bt()),this.bn.bt(),this.dn.bt()}An(t){return t&&!t.vn().Ni()?t.vn():null}yn(t,n,l){this.Bn(t,n,l)&&this.On()}Bn(t,n,l){let a=this.ln,u=this.an,d=this.nn,c=this.sn,g=this.tn,S=this.An(l);this.sn=t,this.ln=isNaN(t)?NaN:this.$i.St().It(t),this.tn=l;let y=null!==S?S.Ct():null;return null!==S&&null!==y?(this.nn=n,this.an=S.Rt(n,y)):(this.nn=NaN,this.an=NaN),a!==this.ln||u!==this.an||c!==this.sn||d!==this.nn||g!==this.tn}Tn(){let t=this.$i.wt().map(t=>t.In().Vn()).filter(z),n=0===t.length?null:Math.max(...t);this.sn=null!==n?n:NaN}Dn(t,n,l){let a=t.get(n);return void 0===a&&(a=new nt(this,n,l),t.set(n,a)),a}};function ot(t){return"left"===t||"right"===t}let _t=class _t{constructor(t){this.zn=new Map,this.Ln=[],this.En=t}Nn(t,n){var l;let a=void 0===(l=this.zn.get(t))?n:{Fn:Math.max(l.Fn,n.Fn),Wn:l.Wn||n.Wn};this.zn.set(t,a)}jn(){return this.En}Hn(t){let n=this.zn.get(t);return void 0===n?{Fn:this.En}:{Fn:Math.max(this.En,n.Fn),Wn:n.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(t){this.Un(),this.Ln=[{qn:1,Ot:t}]}Xn(t){this.Kn(),this.Ln.push({qn:5,Ot:t})}Un(){this.Kn(),this.Ln.push({qn:6})}Zn(){this.Un(),this.Ln=[{qn:4}]}Gn(t){this.Un(),this.Ln.push({qn:2,Ot:t})}Jn(t){this.Un(),this.Ln.push({qn:3,Ot:t})}Qn(){return this.Ln}ts(t){for(let n of t.Ln)this.ns(n);this.En=Math.max(this.En,t.En),t.zn.forEach((t,n)=>{this.Nn(n,t)})}static ss(){return new _t(2)}static es(){return new _t(3)}ns(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Ot);break;case 2:this.Gn(t.Ot);break;case 3:this.Jn(t.Ot);break;case 4:this.Zn();break;case 5:this.Xn(t.Ot);break;case 6:this.Kn()}}Kn(){let t=this.Ln.findIndex(t=>5===t.qn);-1!==t&&this.Ln.splice(t,1)}};function ct(t,n){if(!O(t))return"n/a";if(!A(n)||n<0||n>16)throw TypeError("invalid length");return 0===n?t.toString():("0000000000000000"+t.toString()).slice(-n)}let dt=class dt{constructor(t,n){if(n||(n=1),O(t)&&A(t)||(t=100),t<0)throw TypeError("invalid base");this.Li=t,this.rs=n,this.hs()}format(t){let n=t<0?"−":"";return t=Math.abs(t),n+this.ls(t)}hs(){if(this.os=0,this.Li>0&&this.rs>0){let t=this.Li;for(;t>1;)t/=10,this.os++}}ls(t){let n=this.Li/this.rs,l=Math.floor(t),a="",u=void 0!==this.os?this.os:NaN;if(n>1){let d=+(Math.round(t*n)-l*n).toFixed(this.os);d>=n&&(d-=n,l+=1),a="."+ct(+d.toFixed(this.os)*this.rs,u)}else l=Math.round(l*n)/n,u>0&&(a="."+ct(0,u));return l.toFixed(0)+a}};let ft=class ft extends dt{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}};let vt=class vt{constructor(t){this._s=t}format(t){let n="";return t<0&&(n="-",t=-t),t<995?n+this.us(t):t<999995?n+this.us(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),n+this.us(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),n+this.us(t/1e9)+"B")}us(t){let n=Math.pow(10,this._s);return((t=Math.round(t*n)/n)>=1e-15&&t<1?t.toFixed(this._s).replace(/\.?0+$/,""):String(t)).replace(/(\.[1-9]*)0+$/,(t,n)=>n)}};function pt(t,n,l,a,u,d,c){if(0===n.length||a.from>=n.length||a.to<=0)return;let{context:g,horizontalPixelRatio:S,verticalPixelRatio:y}=t,C=n[a.from],E=d(t,C),k=C;if(a.to-a.from<2){let n=u/2;g.beginPath();let l={nt:C.nt-n,st:C.st},a={nt:C.nt+n,st:C.st};g.moveTo(l.nt*S,l.st*y),g.lineTo(a.nt*S,a.st*y),c(t,E,l,a)}else{let e=(n,l)=>{c(t,E,k,l),g.beginPath(),E=n,k=l},u=k;g.beginPath(),g.moveTo(C.nt*S,C.st*y);for(let c=a.from+1;c<a.to;++c){u=n[c];let a=d(t,u);switch(l){case 0:g.lineTo(u.nt*S,u.st*y);break;case 1:g.lineTo(u.nt*S,n[c-1].st*y),a!==E&&(e(a,u),g.lineTo(u.nt*S,n[c-1].st*y)),g.lineTo(u.nt*S,u.st*y);break;case 2:{let[t,l]=function(t,n,l){var a,u;let d=Math.min(t.length-1,l+1);return[(a=t[n],u=wt(bt(t[l],t[Math.max(0,n-1)]),6),{nt:a.nt+u.nt,st:a.st+u.st}),bt(t[l],wt(bt(t[d],t[n]),6))]}(n,c-1,c);g.bezierCurveTo(t.nt*S,t.st*y,l.nt*S,l.st*y,u.nt*S,u.st*y)}}1!==l&&a!==E&&(e(a,u),g.moveTo(u.nt*S,u.st*y))}(k!==u||k===u&&1===l)&&c(t,E,k,u)}}function bt(t,n){return{nt:t.nt-n.nt,st:t.st-n.st}}function wt(t,n){return{nt:t.nt/n,st:t.st/n}}function Mt(t,n,l,a,u){let{context:d,horizontalPixelRatio:c,verticalPixelRatio:g}=n;d.lineTo(u.nt*c,t*g),d.lineTo(a.nt*c,t*g),d.closePath(),d.fillStyle=l,d.fill()}let xt=class xt extends j{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z(t){var n;if(null===this.G)return;let{it:l,tt:a,cs:u,et:d,Nt:c,ds:g}=this.G,S=null!==(n=this.G.fs)&&void 0!==n?n:this.G.vs?0:t.mediaSize.height;if(null===a)return;let y=t.context;y.lineCap="butt",y.lineJoin="round",y.lineWidth=d,f(y,c),y.lineWidth=1,pt(t,l,g,a,u,this.ps.bind(this),Mt.bind(null,S))}};function St(t,n,l){return Math.min(Math.max(t,n),l)}function yt(t){let n=Math.ceil(t);return n%2==0?n-1:n}let Ct=class Ct{bs(t,n){let l=this.ws,{gs:a,Ms:u,xs:d,Ss:c,ks:g,fs:S}=n;if(void 0===this.ys||void 0===l||l.gs!==a||l.Ms!==u||l.xs!==d||l.Ss!==c||l.fs!==S||l.ks!==g){let l=t.context.createLinearGradient(0,0,0,g);if(l.addColorStop(0,a),null!=S){let n=St(S*t.verticalPixelRatio/g,0,1);l.addColorStop(n,u),l.addColorStop(n,d)}l.addColorStop(1,c),this.ys=l,this.ws=n}return this.ys}};let Tt=class Tt extends xt{constructor(){super(...arguments),this.Cs=new Ct}ps(t,n){return this.Cs.bs(t,{gs:n.Ts,Ms:"",xs:"",Ss:n.Ps,ks:t.bitmapSize.height})}};function Pt(t,n){let l=t.context;l.strokeStyle=n,l.stroke()}let Rt=class Rt extends j{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z(t){if(null===this.G)return;let{it:n,tt:l,cs:a,ds:u,et:d,Nt:c,Rs:g}=this.G;if(null===l)return;let S=t.context;S.lineCap="butt",S.lineWidth=d*t.verticalPixelRatio,f(S,c),S.lineJoin="round";let y=this.Ds.bind(this);void 0!==u&&pt(t,n,u,l,a,y,Pt),g&&function(t,n,l,a,u){let{horizontalPixelRatio:d,verticalPixelRatio:c,context:g}=t,S=null,y=Math.max(1,Math.floor(d))%2/2,C=l*c+y;for(let l=a.to-1;l>=a.from;--l){let a=n[l];if(a){let n=u(t,a);n!==S&&(g.beginPath(),null!==S&&g.fill(),g.fillStyle=n,S=n);let l=Math.round(a.nt*d)+y,E=a.st*c;g.moveTo(l,E),g.arc(l,E,C,0,2*Math.PI)}}g.fill()}(t,n,g,l,y)}};let Dt=class Dt extends Rt{Ds(t,n){return n.lt}};function Ot(t,n,l,a,u=0,d=n.length){let c=d-u;for(;0<c;){let d=c>>1,g=u+d;a(n[g],l)===t?(u=g+1,c-=d+1):c=d}return u}let tP=Ot.bind(null,!0),tD=Ot.bind(null,!1);function Vt(t,n){return t.ot<n}function It(t,n){return n<t.ot}function zt(t,n,l){let a=n.Os(),u=n.ui(),d=tP(t,a,Vt),c=tD(t,u,It);if(!l)return{from:d,to:c};let g=d,S=c;return d>0&&d<t.length&&t[d].ot>=a&&(g=d-1),c>0&&c<t.length&&t[c-1].ot<=u&&(S=c+1),{from:g,to:S}}let Lt=class Lt{constructor(t,n,l){this.As=!0,this.Bs=!0,this.Vs=!0,this.Is=[],this.zs=null,this.Ls=t,this.Es=n,this.Ns=l}bt(t){this.As=!0,"data"===t&&(this.Bs=!0),"options"===t&&(this.Vs=!0)}gt(){return this.Ls.yt()?(this.Fs(),null===this.zs?null:this.Ws):null}js(){this.Is=this.Is.map(t=>Object.assign(Object.assign({},t),this.Ls.$s().Hs(t.ot)))}Us(){this.zs=null}Fs(){this.Bs&&(this.qs(),this.Bs=!1),this.Vs&&(this.js(),this.Vs=!1),this.As&&(this.Ys(),this.As=!1)}Ys(){let t=this.Ls.Dt(),n=this.Es.St();if(this.Us(),n.Ni()||t.Ni())return;let l=n.Xs();if(null===l||0===this.Ls.In().Ks())return;let a=this.Ls.Ct();null!==a&&(this.zs=zt(this.Is,l,this.Ns),this.Zs(t,n,a.Ot),this.Gs())}};let Et=class Et extends Lt{constructor(t,n){super(t,n,!0)}Zs(t,n,l){n.Js(this.Is,L(this.zs)),t.Qs(this.Is,l,L(this.zs))}te(t,n){return{ot:t,_t:n,nt:NaN,st:NaN}}qs(){let t=this.Ls.$s();this.Is=this.Ls.In().ie().map(n=>{let l=n.Ot[3];return this.ne(n.se,l,t)})}};let Nt=class Nt extends Et{constructor(t,n){super(t,n),this.Ws=new W,this.ee=new Tt,this.re=new Dt,this.Ws.X([this.ee,this.re])}ne(t,n,l){return Object.assign(Object.assign({},this.te(t,n)),l.Hs(t))}Gs(){let t=this.Ls.W();this.ee.J({ds:t.lineType,it:this.Is,Nt:t.lineStyle,et:t.lineWidth,fs:null,vs:t.invertFilledArea,tt:this.zs,cs:this.Es.St().he()}),this.re.J({ds:t.lineVisible?t.lineType:void 0,it:this.Is,Nt:t.lineStyle,et:t.lineWidth,tt:this.zs,cs:this.Es.St().he(),Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}};let Ft=class Ft extends j{constructor(){super(...arguments),this.zt=null,this.le=0,this.ae=0}J(t){this.zt=t}Z({context:t,horizontalPixelRatio:n,verticalPixelRatio:l}){if(null===this.zt||0===this.zt.In.length||null===this.zt.tt)return;this.le=this.oe(n),this.le>=2&&Math.max(1,Math.floor(n))%2!=this.le%2&&this.le--,this.ae=this.zt._e?Math.min(this.le,Math.floor(n)):this.le;let a=null,u=this.ae<=this.le&&this.zt.he>=Math.floor(1.5*n);for(let d=this.zt.tt.from;d<this.zt.tt.to;++d){let c=this.zt.In[d];a!==c.ue&&(t.fillStyle=c.ue,a=c.ue);let g=Math.floor(.5*this.ae),S=Math.round(c.nt*n),y=S-g,C=this.ae,E=y+C-1,k=Math.min(c.ce,c.de),U=Math.max(c.ce,c.de),K=Math.round(k*l)-g,ti=Math.round(U*l)+g,tl=Math.max(ti-K,this.ae);t.fillRect(y,K,C,tl);let tr=Math.ceil(1.5*this.le);if(u){if(this.zt.fe){let n=S-tr,a=Math.max(K,Math.round(c.ve*l)-g),u=a+C-1;u>K+tl-1&&(a=(u=K+tl-1)-C+1),t.fillRect(n,a,y-n,u-a+1)}let n=S+tr,a=Math.max(K,Math.round(c.pe*l)-g),u=a+C-1;u>K+tl-1&&(a=(u=K+tl-1)-C+1),t.fillRect(E+1,a,n-E,u-a+1)}}}oe(t){return Math.max(Math.floor(t),Math.floor(Math.floor(.3*b(this.zt).he*t)))}};let Wt=class Wt extends Lt{constructor(t,n){super(t,n,!1)}Zs(t,n,l){n.Js(this.Is,L(this.zs)),t.me(this.Is,l,L(this.zs))}be(t,n,l){return{ot:t,we:n.Ot[0],ge:n.Ot[1],Me:n.Ot[2],xe:n.Ot[3],nt:NaN,ve:NaN,ce:NaN,de:NaN,pe:NaN}}qs(){let t=this.Ls.$s();this.Is=this.Ls.In().ie().map(n=>this.ne(n.se,n,t))}};let jt=class jt extends Wt{constructor(){super(...arguments),this.Ws=new Ft}ne(t,n,l){return Object.assign(Object.assign({},this.be(t,n,l)),l.Hs(t))}Gs(){let t=this.Ls.W();this.Ws.J({In:this.Is,he:this.Es.St().he(),fe:t.openVisible,_e:t.thinBars,tt:this.zs})}};let Ht=class Ht extends xt{constructor(){super(...arguments),this.Cs=new Ct}ps(t,n){let l=this.G;return this.Cs.bs(t,{gs:n.Se,Ms:n.ke,xs:n.ye,Ss:n.Ce,ks:t.bitmapSize.height,fs:l.fs})}};let $t=class $t extends Rt{constructor(){super(...arguments),this.Te=new Ct}Ds(t,n){let l=this.G;return this.Te.bs(t,{gs:n.Pe,Ms:n.Pe,xs:n.Re,Ss:n.Re,ks:t.bitmapSize.height,fs:l.fs})}};let Ut=class Ut extends Et{constructor(t,n){super(t,n),this.Ws=new W,this.De=new Ht,this.Oe=new $t,this.Ws.X([this.De,this.Oe])}ne(t,n,l){return Object.assign(Object.assign({},this.te(t,n)),l.Hs(t))}Gs(){let t=this.Ls.Ct();if(null===t)return;let n=this.Ls.W(),l=this.Ls.Dt().Rt(n.baseValue.price,t.Ot),a=this.Es.St().he();this.De.J({it:this.Is,et:n.lineWidth,Nt:n.lineStyle,ds:n.lineType,fs:l,vs:!1,tt:this.zs,cs:a}),this.Oe.J({it:this.Is,et:n.lineWidth,Nt:n.lineStyle,ds:n.lineVisible?n.lineType:void 0,Rs:n.pointMarkersVisible?n.pointMarkersRadius||n.lineWidth/2+2:void 0,fs:l,tt:this.zs,cs:a})}};let qt=class qt extends j{constructor(){super(...arguments),this.zt=null,this.le=0}J(t){this.zt=t}Z(t){var n;if(null===this.zt||0===this.zt.In.length||null===this.zt.tt)return;let{horizontalPixelRatio:l}=t;this.le=(n=this.zt.he)>=2.5&&n<=4?Math.floor(3*l):Math.max(Math.floor(l),Math.min(Math.floor(n*(1-.2*Math.atan(Math.max(4,n)-4)/(.5*Math.PI))*l),Math.floor(n*l))),this.le>=2&&Math.floor(l)%2!=this.le%2&&this.le--;let a=this.zt.In;this.zt.Ae&&this.Be(t,a,this.zt.tt),this.zt._i&&this.Ve(t,a,this.zt.tt);let u=this.Ie(l);(!this.zt._i||this.le>2*u)&&this.ze(t,a,this.zt.tt)}Be(t,n,l){if(null===this.zt)return;let{context:a,horizontalPixelRatio:u,verticalPixelRatio:d}=t,c="",g=Math.min(Math.floor(u),Math.floor(this.zt.he*u));g=Math.max(Math.floor(u),Math.min(g,this.le));let S=Math.floor(.5*g),y=null;for(let t=l.from;t<l.to;t++){let l=n[t];l.Le!==c&&(a.fillStyle=l.Le,c=l.Le);let C=Math.round(Math.min(l.ve,l.pe)*d),E=Math.round(Math.max(l.ve,l.pe)*d),k=Math.round(l.ce*d),U=Math.round(l.de*d),K=Math.round(u*l.nt)-S,ti=K+g-1;null!==y&&(K=Math.min(K=Math.max(y+1,K),ti));let tl=ti-K+1;a.fillRect(K,k,tl,C-k),a.fillRect(K,E+1,tl,U-E),y=ti}}Ie(t){let n=Math.floor(1*t);this.le<=2*n&&(n=Math.floor(.5*(this.le-1)));let l=Math.max(Math.floor(t),n);return this.le<=2*l?Math.max(Math.floor(t),Math.floor(1*t)):l}Ve(t,n,l){if(null===this.zt)return;let{context:a,horizontalPixelRatio:u,verticalPixelRatio:d}=t,c="",g=this.Ie(u),S=null;for(let t=l.from;t<l.to;t++){let l=n[t];l.Ee!==c&&(a.fillStyle=l.Ee,c=l.Ee);let k=Math.round(l.nt*u)-Math.floor(.5*this.le),U=k+this.le-1,K=Math.round(Math.min(l.ve,l.pe)*d),ti=Math.round(Math.max(l.ve,l.pe)*d);if(null!==S&&(k=Math.min(k=Math.max(S+1,k),U)),this.zt.he*u>2*g){var y,C,E;y=k,C=U-k+1,E=ti-K+1,a.fillRect(y+g,K,C-2*g,g),a.fillRect(y+g,K+E-g,C-2*g,g),a.fillRect(y,K,g,E),a.fillRect(y+C-g,K,g,E)}else{let t=U-k+1;a.fillRect(k,K,t,ti-K+1)}S=U}}ze(t,n,l){if(null===this.zt)return;let{context:a,horizontalPixelRatio:u,verticalPixelRatio:d}=t,c="",g=this.Ie(u);for(let t=l.from;t<l.to;t++){let l=n[t],S=Math.round(Math.min(l.ve,l.pe)*d),y=Math.round(Math.max(l.ve,l.pe)*d),C=Math.round(l.nt*u)-Math.floor(.5*this.le),E=C+this.le-1;if(l.ue!==c){let t=l.ue;a.fillStyle=t,c=t}this.zt._i&&(C+=g,S+=g,E-=g,y-=g),S>y||a.fillRect(C,S,E-C+1,y-S+1)}}};let Yt=class Yt extends Wt{constructor(){super(...arguments),this.Ws=new qt}ne(t,n,l){return Object.assign(Object.assign({},this.be(t,n,l)),l.Hs(t))}Gs(){let t=this.Ls.W();this.Ws.J({In:this.Is,he:this.Es.St().he(),Ae:t.wickVisible,_i:t.borderVisible,tt:this.zs})}};let Xt=class Xt{constructor(t,n){this.Ne=t,this.Li=n}K(t,n,l){this.Ne.draw(t,this.Li,n,l)}};let Kt=class Kt extends Lt{constructor(t,n,l){super(t,n,!1),this.wn=l,this.Ws=new Xt(this.wn.renderer(),n=>{let l=t.Ct();return null===l?null:t.Dt().Rt(n,l.Ot)})}Fe(t){return this.wn.priceValueBuilder(t)}We(t){return this.wn.isWhitespace(t)}qs(){let t=this.Ls.$s();this.Is=this.Ls.In().ie().map(n=>Object.assign(Object.assign({ot:n.se,nt:NaN},t.Hs(n.se)),{je:n.He}))}Zs(t,n){n.Js(this.Is,L(this.zs))}Gs(){this.wn.update({bars:this.Is.map(Zt),barSpacing:this.Es.St().he(),visibleRange:this.zs},this.Ls.W())}};function Zt(t){return{x:t.nt,time:t.ot,originalData:t.je,barColor:t.ue}}let Gt=class Gt extends j{constructor(){super(...arguments),this.zt=null,this.$e=[]}J(t){this.zt=t,this.$e=[]}Z({context:t,horizontalPixelRatio:n,verticalPixelRatio:l}){if(null===this.zt||0===this.zt.it.length||null===this.zt.tt)return;this.$e.length||this.Ue(n);let a=Math.max(1,Math.floor(l)),u=Math.round(this.zt.qe*l)-Math.floor(a/2),d=u+a;for(let n=this.zt.tt.from;n<this.zt.tt.to;n++){let c,g;let S=this.zt.it[n],y=this.$e[n-this.zt.tt.from],C=Math.round(S.st*l);t.fillStyle=S.ue,C<=u?(c=C,g=d):(c=u,g=C-Math.floor(a/2)+a),t.fillRect(y.Os,c,y.ui-y.Os+1,g-c)}}Ue(t){if(null===this.zt||0===this.zt.it.length||null===this.zt.tt)return void(this.$e=[]);let n=1>=Math.ceil(this.zt.he*t)?0:Math.max(1,Math.floor(t)),l=Math.round(this.zt.he*t)-n;this.$e=Array(this.zt.tt.to-this.zt.tt.from);for(let n=this.zt.tt.from;n<this.zt.tt.to;n++){let a,u;let d=this.zt.it[n],c=Math.round(d.nt*t);if(l%2){let t=(l-1)/2;a=c-t,u=c+t}else{let t=l/2;a=c-t,u=c+t-1}this.$e[n-this.zt.tt.from]={Os:a,ui:u,Ye:c,Xe:d.nt*t,ot:d.ot}}for(let t=this.zt.tt.from+1;t<this.zt.tt.to;t++){let l=this.$e[t-this.zt.tt.from],a=this.$e[t-this.zt.tt.from-1];l.ot===a.ot+1&&l.Os-a.ui!==n+1&&(a.Ye>a.Xe?a.ui=l.Os-n-1:l.Os=a.ui+n+1)}let a=Math.ceil(this.zt.he*t);for(let t=this.zt.tt.from;t<this.zt.tt.to;t++){let n=this.$e[t-this.zt.tt.from];n.ui<n.Os&&(n.ui=n.Os);let l=n.ui-n.Os+1;a=Math.min(l,a)}if(n>0&&a<4)for(let t=this.zt.tt.from;t<this.zt.tt.to;t++){let n=this.$e[t-this.zt.tt.from];n.ui-n.Os+1>a&&(n.Ye>n.Xe?n.ui-=1:n.Os+=1)}}};let Jt=class Jt extends Et{constructor(){super(...arguments),this.Ws=new Gt}ne(t,n,l){return Object.assign(Object.assign({},this.te(t,n)),l.Hs(t))}Gs(){let t={it:this.Is,he:this.Es.St().he(),tt:this.zs,qe:this.Ls.Dt().Rt(this.Ls.W().base,b(this.Ls.Ct()).Ot)};this.Ws.J(t)}};let Qt=class Qt extends Et{constructor(){super(...arguments),this.Ws=new Dt}ne(t,n,l){return Object.assign(Object.assign({},this.te(t,n)),l.Hs(t))}Gs(){let t=this.Ls.W(),n={it:this.Is,Nt:t.lineStyle,ds:t.lineVisible?t.lineType:void 0,et:t.lineWidth,Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,tt:this.zs,cs:this.Es.St().he()};this.Ws.J(n)}};let t$=/[2-9]/g;let ii=class ii{constructor(t=50){this.Ke=0,this.Ze=1,this.Ge=1,this.Je={},this.Qe=new Map,this.tr=t}ir(){this.Ke=0,this.Qe.clear(),this.Ze=1,this.Ge=1,this.Je={}}xi(t,n,l){return this.nr(t,n,l).width}Mi(t,n,l){let a=this.nr(t,n,l);return((a.actualBoundingBoxAscent||0)-(a.actualBoundingBoxDescent||0))/2}nr(t,n,l){let a=String(n).replace(l||t$,"0");if(this.Qe.has(a))return m(this.Qe.get(a)).sr;if(this.Ke===this.tr){let t=this.Je[this.Ge];delete this.Je[this.Ge],this.Qe.delete(t),this.Ge++,this.Ke--}t.save(),t.textBaseline="middle";let u=t.measureText(a);return t.restore(),0===u.width&&n.length||(this.Qe.set(a,{sr:u,er:this.Ze}),this.Je[this.Ze]=a,this.Ke++,this.Ze++),u}};let ni=class ni{constructor(t){this.rr=null,this.k=null,this.hr="right",this.lr=t}ar(t,n,l){this.rr=t,this.k=n,this.hr=l}K(t){null!==this.k&&null!==this.rr&&this.rr.K(t,this.k,this.lr,this.hr)}};let si=class si{constructor(t,n,l){this._r=t,this.lr=new ii(50),this.ur=n,this.F=l,this.j=-1,this.Wt=new ni(this.lr)}gt(){let t=this.F.cr(this.ur);if(null===t)return null;let n=t.dr(this.ur)?t.vr():this.ur.Dt();if(null===n)return null;let l=t.pr(n);if("overlay"===l)return null;let a=this.F.mr();return a.P!==this.j&&(this.j=a.P,this.lr.ir()),this.Wt.ar(this._r.Ii(),a,l),this.Wt}};let ei=class ei extends j{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}br(t,n){var l;if(!(null===(l=this.zt)||void 0===l?void 0:l.yt))return null;let{st:a,et:u,wr:d}=this.zt;return n>=a-u-7&&n<=a+u+7?{gr:this.zt,wr:d}:null}Z({context:t,bitmapSize:n,horizontalPixelRatio:l,verticalPixelRatio:a}){if(null===this.zt||!1===this.zt.yt)return;let u=Math.round(this.zt.st*a);u<0||u>n.height||(t.lineCap="butt",t.strokeStyle=this.zt.O,t.lineWidth=Math.floor(this.zt.et*l),f(t,this.zt.Nt),v(t,u,0,n.width))}};let ri=class ri{constructor(t){this.Mr={st:0,O:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.Sr=new ei,this.ft=!0,this.Ls=t,this.Es=t.$t(),this.Sr.J(this.Mr)}bt(){this.ft=!0}gt(){return this.Ls.yt()?(this.ft&&(this.kr(),this.ft=!1),this.Sr):null}};let hi=class hi extends ri{constructor(t){super(t)}kr(){this.Mr.yt=!1;let t=this.Ls.Dt(),n=t.yr().yr;if(2!==n&&3!==n)return;let l=this.Ls.W();if(!l.baseLineVisible||!this.Ls.yt())return;let a=this.Ls.Ct();null!==a&&(this.Mr.yt=!0,this.Mr.st=t.Rt(a.Ot,a.Ot),this.Mr.O=l.baseLineColor,this.Mr.et=l.baseLineWidth,this.Mr.Nt=l.baseLineStyle)}};let li=class li extends j{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}He(){return this.zt}Z({context:t,horizontalPixelRatio:n,verticalPixelRatio:l}){let a=this.zt;if(null===a)return;let u=Math.max(1,Math.floor(n)),d=u%2/2,c=Math.round(a.Xe.x*n)+d,g=a.Xe.y*l;t.fillStyle=a.Cr,t.beginPath();let S=Math.max(2,1.5*a.Tr)*n;t.arc(c,g,S,0,2*Math.PI,!1),t.fill(),t.fillStyle=a.Pr,t.beginPath(),t.arc(c,g,a.ht*n,0,2*Math.PI,!1),t.fill(),t.lineWidth=u,t.strokeStyle=a.Rr,t.beginPath(),t.arc(c,g,a.ht*n+u/2,0,2*Math.PI,!1),t.stroke()}};let tR=[{Dr:0,Or:.25,Ar:4,Br:10,Vr:.25,Ir:0,zr:.4,Lr:.8},{Dr:.25,Or:.525,Ar:10,Br:14,Vr:0,Ir:0,zr:.8,Lr:0},{Dr:.525,Or:1,Ar:14,Br:14,Vr:0,Ir:0,zr:0,Lr:0}];function oi(t,n,l,a){return function(t,n){if("transparent"===t)return t;let l=T(t),a=l[3];return`rgba(${l[0]}, ${l[1]}, ${l[2]}, ${n*a})`}(t,l+(a-l)*n)}function _i(t,n){var l;let a;let u=t%2600/2600;for(let t of tR)if(u>=t.Dr&&u<=t.Or){a=t;break}p(void 0!==a,"Last price animation internal logic error");let d=(u-a.Dr)/(a.Or-a.Dr);return{Pr:oi(n,d,a.Vr,a.Ir),Rr:oi(n,d,a.zr,a.Lr),ht:(l=a.Ar)+(a.Br-l)*d}}let ui=class ui{constructor(t){this.Wt=new li,this.ft=!0,this.Er=!0,this.Nr=performance.now(),this.Fr=this.Nr-1,this.Wr=t}jr(){this.Fr=this.Nr-1,this.bt()}Hr(){if(this.bt(),2===this.Wr.W().lastPriceAnimation){let t=performance.now(),n=this.Fr-t;if(n>0)return void(n<650&&(this.Fr+=2600));this.Nr=t,this.Fr=t+2600}}bt(){this.ft=!0}$r(){this.Er=!0}yt(){return 0!==this.Wr.W().lastPriceAnimation}Ur(){switch(this.Wr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Fr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Er=!1):this.Er&&(this.qr(),this.Er=!1),this.Wt}Mt(){this.Wt.J(null);let t=this.Wr.$t().St(),n=t.Xs(),l=this.Wr.Ct();if(null===n||null===l)return;let a=this.Wr.Yr(!0);if(a.Xr||!n.Kr(a.se))return;let u={x:t.It(a.se),y:this.Wr.Dt().Rt(a._t,l.Ot)},d=a.O,c=this.Wr.W().lineWidth,g=_i(this.Zr(),d);this.Wt.J({Cr:d,Tr:c,Pr:g.Pr,Rr:g.Rr,ht:g.ht,Xe:u})}qr(){let t=this.Wt.He();if(null!==t){let n=_i(this.Zr(),t.Cr);t.Pr=n.Pr,t.Rr=n.Rr,t.ht=n.ht}}Zr(){return this.Ur()?performance.now()-this.Nr:2599}};function ci(t,n){return yt(Math.min(Math.max(t,12),30)*n)}function di(t,n){switch(t){case"arrowDown":case"arrowUp":return ci(n,1);case"circle":return ci(n,.8);case"square":return ci(n,.7)}}function fi(t){return function(t){let n=Math.ceil(t);return n%2!=0?n-1:n}(ci(t,1))}function vi(t){return Math.max(ci(t,.1),3)}function pi(t,n,l){return n?t:l?Math.ceil(t/2):0}function mi(t,n,l,a,u){let d=di("square",l),c=(d-1)/2,g=t-c,S=n-c;return a>=g&&a<=g+d&&u>=S&&u<=S+d}function bi(t,n,l,a){let u=(di("arrowUp",a)-1)/2*l.Gr,d=(yt(a/2)-1)/2*l.Gr;n.beginPath(),t?(n.moveTo(l.nt-u,l.st),n.lineTo(l.nt,l.st-u),n.lineTo(l.nt+u,l.st),n.lineTo(l.nt+d,l.st),n.lineTo(l.nt+d,l.st+u),n.lineTo(l.nt-d,l.st+u)):(n.moveTo(l.nt-u,l.st),n.lineTo(l.nt,l.st+u),n.lineTo(l.nt+u,l.st),n.lineTo(l.nt+d,l.st),n.lineTo(l.nt+d,l.st-u),n.lineTo(l.nt-d,l.st-u)),n.lineTo(l.nt-d,l.st),n.fill()}let gi=class gi extends j{constructor(){super(...arguments),this.zt=null,this.lr=new ii,this.j=-1,this.H="",this.Jr=""}J(t){this.zt=t}ar(t,n){this.j===t&&this.H===n||(this.j=t,this.H=n,this.Jr=N(t,n),this.lr.ir())}br(t,n){if(null===this.zt||null===this.zt.tt)return null;for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){let a=this.zt.it[l];if(!(void 0===a.Zt||!function(t,n,l,a,u,d){let c=a/2;return u>=t&&u<=t+l&&d>=n-c&&d<=n+c}(a.Zt.nt,a.Zt.st,a.Zt.Hi,a.Zt.Vt,t,n))||function(t,n,l){if(0===t.Ks)return!1;switch(t.ih){case"arrowDown":case"arrowUp":var a;return a=t.nt,mi(a,t.st,t.Ks,n,l);case"circle":return function(t,n,l,a,u){let d=2+di("circle",l)/2,c=t-a,g=n-u;return Math.sqrt(c*c+g*g)<=d}(t.nt,t.st,t.Ks,n,l);case"square":return mi(t.nt,t.st,t.Ks,n,l)}}(a,t,n))return{gr:a.Qr,wr:a.wr}}return null}Z({context:t,horizontalPixelRatio:n,verticalPixelRatio:l},a,u){if(null!==this.zt&&null!==this.zt.tt){t.textBaseline="middle",t.font=this.Jr;for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){let u=this.zt.it[a];void 0!==u.Zt&&(u.Zt.Hi=this.lr.xi(t,u.Zt.th),u.Zt.Vt=this.j,u.Zt.nt=u.nt-u.Zt.Hi/2),function(t,n,l,a){var u,d,c;n.fillStyle=t.O,void 0!==t.Zt&&(u=t.Zt.th,d=t.Zt.nt,c=t.Zt.st,n.save(),n.scale(l,a),n.fillText(u,d,c),n.restore()),function(t,n,l){if(0!==t.Ks){switch(t.ih){case"arrowDown":return void bi(!1,n,l,t.Ks);case"arrowUp":return void bi(!0,n,l,t.Ks);case"circle":return void function(t,n,l){let a=(di("circle",l)-1)/2;t.beginPath(),t.arc(n.nt,n.st,a*n.Gr,0,2*Math.PI,!1),t.fill()}(n,l,t.Ks);case"square":return void function(t,n,l){let a=di("square",l),u=(a-1)*n.Gr/2,d=n.nt-u,c=n.st-u;t.fillRect(d,c,a*n.Gr,a*n.Gr)}(n,l,t.Ks)}t.ih}}(t,n,{nt:Math.round(t.nt*l)+Math.max(1,Math.floor(l))%2/2,st:t.st*a,Gr:l})}(u,t,n,l)}}}};let ki=class ki{constructor(t,n){this.ft=!0,this.eh=!0,this.rh=!0,this.hh=null,this.ah=null,this.Wt=new gi,this.Wr=t,this.$i=n,this.zt={it:[],tt:null}}bt(t){this.ft=!0,this.rh=!0,"data"===t&&(this.eh=!0,this.ah=null)}gt(t){if(!this.Wr.yt())return null;this.ft&&this.oh();let n=this.$i.W().layout;return this.Wt.ar(n.fontSize,n.fontFamily),this.Wt.J(this.zt),this.Wt}_h(){if(this.rh){if(this.Wr.uh().length>0){let t=this.$i.St().he(),n=vi(t),l=1.5*fi(t)+2*n,a=this.dh();this.hh={above:pi(l,a.aboveBar,a.inBar),below:pi(l,a.belowBar,a.inBar)}}else this.hh=null;this.rh=!1}return this.hh}dh(){return null===this.ah&&(this.ah=this.Wr.uh().reduce((t,n)=>(t[n.position]||(t[n.position]=!0),t),{inBar:!1,aboveBar:!1,belowBar:!1})),this.ah}oh(){let t=this.Wr.Dt(),n=this.$i.St(),l=this.Wr.uh();this.eh&&(this.zt.it=l.map(t=>({ot:t.time,nt:0,st:0,Ks:0,ih:t.shape,O:t.color,Qr:t.Qr,wr:t.id,Zt:void 0})),this.eh=!1);let a=this.$i.W().layout;this.zt.tt=null;let u=n.Xs();if(null===u)return;let d=this.Wr.Ct();if(null===d||0===this.zt.it.length)return;let c=NaN,g=vi(n.he()),S={nh:g,sh:g};this.zt.tt=zt(this.zt.it,u,!0);for(let u=this.zt.tt.from;u<this.zt.tt.to;u++){let y=l[u];y.time!==c&&(S.nh=g,S.sh=g,c=y.time);let C=this.zt.it[u];C.nt=n.It(y.time),void 0!==y.text&&y.text.length>0&&(C.Zt={th:y.text,nt:0,st:0,Hi:0,Vt:0});let E=this.Wr.fh(y.time);null!==E&&function(t,n,l,a,u,d,c,g,S){let y=O(l)?l:l.xe,C=O(l)?l:l.ge,E=O(l)?l:l.Me,k=O(n.size)?Math.max(n.size,0):1,U=fi(g.he())*k,K=U/2;switch(t.Ks=U,n.position){case"inBar":return t.st=c.Rt(y,S),void(void 0!==t.Zt&&(t.Zt.st=t.st+K+d+.6*u));case"aboveBar":return t.st=c.Rt(C,S)-K-a.nh,void 0!==t.Zt&&(t.Zt.st=t.st-K-.6*u,a.nh+=1.2*u),void(a.nh+=U+d);case"belowBar":return t.st=c.Rt(E,S)+K+a.sh,void 0!==t.Zt&&(t.Zt.st=t.st+K+d+.6*u,a.sh+=1.2*u),void(a.sh+=U+d)}n.position}(C,y,E,S,a.fontSize,g,t,n,d.Ot)}this.ft=!1}};let yi=class yi extends ri{constructor(t){super(t)}kr(){let t=this.Mr;t.yt=!1;let n=this.Ls.W();if(!n.priceLineVisible||!this.Ls.yt())return;let l=this.Ls.Yr(0===n.priceLineSource);l.Xr||(t.yt=!0,t.st=l.ki,t.O=this.Ls.ph(l.O),t.et=n.priceLineWidth,t.Nt=n.priceLineStyle)}};let Ci=class Ci extends it{constructor(t){super(),this.jt=t}zi(t,n,l){t.yt=!1,n.yt=!1;let a=this.jt;if(!a.yt())return;let u=a.W(),d=u.lastValueVisible,c=""!==a.mh(),g=0===u.seriesLastValueMode,S=a.Yr(!1);if(S.Xr)return;d&&(t.Zt=this.bh(S,d,g),t.yt=0!==t.Zt.length),(c||g)&&(n.Zt=this.wh(S,d,c,g),n.yt=n.Zt.length>0);let y=a.ph(S.O),C=P(y);l.t=C.t,l.ki=S.ki,n.At=a.$t().Bt(S.ki/a.Dt().Vt()),t.At=y,t.O=C.i,n.O=C.i}wh(t,n,l,a){let u="",d=this.jt.mh();return l&&0!==d.length&&(u+=`${d} `),n&&a&&(u+=this.jt.Dt().gh()?t.Mh:t.xh),u.trim()}bh(t,n,l){return n?l?this.jt.Dt().gh()?t.xh:t.Mh:t.Zt:""}};function Ti(t,n,l,a){let u=Number.isFinite(n),d=Number.isFinite(l);return u&&d?t(n,l):u||d?u?n:l:a}let Pi=class Pi{constructor(t,n){this.Sh=t,this.kh=n}yh(t){return null!==t&&this.Sh===t.Sh&&this.kh===t.kh}Ch(){return new Pi(this.Sh,this.kh)}Th(){return this.Sh}Ph(){return this.kh}Rh(){return this.kh-this.Sh}Ni(){return this.kh===this.Sh||Number.isNaN(this.kh)||Number.isNaN(this.Sh)}ts(t){return null===t?this:new Pi(Ti(Math.min,this.Th(),t.Th(),-1/0),Ti(Math.max,this.Ph(),t.Ph(),1/0))}Dh(t){if(!O(t)||0==this.kh-this.Sh)return;let n=.5*(this.kh+this.Sh),l=this.kh-n,a=this.Sh-n;l*=t,a*=t,this.kh=n+l,this.Sh=n+a}Oh(t){O(t)&&(this.kh+=t,this.Sh+=t)}Ah(){return{minValue:this.Sh,maxValue:this.kh}}static Bh(t){return null===t?null:new Pi(t.minValue,t.maxValue)}};let Ri=class Ri{constructor(t,n){this.Vh=t,this.Ih=n||null}zh(){return this.Vh}Lh(){return this.Ih}Ah(){return null===this.Vh?null:{priceRange:this.Vh.Ah(),margins:this.Ih||void 0}}static Bh(t){return null===t?null:new Ri(Pi.Bh(t.priceRange),t.margins)}};let Di=class Di extends ri{constructor(t,n){super(t),this.Eh=n}kr(){let t=this.Mr;t.yt=!1;let n=this.Eh.W();if(!this.Ls.yt()||!n.lineVisible)return;let l=this.Eh.Nh();null!==l&&(t.yt=!0,t.st=l,t.O=n.color,t.et=n.lineWidth,t.Nt=n.lineStyle,t.wr=this.Eh.W().id)}};let Oi=class Oi extends it{constructor(t,n){super(),this.Wr=t,this.Eh=n}zi(t,n,l){t.yt=!1,n.yt=!1;let a=this.Eh.W(),u=a.axisLabelVisible,d=""!==a.title,c=this.Wr;if(!u||!c.yt())return;let g=this.Eh.Nh();if(null===g)return;d&&(n.Zt=a.title,n.yt=!0),n.At=c.$t().Bt(g/c.Dt().Vt()),t.Zt=this.Fh(a.price),t.yt=!0;let S=P(a.axisLabelColor||a.color);l.t=S.t;let y=a.axisLabelTextColor||S.i;t.O=y,n.O=y,l.ki=g}Fh(t){let n=this.Wr.Ct();return null===n?"":this.Wr.Dt().Fi(t,n.Ot)}};let Ai=class Ai{constructor(t,n){this.Wr=t,this.cn=n,this.Wh=new Di(t,this),this._r=new Oi(t,this),this.jh=new si(this._r,t,t.$t())}Hh(t){D(this.cn,t),this.bt(),this.Wr.$t().$h()}W(){return this.cn}Uh(){return this.Wh}qh(){return this.jh}Yh(){return this._r}bt(){this.Wh.bt(),this._r.bt()}Nh(){let t=this.Wr,n=t.Dt();if(t.$t().St().Ni()||n.Ni())return null;let l=t.Ct();return null===l?null:n.Rt(this.cn.price,l.Ot)}};let Bi=class Bi extends ht{constructor(t){super(),this.$i=t}$t(){return this.$i}};let tN={Bar:(t,n,l,a)=>{var u;let d=n.upColor,c=n.downColor,g=b(t(l,a)),S=w(g.Ot[0])<=w(g.Ot[3]);return{ue:null!==(u=g.O)&&void 0!==u?u:S?d:c}},Candlestick:(t,n,l,a)=>{var u,d,c;let g=n.upColor,S=n.downColor,y=n.borderUpColor,C=n.borderDownColor,E=n.wickUpColor,k=n.wickDownColor,U=b(t(l,a)),K=w(U.Ot[0])<=w(U.Ot[3]);return{ue:null!==(u=U.O)&&void 0!==u?u:K?g:S,Ee:null!==(d=U.At)&&void 0!==d?d:K?y:C,Le:null!==(c=U.Xh)&&void 0!==c?c:K?E:k}},Custom:(t,n,l,a)=>{var u;return{ue:null!==(u=b(t(l,a)).O)&&void 0!==u?u:n.color}},Area:(t,n,l,a)=>{var u,d,c,g;let S=b(t(l,a));return{ue:null!==(u=S.lt)&&void 0!==u?u:n.lineColor,lt:null!==(d=S.lt)&&void 0!==d?d:n.lineColor,Ts:null!==(c=S.Ts)&&void 0!==c?c:n.topColor,Ps:null!==(g=S.Ps)&&void 0!==g?g:n.bottomColor}},Baseline:(t,n,l,a)=>{var u,d,c,g,S,y;let C=b(t(l,a));return{ue:C.Ot[3]>=n.baseValue.price?n.topLineColor:n.bottomLineColor,Pe:null!==(u=C.Pe)&&void 0!==u?u:n.topLineColor,Re:null!==(d=C.Re)&&void 0!==d?d:n.bottomLineColor,Se:null!==(c=C.Se)&&void 0!==c?c:n.topFillColor1,ke:null!==(g=C.ke)&&void 0!==g?g:n.topFillColor2,ye:null!==(S=C.ye)&&void 0!==S?S:n.bottomFillColor1,Ce:null!==(y=C.Ce)&&void 0!==y?y:n.bottomFillColor2}},Line:(t,n,l,a)=>{var u,d;let c=b(t(l,a));return{ue:null!==(u=c.O)&&void 0!==u?u:n.color,lt:null!==(d=c.O)&&void 0!==d?d:n.color}},Histogram:(t,n,l,a)=>{var u;return{ue:null!==(u=b(t(l,a)).O)&&void 0!==u?u:n.color}}};let Ii=class Ii{constructor(t){this.Kh=(t,n)=>void 0!==n?n.Ot:this.Wr.In().Zh(t),this.Wr=t,this.Gh=tN[t.Jh()]}Hs(t,n){return this.Gh(this.Kh,this.Wr.W(),t,n)}};(c=tl||(tl={}))[c.NearestLeft=-1]="NearestLeft",c[c.None=0]="None",c[c.NearestRight=1]="NearestRight";let Ei=class Ei{constructor(){this.Qh=[],this.tl=new Map,this.il=new Map}nl(){return this.Ks()>0?this.Qh[this.Qh.length-1]:null}sl(){return this.Ks()>0?this.el(0):null}Vn(){return this.Ks()>0?this.el(this.Qh.length-1):null}Ks(){return this.Qh.length}Ni(){return 0===this.Ks()}Kr(t){return null!==this.rl(t,0)}Zh(t){return this.hl(t)}hl(t,n=0){let l=this.rl(t,n);return null===l?null:Object.assign(Object.assign({},this.ll(l)),{se:this.el(l)})}ie(){return this.Qh}al(t,n,l){if(this.Ni())return null;let a=null;for(let u of l)a=Ni(a,this.ol(t,n,u));return a}J(t){this.il.clear(),this.tl.clear(),this.Qh=t}el(t){return this.Qh[t].se}ll(t){return this.Qh[t]}rl(t,n){let l=this._l(t);if(null===l&&0!==n)switch(n){case -1:return this.ul(t);case 1:return this.cl(t);default:throw TypeError("Unknown search mode")}return l}ul(t){let n=this.dl(t);return n>0&&(n-=1),n!==this.Qh.length&&this.el(n)<t?n:null}cl(t){let n=this.fl(t);return n!==this.Qh.length&&t<this.el(n)?n:null}_l(t){let n=this.dl(t);return n===this.Qh.length||t<this.Qh[n].se?null:n}dl(t){return tP(this.Qh,t,(t,n)=>t.se<n)}fl(t){return tD(this.Qh,t,(t,n)=>t.se>n)}vl(t,n,l){let a=null;for(let u=t;u<n;u++){let t=this.Qh[u].Ot[l];Number.isNaN(t)||(null===a?a={pl:t,ml:t}:(t<a.pl&&(a.pl=t),t>a.ml&&(a.ml=t)))}return a}ol(t,n,l){if(this.Ni())return null;let a=null,u=b(this.sl()),d=b(this.Vn()),c=Math.max(t,u),g=Math.min(n,d),S=30*Math.ceil(c/30),y=Math.max(S,30*Math.floor(g/30));{let t=this.dl(c),u=this.fl(Math.min(g,S,n));a=Ni(a,this.vl(t,u,l))}let C=this.tl.get(l);void 0===C&&(C=new Map,this.tl.set(l,C));for(let t=Math.max(S+1,c);t<y;t+=30){let n=Math.floor(t/30),u=C.get(n);if(void 0===u){let t=this.dl(30*n),a=this.fl((n+1)*30-1);u=this.vl(t,a,l),C.set(n,u)}a=Ni(a,u)}{let t=this.dl(y),n=this.fl(g);a=Ni(a,this.vl(t,n,l))}return a}};function Ni(t,n){return null===t?n:null===n?t:{pl:Math.min(t.pl,n.pl),ml:Math.max(t.ml,n.ml)}}let Fi=class Fi{constructor(t){this.bl=t}K(t,n,l){this.bl.draw(t)}wl(t,n,l){var a,u;null===(u=(a=this.bl).drawBackground)||void 0===u||u.call(a,t)}};let Wi=class Wi{constructor(t){this.Qe=null,this.wn=t}gt(){var t;let n=this.wn.renderer();if(null===n)return null;if((null===(t=this.Qe)||void 0===t?void 0:t.gl)===n)return this.Qe.Ml;let l=new Fi(n);return this.Qe={gl:n,Ml:l},l}xl(){var t,n,l;return null!==(l=null===(n=(t=this.wn).zOrder)||void 0===n?void 0:n.call(t))&&void 0!==l?l:"normal"}};function ji(t){var n,l,a,u,d;return{Zt:t.text(),ki:t.coordinate(),Si:null===(n=t.fixedCoordinate)||void 0===n?void 0:n.call(t),O:t.textColor(),t:t.backColor(),yt:null===(a=null===(l=t.visible)||void 0===l?void 0:l.call(t))||void 0===a||a,hi:null===(d=null===(u=t.tickVisible)||void 0===u?void 0:u.call(t))||void 0===d||d}}let Hi=class Hi{constructor(t,n){this.Wt=new et,this.Sl=t,this.kl=n}gt(){return this.Wt.J(Object.assign({Hi:this.kl.Hi()},ji(this.Sl))),this.Wt}};let $i=class $i extends it{constructor(t,n){super(),this.Sl=t,this.Li=n}zi(t,n,l){let a=ji(this.Sl);l.t=a.t,t.O=a.O;let u=2/12*this.Li.P();l.wi=u,l.gi=u,l.ki=a.ki,l.Si=a.Si,t.Zt=a.Zt,t.yt=a.yt,t.hi=a.hi}};let Ui=class Ui{constructor(t,n){this.yl=null,this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=t,this.Wr=n}Ol(){return this.Dl}On(){var t,n;null===(n=(t=this.Dl).updateAllViews)||void 0===n||n.call(t)}Pn(){var t,n,l,a;let u=null!==(l=null===(n=(t=this.Dl).paneViews)||void 0===n?void 0:n.call(t))&&void 0!==l?l:[];if((null===(a=this.yl)||void 0===a?void 0:a.gl)===u)return this.yl.Ml;let d=u.map(t=>new Wi(t));return this.yl={gl:u,Ml:d},d}Qi(){var t,n,l,a;let u=null!==(l=null===(n=(t=this.Dl).timeAxisViews)||void 0===n?void 0:n.call(t))&&void 0!==l?l:[];if((null===(a=this.Cl)||void 0===a?void 0:a.gl)===u)return this.Cl.Ml;let d=this.Wr.$t().St(),c=u.map(t=>new Hi(t,d));return this.Cl={gl:u,Ml:c},c}Rn(){var t,n,l,a;let u=null!==(l=null===(n=(t=this.Dl).priceAxisViews)||void 0===n?void 0:n.call(t))&&void 0!==l?l:[];if((null===(a=this.Tl)||void 0===a?void 0:a.gl)===u)return this.Tl.Ml;let d=this.Wr.Dt(),c=u.map(t=>new $i(t,d));return this.Tl={gl:u,Ml:c},c}Al(){var t,n,l,a;let u=null!==(l=null===(n=(t=this.Dl).priceAxisPaneViews)||void 0===n?void 0:n.call(t))&&void 0!==l?l:[];if((null===(a=this.Pl)||void 0===a?void 0:a.gl)===u)return this.Pl.Ml;let d=u.map(t=>new Wi(t));return this.Pl={gl:u,Ml:d},d}Bl(){var t,n,l,a;let u=null!==(l=null===(n=(t=this.Dl).timeAxisPaneViews)||void 0===n?void 0:n.call(t))&&void 0!==l?l:[];if((null===(a=this.Rl)||void 0===a?void 0:a.gl)===u)return this.Rl.Ml;let d=u.map(t=>new Wi(t));return this.Rl={gl:u,Ml:d},d}Vl(t,n){var l,a,u;return null!==(u=null===(a=(l=this.Dl).autoscaleInfo)||void 0===a?void 0:a.call(l,t,n))&&void 0!==u?u:null}br(t,n){var l,a,u;return null!==(u=null===(a=(l=this.Dl).hitTest)||void 0===a?void 0:a.call(l,t,n))&&void 0!==u?u:null}};function qi(t,n,l,a){t.forEach(t=>{n(t).forEach(t=>{t.xl()===l&&a.push(t)})})}function Yi(t){return t.Pn()}function Xi(t){return t.Al()}function Ki(t){return t.Bl()}let Zi=class Zi extends Bi{constructor(t,n,l,a,u){super(t),this.zt=new Ei,this.Wh=new yi(this),this.Il=[],this.zl=new hi(this),this.Ll=null,this.El=null,this.Nl=[],this.Fl=[],this.Wl=null,this.jl=[],this.cn=n,this.Hl=l;let d=new Ci(this);this.rn=[d],this.jh=new si(d,this,t),"Area"!==l&&"Line"!==l&&"Baseline"!==l||(this.Ll=new ui(this)),this.$l(),this.Ul(u)}S(){null!==this.Wl&&clearTimeout(this.Wl)}ph(t){return this.cn.priceLineColor||t}Yr(t){let n,l;let a={Xr:!0},u=this.Dt();if(this.$t().St().Ni()||u.Ni()||this.zt.Ni())return a;let d=this.$t().St().Xs(),c=this.Ct();if(null===d||null===c)return a;if(t){let t=this.zt.nl();if(null===t)return a;n=t,l=t.se}else{let t=this.zt.hl(d.ui(),-1);if(null===t||null===(n=this.zt.Zh(t.se)))return a;l=t.se}let g=n.Ot[3],S=this.$s().Hs(l,{Ot:n}),y=u.Rt(g,c.Ot);return{Xr:!1,_t:g,Zt:u.Fi(g,c.Ot),Mh:u.ql(g),xh:u.Yl(g,c.Ot),O:S.ue,ki:y,se:l}}$s(){return null!==this.El||(this.El=new Ii(this)),this.El}W(){return this.cn}Hh(t){let n=t.priceScaleId;void 0!==n&&n!==this.cn.priceScaleId&&this.$t().Xl(this,n),D(this.cn,t),void 0!==t.priceFormat&&(this.$l(),this.$t().Kl()),this.$t().Zl(this),this.$t().Gl(),this.wn.bt("options")}J(t,n){this.zt.J(t),this.Jl(),this.wn.bt("data"),this.dn.bt("data"),null!==this.Ll&&(n&&n.Ql?this.Ll.Hr():0===t.length&&this.Ll.jr());let l=this.$t().cr(this);this.$t().ta(l),this.$t().Zl(this),this.$t().Gl(),this.$t().$h()}ia(t){this.Nl=t,this.Jl();let n=this.$t().cr(this);this.dn.bt("data"),this.$t().ta(n),this.$t().Zl(this),this.$t().Gl(),this.$t().$h()}na(){return this.Nl}uh(){return this.Fl}sa(t){let n=new Ai(this,t);return this.Il.push(n),this.$t().Zl(this),n}ea(t){let n=this.Il.indexOf(t);-1!==n&&this.Il.splice(n,1),this.$t().Zl(this)}Jh(){return this.Hl}Ct(){let t=this.ra();return null===t?null:{Ot:t.Ot[3],ha:t.ot}}ra(){let t=this.$t().St().Xs();if(null===t)return null;let n=t.Os();return this.zt.hl(n,1)}In(){return this.zt}fh(t){let n=this.zt.Zh(t);return null===n?null:"Bar"===this.Hl||"Candlestick"===this.Hl||"Custom"===this.Hl?{we:n.Ot[0],ge:n.Ot[1],Me:n.Ot[2],xe:n.Ot[3]}:n.Ot[3]}la(t){let n=[];qi(this.jl,Yi,"top",n);let l=this.Ll;return null!==l&&l.yt()&&(null===this.Wl&&l.Ur()&&(this.Wl=setTimeout(()=>{this.Wl=null,this.$t().aa()},0)),l.$r(),n.unshift(l)),n}Pn(){let t=[];this.oa()||t.push(this.zl),t.push(this.wn,this.Wh,this.dn);let n=this.Il.map(t=>t.Uh());return t.push(...n),qi(this.jl,Yi,"normal",t),t}_a(){return this.ua(Yi,"bottom")}ca(t){return this.ua(Xi,t)}da(t){return this.ua(Ki,t)}fa(t,n){return this.jl.map(l=>l.br(t,n)).filter(t=>null!==t)}Ji(t){return[this.jh,...this.Il.map(t=>t.qh())]}Rn(t,n){if(n!==this.Yi&&!this.oa())return[];let l=[...this.rn];for(let t of this.Il)l.push(t.Yh());return this.jl.forEach(t=>{l.push(...t.Rn())}),l}Qi(){let t=[];return this.jl.forEach(n=>{t.push(...n.Qi())}),t}Vl(t,n){if(void 0!==this.cn.autoscaleInfoProvider){let l=this.cn.autoscaleInfoProvider(()=>{let l=this.va(t,n);return null===l?null:l.Ah()});return Ri.Bh(l)}return this.va(t,n)}pa(){return this.cn.priceFormat.minMove}ma(){return this.ba}On(){var t;for(let t of(this.wn.bt(),this.dn.bt(),this.rn))t.bt();for(let t of this.Il)t.bt();this.Wh.bt(),this.zl.bt(),null===(t=this.Ll)||void 0===t||t.bt(),this.jl.forEach(t=>t.On())}Dt(){return b(super.Dt())}kt(t){if(!(("Line"===this.Hl||"Area"===this.Hl||"Baseline"===this.Hl)&&this.cn.crosshairMarkerVisible))return null;let n=this.zt.Zh(t);return null===n?null:{_t:n.Ot[3],ht:this.wa(),At:this.ga(),Pt:this.Ma(),Tt:this.xa(t)}}mh(){return this.cn.title}yt(){return this.cn.visible}Sa(t){this.jl.push(new Ui(t,this))}ka(t){this.jl=this.jl.filter(n=>n.Ol()!==t)}ya(){if(this.wn instanceof Kt!=!1)return t=>this.wn.Fe(t)}Ca(){if(this.wn instanceof Kt!=!1)return t=>this.wn.We(t)}oa(){return!ot(this.Dt().Ta())}va(t,n){if(!A(t)||!A(n)||this.zt.Ni())return null;let l="Line"===this.Hl||"Area"===this.Hl||"Baseline"===this.Hl||"Histogram"===this.Hl?[3]:[2,1],a=this.zt.al(t,n,l),u=null!==a?new Pi(a.pl,a.ml):null;if("Histogram"===this.Jh()){let t=this.cn.base,n=new Pi(t,t);u=null!==u?u.ts(n):n}let d=this.dn._h();return this.jl.forEach(l=>{var a,c,g,S;let y=l.Vl(t,n);if(null==y?void 0:y.priceRange){let t=new Pi(y.priceRange.minValue,y.priceRange.maxValue);u=null!==u?u.ts(t):t}(null==y?void 0:y.margins)&&(a=d,c=y.margins,d={above:Math.max(null!==(g=null==a?void 0:a.above)&&void 0!==g?g:0,c.above),below:Math.max(null!==(S=null==a?void 0:a.below)&&void 0!==S?S:0,c.below)})}),new Ri(u,d)}wa(){switch(this.Hl){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}ga(){switch(this.Hl){case"Line":case"Area":case"Baseline":{let t=this.cn.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}Ma(){switch(this.Hl){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}xa(t){switch(this.Hl){case"Line":case"Area":case"Baseline":{let t=this.cn.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this.$s().Hs(t).ue}$l(){switch(this.cn.priceFormat.type){case"custom":this.ba={format:this.cn.priceFormat.formatter};break;case"volume":this.ba=new vt(this.cn.priceFormat.precision);break;case"percent":this.ba=new ft(this.cn.priceFormat.precision);break;default:{let t=Math.pow(10,this.cn.priceFormat.precision);this.ba=new dt(t,this.cn.priceFormat.minMove*t)}}null!==this.Yi&&this.Yi.Pa()}Jl(){let t=this.$t().St();if(!t.Ra()||this.zt.Ni())return void(this.Fl=[]);let n=b(this.zt.sl());this.Fl=this.Nl.map((l,a)=>{let u=b(t.Da(l.time,!0)),d=u<n?1:-1;return{time:b(this.zt.hl(u,d)).se,position:l.position,shape:l.shape,color:l.color,id:l.id,Qr:a,text:l.text,size:l.size,originalTime:l.originalTime}})}Ul(t){switch(this.dn=new ki(this,this.$t()),this.Hl){case"Bar":this.wn=new jt(this,this.$t());break;case"Candlestick":this.wn=new Yt(this,this.$t());break;case"Line":this.wn=new Qt(this,this.$t());break;case"Custom":this.wn=new Kt(this,this.$t(),m(t));break;case"Area":this.wn=new Nt(this,this.$t());break;case"Baseline":this.wn=new Ut(this,this.$t());break;case"Histogram":this.wn=new Jt(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.Hl)}}ua(t,n){let l=[];return qi(this.jl,t,n,l),l}};let Gi=class Gi{constructor(t){this.cn=t}Oa(t,n,l){if(0===this.cn.mode)return t;let a=l.vn(),u=a.Ct();if(null===u)return t;let d=a.Rt(t,u),c=l.Aa().filter(t=>t instanceof Zi).reduce((t,a)=>{if(l.dr(a)||!a.yt())return t;let u=a.Dt(),d=a.In();if(u.Ni()||!d.Kr(n))return t;let c=d.Zh(n);if(null===c)return t;let g=w(a.Ct());return t.concat([u.Rt(c.Ot[3],g.Ot)])},[]);if(0===c.length)return t;c.sort((t,n)=>Math.abs(t-d)-Math.abs(n-d));let g=c[0];return a.pn(g,u)}};let Ji=class Ji extends j{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}Z({context:t,bitmapSize:n,horizontalPixelRatio:l,verticalPixelRatio:a}){if(null===this.zt)return;let u=Math.max(1,Math.floor(l));t.lineWidth=u,t.save(),t.lineWidth%2&&t.translate(.5,.5),(()=>{let d=b(this.zt);if(d.Ba){for(let a of(t.strokeStyle=d.Va,f(t,d.Ia),t.beginPath(),d.za)){let d=Math.round(a.La*l);t.moveTo(d,-u),t.lineTo(d,n.height+u)}t.stroke()}if(d.Ea){for(let l of(t.strokeStyle=d.Na,f(t,d.Fa),t.beginPath(),d.Wa)){let d=Math.round(l.La*a);t.moveTo(-u,d),t.lineTo(n.width+u,d)}t.stroke()}})(),t.restore()}};let Qi=class Qi{constructor(t){this.Wt=new Ji,this.ft=!0,this.tn=t}bt(){this.ft=!0}gt(){if(this.ft){let t=this.tn.$t().W().grid,n={Ea:t.horzLines.visible,Ba:t.vertLines.visible,Na:t.horzLines.color,Va:t.vertLines.color,Fa:t.horzLines.style,Ia:t.vertLines.style,Wa:this.tn.vn().ja(),za:(this.tn.$t().St().ja()||[]).map(t=>({La:t.coord}))};this.Wt.J(n),this.ft=!1}return this.Wt}};let tn=class tn{constructor(t){this.wn=new Qi(t)}Uh(){return this.wn}};let tW={Ha:4,$a:1e-4};function sn(t,n){let l=100*(t-n)/n;return n<0?-l:l}function rn(t,n){let l=100*(t-n)/n+100;return n<0?-l:l}function ln(t,n){let l=Math.abs(t);if(l<1e-15)return 0;let a=Math.log10(l+n.$a)+n.Ha;return t<0?-a:a}function an(t,n){let l=Math.abs(t);if(l<1e-15)return 0;let a=Math.pow(10,l-n.Ha)-n.$a;return t<0?-a:a}function on(t,n){if(null===t)return null;let l=ln(t.Th(),n),a=ln(t.Ph(),n);return new Pi(l,a)}function _n(t,n){if(null===t)return null;let l=an(t.Th(),n),a=an(t.Ph(),n);return new Pi(l,a)}function un(t){if(null===t)return tW;let n=Math.abs(t.Ph()-t.Th());if(n>=1||n<1e-15)return tW;let l=tW.Ha+Math.ceil(Math.abs(Math.log10(n)));return{Ha:l,$a:1/Math.pow(10,l)}}let cn=class cn{constructor(t,n){if(this.Ua=t,this.qa=n,function(t){if(t<0)return!1;for(let n=t;n>1;n/=10)if(n%10!=0)return!1;return!0}(this.Ua))this.Ya=[2,2.5,2];else{this.Ya=[];for(let t=this.Ua;1!==t;){if(t%2==0)this.Ya.push(2),t/=2;else{if(t%5!=0)throw Error("unexpected base");this.Ya.push(2,2.5),t/=5}if(this.Ya.length>100)throw Error("something wrong with base")}}}Xa(t,n,l){let a=0===this.Ua?0:1/this.Ua,u=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-n)))),d=0,c=this.qa[0];for(;;){let t=a-u<=1e-14&&u>a+1e-14,n=l*c-u<=1e-14,g=1-u<=1e-14;if(!(t&&n&&g))break;u/=c,c=this.qa[++d%this.qa.length]}if(u<=a+1e-14&&(u=a),u=Math.max(1,u),this.Ya.length>0&&1e-14>Math.abs(u-1))for(d=0,c=this.Ya[0];l*c-u<=1e-14&&u>a+1e-14;)u/=c,c=this.Ya[++d%this.Ya.length];return u}};let dn=class dn{constructor(t,n,l,a){this.Ka=[],this.Li=t,this.Ua=n,this.Za=l,this.Ga=a}Xa(t,n){if(t<n)throw Error("high < low");let l=this.Li.Vt(),a=(t-n)*this.Ja()/l,u=new cn(this.Ua,[2,2.5,2]),d=new cn(this.Ua,[2,2,2.5]),c=new cn(this.Ua,[2.5,2,2]),g=[];return g.push(u.Xa(t,n,a),d.Xa(t,n,a),c.Xa(t,n,a)),function(t){if(t.length<1)throw Error("array is empty");let n=t[0];for(let l=1;l<t.length;++l)t[l]<n&&(n=t[l]);return n}(g)}Qa(){let t=this.Li,n=t.Ct();if(null===n)return void(this.Ka=[]);let l=t.Vt(),a=this.Za(l-1,n),u=this.Za(0,n),d=this.Li.W().entireTextOnly?this.io()/2:0,c=l-1-d,g=Math.max(a,u),S=Math.min(a,u);if(g===S)return void(this.Ka=[]);let y=this.Xa(g,S),C=g%y;C+=C<0?y:0;let E=g>=S?1:-1,k=null,U=0;for(let l=g-C;l>S;l-=y){let a=this.Ga(l,n,!0);null!==k&&Math.abs(a-k)<this.Ja()||a<d||a>c||(U<this.Ka.length?(this.Ka[U].La=a,this.Ka[U].no=t.so(l)):this.Ka.push({La:a,no:t.so(l)}),U++,k=a,t.eo()&&(y=this.Xa(l*E,S)))}this.Ka.length=U}ja(){return this.Ka}io(){return this.Li.P()}Ja(){return Math.ceil(2.5*this.io())}};function fn(t){return t.slice().sort((t,n)=>b(t.Ki())-b(n.Ki()))}(g=tr||(tr={}))[g.Normal=0]="Normal",g[g.Logarithmic=1]="Logarithmic",g[g.Percentage=2]="Percentage",g[g.IndexedTo100=3]="IndexedTo100";let tB=new ft,tI=new dt(100,1);let bn=class bn{constructor(t,n,l,a){this.ro=0,this.ho=null,this.Vh=null,this.lo=null,this.ao={oo:!1,_o:null},this.uo=0,this.co=0,this.do=new R,this.fo=new R,this.vo=[],this.po=null,this.mo=null,this.bo=null,this.wo=null,this.ba=tI,this.Mo=un(null),this.xo=t,this.cn=n,this.So=l,this.ko=a,this.yo=new dn(this,100,this.Co.bind(this),this.To.bind(this))}Ta(){return this.xo}W(){return this.cn}Hh(t){if(D(this.cn,t),this.Pa(),void 0!==t.mode&&this.Po({yr:t.mode}),void 0!==t.scaleMargins){let n=m(t.scaleMargins.top),l=m(t.scaleMargins.bottom);if(n<0||n>1)throw Error(`Invalid top margin - expect value between 0 and 1, given=${n}`);if(l<0||l>1)throw Error(`Invalid bottom margin - expect value between 0 and 1, given=${l}`);if(n+l>1)throw Error(`Invalid margins - sum of margins must be less than 1, given=${n+l}`);this.Ro(),this.mo=null}}Do(){return this.cn.autoScale}eo(){return 1===this.cn.mode}gh(){return 2===this.cn.mode}Oo(){return 3===this.cn.mode}yr(){return{Wn:this.cn.autoScale,Ao:this.cn.invertScale,yr:this.cn.mode}}Po(t){let n=this.yr(),l=null;void 0!==t.Wn&&(this.cn.autoScale=t.Wn),void 0!==t.yr&&(this.cn.mode=t.yr,2!==t.yr&&3!==t.yr||(this.cn.autoScale=!0),this.ao.oo=!1),1===n.yr&&t.yr!==n.yr&&(function(t,n){if(null===t)return!1;let l=an(t.Th(),n),a=an(t.Ph(),n);return isFinite(l)&&isFinite(a)}(this.Vh,this.Mo)?null!==(l=_n(this.Vh,this.Mo))&&this.Bo(l):this.cn.autoScale=!0),1===t.yr&&t.yr!==n.yr&&null!==(l=on(this.Vh,this.Mo))&&this.Bo(l);let a=n.yr!==this.cn.mode;a&&(2===n.yr||this.gh())&&this.Pa(),a&&(3===n.yr||this.Oo())&&this.Pa(),void 0!==t.Ao&&n.Ao!==t.Ao&&(this.cn.invertScale=t.Ao,this.Vo()),this.fo.m(n,this.yr())}Io(){return this.fo}P(){return this.So.fontSize}Vt(){return this.ro}zo(t){this.ro!==t&&(this.ro=t,this.Ro(),this.mo=null)}Lo(){if(this.ho)return this.ho;let t=this.Vt()-this.Eo()-this.No();return this.ho=t,t}zh(){return this.Fo(),this.Vh}Bo(t,n){let l=this.Vh;(n||null===l&&null!==t||null!==l&&!l.yh(t))&&(this.mo=null,this.Vh=t)}Ni(){return this.Fo(),0===this.ro||!this.Vh||this.Vh.Ni()}Wo(t){return this.Ao()?t:this.Vt()-1-t}Rt(t,n){return this.gh()?t=sn(t,n):this.Oo()&&(t=rn(t,n)),this.To(t,n)}Qs(t,n,l){this.Fo();let a=this.No(),u=b(this.zh()),d=u.Th(),c=u.Ph(),g=this.Lo()-1,S=this.Ao(),y=g/(c-d),C=void 0===l?0:l.from,E=void 0===l?t.length:l.to,k=this.jo();for(let l=C;l<E;l++){let u=t[l],c=u._t;if(isNaN(c))continue;let g=c;null!==k&&(g=k(u._t,n));let C=a+y*(g-d),E=S?C:this.ro-1-C;u.st=E}}me(t,n,l){this.Fo();let a=this.No(),u=b(this.zh()),d=u.Th(),c=u.Ph(),g=this.Lo()-1,S=this.Ao(),y=g/(c-d),C=void 0===l?0:l.from,E=void 0===l?t.length:l.to,k=this.jo();for(let l=C;l<E;l++){let u=t[l],c=u.we,g=u.ge,C=u.Me,E=u.xe;null!==k&&(c=k(u.we,n),g=k(u.ge,n),C=k(u.Me,n),E=k(u.xe,n));let U=a+y*(c-d),K=S?U:this.ro-1-U;u.ve=K,U=a+y*(g-d),K=S?U:this.ro-1-U,u.ce=K,U=a+y*(C-d),K=S?U:this.ro-1-U,u.de=K,U=a+y*(E-d),K=S?U:this.ro-1-U,u.pe=K}}pn(t,n){let l=this.Co(t,n);return this.Ho(l,n)}Ho(t,n){var l,a;let u=t;return this.gh()?(l=u,n<0&&(l=-l),u=l/100*n+n):this.Oo()&&(a=u-100,n<0&&(a=-a),u=a/100*n+n),u}Aa(){return this.vo}$o(){if(this.po)return this.po;let t=[];for(let n=0;n<this.vo.length;n++){let l=this.vo[n];null===l.Ki()&&l.Zi(n+1),t.push(l)}return t=fn(t),this.po=t,this.po}Uo(t){-1===this.vo.indexOf(t)&&(this.vo.push(t),this.Pa(),this.qo())}Yo(t){let n=this.vo.indexOf(t);if(-1===n)throw Error("source is not attached to scale");this.vo.splice(n,1),0===this.vo.length&&(this.Po({Wn:!0}),this.Bo(null)),this.Pa(),this.qo()}Ct(){let t=null;for(let n of this.vo){let l=n.Ct();null!==l&&(null===t||l.ha<t.ha)&&(t=l)}return null===t?null:t.Ot}Ao(){return this.cn.invertScale}ja(){let t=null===this.Ct();if(null!==this.mo&&(t||this.mo.Xo===t))return this.mo.ja;this.yo.Qa();let n=this.yo.ja();return this.mo={ja:n,Xo:t},this.do.m(),n}Ko(){return this.do}Zo(t){this.gh()||this.Oo()||null===this.bo&&null===this.lo&&(this.Ni()||(this.bo=this.ro-t,this.lo=b(this.zh()).Ch()))}Go(t){if(this.gh()||this.Oo()||null===this.bo)return;this.Po({Wn:!1}),(t=this.ro-t)<0&&(t=0);let n=(this.bo+.2*(this.ro-1))/(t+.2*(this.ro-1)),l=b(this.lo).Ch();n=Math.max(n,.1),l.Dh(n),this.Bo(l)}Jo(){this.gh()||this.Oo()||(this.bo=null,this.lo=null)}Qo(t){this.Do()||null===this.wo&&null===this.lo&&(this.Ni()||(this.wo=t,this.lo=b(this.zh()).Ch()))}t_(t){if(this.Do()||null===this.wo)return;let n=b(this.zh()).Rh()/(this.Lo()-1),l=t-this.wo;this.Ao()&&(l*=-1);let a=l*n,u=b(this.lo).Ch();u.Oh(a),this.Bo(u,!0),this.mo=null}i_(){this.Do()||null!==this.wo&&(this.wo=null,this.lo=null)}ma(){return this.ba||this.Pa(),this.ba}Fi(t,n){switch(this.cn.mode){case 2:return this.n_(sn(t,n));case 3:return this.ma().format(rn(t,n));default:return this.Fh(t)}}so(t){switch(this.cn.mode){case 2:return this.n_(t);case 3:return this.ma().format(t);default:return this.Fh(t)}}ql(t){return this.Fh(t,b(this.s_()).ma())}Yl(t,n){return t=sn(t,n),this.n_(t,tB)}e_(){return this.vo}r_(t){this.ao={_o:t,oo:!1}}On(){this.vo.forEach(t=>t.On())}Pa(){this.mo=null;let t=this.s_(),n=100;null!==t&&(n=Math.round(1/t.pa())),this.ba=tI,this.gh()?(this.ba=tB,n=100):this.Oo()?(this.ba=new dt(100,1),n=100):null!==t&&(this.ba=t.ma()),this.yo=new dn(this,n,this.Co.bind(this),this.To.bind(this)),this.yo.Qa()}qo(){this.po=null}s_(){return this.vo[0]||null}Eo(){return this.Ao()?this.cn.scaleMargins.bottom*this.Vt()+this.co:this.cn.scaleMargins.top*this.Vt()+this.uo}No(){return this.Ao()?this.cn.scaleMargins.top*this.Vt()+this.uo:this.cn.scaleMargins.bottom*this.Vt()+this.co}Fo(){this.ao.oo||(this.ao.oo=!0,this.h_())}Ro(){this.ho=null}To(t,n){if(this.Fo(),this.Ni())return 0;t=this.eo()&&t?ln(t,this.Mo):t;let l=b(this.zh()),a=this.No()+(this.Lo()-1)*(t-l.Th())/l.Rh();return this.Wo(a)}Co(t,n){if(this.Fo(),this.Ni())return 0;let l=this.Wo(t),a=b(this.zh()),u=a.Th()+a.Rh()*((l-this.No())/(this.Lo()-1));return this.eo()?an(u,this.Mo):u}Vo(){this.mo=null,this.yo.Qa()}h_(){var t;let n=this.ao._o;if(null===n)return;let l=null,a=this.e_(),u=0,d=0;for(let t of a){if(!t.yt())continue;let a=t.Ct();if(null===a)continue;let c=t.Vl(n.Os(),n.ui()),g=c&&c.zh();if(null!==g){switch(this.cn.mode){case 1:g=on(g,this.Mo);break;case 2:g=function(t,n){let l=sn(t.Th(),n),a=sn(t.Ph(),n);return new Pi(l,a)}(g,a.Ot);break;case 3:g=function(t,n){let l=rn(t.Th(),n),a=rn(t.Ph(),n);return new Pi(l,a)}(g,a.Ot)}if(l=null===l?g:l.ts(b(g)),null!==c){let t=c.Lh();null!==t&&(u=Math.max(u,t.above),d=Math.max(d,t.below))}}}if(u===this.uo&&d===this.co||(this.uo=u,this.co=d,this.mo=null,this.Ro()),null!==l){if(l.Th()===l.Ph()){let t=this.s_(),n=5*(null===t||this.gh()||this.Oo()?1:t.pa());this.eo()&&(l=_n(l,this.Mo)),l=new Pi(l.Th()-n,l.Ph()+n),this.eo()&&(l=on(l,this.Mo))}if(this.eo()){let n=_n(l,this.Mo),a=un(n);if(t=this.Mo,a.Ha!==t.Ha||a.$a!==t.$a){let t=null!==this.lo?_n(this.lo,this.Mo):null;this.Mo=a,l=on(n,a),null!==t&&(this.lo=on(t,a))}}this.Bo(l)}else null===this.Vh&&(this.Bo(new Pi(-.5,.5)),this.Mo=un(null));this.ao.oo=!0}jo(){return this.gh()?sn:this.Oo()?rn:this.eo()?t=>ln(t,this.Mo):null}l_(t,n,l){return void 0===n?(void 0===l&&(l=this.ma()),l.format(t)):n(t)}Fh(t,n){return this.l_(t,this.ko.priceFormatter,n)}n_(t,n){return this.l_(t,this.ko.percentageFormatter,n)}};let wn=class wn{constructor(t,n){this.vo=[],this.a_=new Map,this.ro=0,this.o_=0,this.__=1e3,this.po=null,this.u_=new R,this.kl=t,this.$i=n,this.c_=new tn(this);let l=n.W();this.d_=this.f_("left",l.leftPriceScale),this.v_=this.f_("right",l.rightPriceScale),this.d_.Io().l(this.p_.bind(this,this.d_),this),this.v_.Io().l(this.p_.bind(this,this.v_),this),this.m_(l)}m_(t){if(t.leftPriceScale&&this.d_.Hh(t.leftPriceScale),t.rightPriceScale&&this.v_.Hh(t.rightPriceScale),t.localization&&(this.d_.Pa(),this.v_.Pa()),t.overlayPriceScales){let n=Array.from(this.a_.values());for(let l of n){let n=b(l[0].Dt());n.Hh(t.overlayPriceScales),t.localization&&n.Pa()}}}b_(t){switch(t){case"left":return this.d_;case"right":return this.v_}return this.a_.has(t)?m(this.a_.get(t))[0].Dt():null}S(){this.$t().w_().p(this),this.d_.Io().p(this),this.v_.Io().p(this),this.vo.forEach(t=>{t.S&&t.S()}),this.u_.m()}g_(){return this.__}M_(t){this.__=t}$t(){return this.$i}Hi(){return this.o_}Vt(){return this.ro}x_(t){this.o_=t,this.S_()}zo(t){this.ro=t,this.d_.zo(t),this.v_.zo(t),this.vo.forEach(n=>{if(this.dr(n)){let l=n.Dt();null!==l&&l.zo(t)}}),this.S_()}Aa(){return this.vo}dr(t){let n=t.Dt();return null===n||this.d_!==n&&this.v_!==n}Uo(t,n,l){let a=void 0!==l?l:this.y_().k_+1;this.C_(t,n,a)}Yo(t){let n=this.vo.indexOf(t);p(-1!==n,"removeDataSource: invalid data source"),this.vo.splice(n,1);let l=b(t.Dt()).Ta();if(this.a_.has(l)){let n=m(this.a_.get(l)),a=n.indexOf(t);-1!==a&&(n.splice(a,1),0===n.length&&this.a_.delete(l))}let a=t.Dt();a&&a.Aa().indexOf(t)>=0&&a.Yo(t),null!==a&&(a.qo(),this.T_(a)),this.po=null}pr(t){return t===this.d_?"left":t===this.v_?"right":"overlay"}P_(){return this.d_}R_(){return this.v_}D_(t,n){t.Zo(n)}O_(t,n){t.Go(n),this.S_()}A_(t){t.Jo()}B_(t,n){t.Qo(n)}V_(t,n){t.t_(n),this.S_()}I_(t){t.i_()}S_(){this.vo.forEach(t=>{t.On()})}vn(){let t=null;return this.$i.W().rightPriceScale.visible&&0!==this.v_.Aa().length?t=this.v_:this.$i.W().leftPriceScale.visible&&0!==this.d_.Aa().length?t=this.d_:0!==this.vo.length&&(t=this.vo[0].Dt()),null===t&&(t=this.v_),t}vr(){let t=null;return this.$i.W().rightPriceScale.visible?t=this.v_:this.$i.W().leftPriceScale.visible&&(t=this.d_),t}T_(t){null!==t&&t.Do()&&this.z_(t)}L_(t){let n=this.kl.Xs();t.Po({Wn:!0}),null!==n&&t.r_(n),this.S_()}E_(){this.z_(this.d_),this.z_(this.v_)}N_(){this.T_(this.d_),this.T_(this.v_),this.vo.forEach(t=>{this.dr(t)&&this.T_(t.Dt())}),this.S_(),this.$i.$h()}$o(){return null===this.po&&(this.po=fn(this.vo)),this.po}F_(){return this.u_}W_(){return this.c_}z_(t){let n=t.e_();if(n&&n.length>0&&!this.kl.Ni()){let n=this.kl.Xs();null!==n&&t.r_(n)}t.On()}y_(){let t=this.$o();if(0===t.length)return{j_:0,k_:0};let n=0,l=0;for(let a=0;a<t.length;a++){let u=t[a].Ki();null!==u&&(u<n&&(n=u),u>l&&(l=u))}return{j_:n,k_:l}}C_(t,n,l){let a=this.b_(n);if(null===a&&(a=this.f_(n,this.$i.W().overlayPriceScales)),this.vo.push(t),!ot(n)){let l=this.a_.get(n)||[];l.push(t),this.a_.set(n,l)}a.Uo(t),t.Gi(a),t.Zi(l),this.T_(a),this.po=null}p_(t,n,l){n.yr!==l.yr&&this.z_(t)}f_(t,n){let l=Object.assign({visible:!0,autoScale:!0},I(n)),a=new bn(t,l,this.$i.W().layout,this.$i.W().localization);return a.zo(this.Vt()),a}};let gn=class gn{constructor(t,n,l=50){this.Ke=0,this.Ze=1,this.Ge=1,this.Qe=new Map,this.Je=new Map,this.H_=t,this.U_=n,this.tr=l}q_(t){let n=t.time,l=this.U_.cacheKey(n),a=this.Qe.get(l);if(void 0!==a)return a.Y_;if(this.Ke===this.tr){let t=this.Je.get(this.Ge);this.Je.delete(this.Ge),this.Qe.delete(m(t)),this.Ge++,this.Ke--}let u=this.H_(t);return this.Qe.set(l,{Y_:u,er:this.Ze}),this.Je.set(this.Ze,l),this.Ke++,this.Ze++,u}};let Mn=class Mn{constructor(t,n){p(t<=n,"right should be >= left"),this.X_=t,this.K_=n}Os(){return this.X_}ui(){return this.K_}Z_(){return this.K_-this.X_+1}Kr(t){return this.X_<=t&&t<=this.K_}yh(t){return this.X_===t.Os()&&this.K_===t.ui()}};function xn(t,n){return null===t||null===n?t===n:t.yh(n)}let Sn=class Sn{constructor(){this.G_=new Map,this.Qe=null,this.J_=!1}Q_(t){this.J_=t,this.Qe=null}tu(t,n){this.iu(n),this.Qe=null;for(let l=n;l<t.length;++l){let n=t[l],a=this.G_.get(n.timeWeight);void 0===a&&(a=[],this.G_.set(n.timeWeight,a)),a.push({index:l,time:n.time,weight:n.timeWeight,originalTime:n.originalTime})}}nu(t,n){let l=Math.ceil(n/t);return null!==this.Qe&&this.Qe.su===l||(this.Qe={ja:this.eu(l),su:l}),this.Qe.ja}iu(t){if(0===t)return void this.G_.clear();let n=[];for(let l of(this.G_.forEach((l,a)=>{t<=l[0].index?n.push(a):l.splice(tP(l,t,n=>n.index<t),1/0)}),n))this.G_.delete(l)}eu(t){let n=[];for(let l of Array.from(this.G_.keys()).sort((t,n)=>n-t)){if(!this.G_.get(l))continue;let a=n;n=[];let u=a.length,d=0,c=m(this.G_.get(l)),g=c.length,S=1/0,y=-1/0;for(let l=0;l<g;l++){let g=c[l],C=g.index;for(;d<u;){let t=a[d],l=t.index;if(!(l<C)){S=l;break}d++,n.push(t),y=l,S=1/0}if(S-C>=t&&C-y>=t)n.push(g),y=C;else if(this.J_)return a}for(;d<u;d++)n.push(a[d])}return n}};let kn=class kn{constructor(t){this.ru=t}hu(){return null===this.ru?null:new Mn(Math.floor(this.ru.Os()),Math.ceil(this.ru.ui()))}lu(){return this.ru}static au(){return new kn(null)}};function yn(t,n){return t.weight>n.weight?t:n}let Cn=class Cn{constructor(t,n,l,a){this.o_=0,this.ou=null,this._u=[],this.wo=null,this.bo=null,this.uu=new Sn,this.cu=new Map,this.du=kn.au(),this.fu=!0,this.vu=new R,this.pu=new R,this.mu=new R,this.bu=null,this.wu=null,this.gu=[],this.cn=n,this.ko=l,this.Mu=n.rightOffset,this.xu=n.barSpacing,this.$i=t,this.U_=a,this.Su(),this.uu.Q_(n.uniformDistribution)}W(){return this.cn}ku(t){D(this.ko,t),this.yu(),this.Su()}Hh(t,n){var l;D(this.cn,t),this.cn.fixLeftEdge&&this.Cu(),this.cn.fixRightEdge&&this.Tu(),void 0!==t.barSpacing&&this.$i.Gn(t.barSpacing),void 0!==t.rightOffset&&this.$i.Jn(t.rightOffset),void 0!==t.minBarSpacing&&this.$i.Gn(null!==(l=t.barSpacing)&&void 0!==l?l:this.xu),this.yu(),this.Su(),this.mu.m()}mn(t){var n,l;return null!==(l=null===(n=this._u[t])||void 0===n?void 0:n.time)&&void 0!==l?l:null}Ui(t){var n;return null!==(n=this._u[t])&&void 0!==n?n:null}Da(t,n){if(this._u.length<1)return null;if(this.U_.key(t)>this.U_.key(this._u[this._u.length-1].time))return n?this._u.length-1:null;let l=tP(this._u,this.U_.key(t),(t,n)=>this.U_.key(t.time)<n);return this.U_.key(t)<this.U_.key(this._u[l].time)?n?l:null:l}Ni(){return 0===this.o_||0===this._u.length||null===this.ou}Ra(){return this._u.length>0}Xs(){return this.Pu(),this.du.hu()}Ru(){return this.Pu(),this.du.lu()}Du(){let t=this.Xs();if(null===t)return null;let n={from:t.Os(),to:t.ui()};return this.Ou(n)}Ou(t){let n=Math.round(t.from),l=Math.round(t.to),a=b(this.Au()),u=b(this.Bu());return{from:b(this.Ui(Math.max(a,n))),to:b(this.Ui(Math.min(u,l)))}}Vu(t){return{from:b(this.Da(t.from,!0)),to:b(this.Da(t.to,!0))}}Hi(){return this.o_}x_(t){if(!isFinite(t)||t<=0||this.o_===t)return;let n=this.Ru(),l=this.o_;if(this.o_=t,this.fu=!0,this.cn.lockVisibleTimeRangeOnResize&&0!==l){let n=this.xu*t/l;this.xu=n}this.cn.fixLeftEdge&&null!==n&&0>=n.Os()&&(this.Mu-=Math.round((l-t)/this.xu)+1,this.fu=!0),this.Iu(),this.zu()}It(t){if(this.Ni()||!A(t))return 0;let n=this.Lu()+this.Mu-t;return this.o_-(n+.5)*this.xu-1}Js(t,n){let l=this.Lu(),a=void 0===n?0:n.from,u=void 0===n?t.length:n.to;for(let n=a;n<u;n++){let a=t[n].ot,u=l+this.Mu-a,d=this.o_-(u+.5)*this.xu-1;t[n].nt=d}}Eu(t){return Math.ceil(this.Nu(t))}Jn(t){this.fu=!0,this.Mu=t,this.zu(),this.$i.Fu(),this.$i.$h()}he(){return this.xu}Gn(t){this.Wu(t),this.zu(),this.$i.Fu(),this.$i.$h()}ju(){return this.Mu}ja(){if(this.Ni())return null;if(null!==this.wu)return this.wu;let t=this.xu,n=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),l=Math.round(n/t),a=b(this.Xs()),u=Math.max(a.Os(),a.Os()-l),d=Math.max(a.ui(),a.ui()-l),c=this.uu.nu(t,n),g=this.Au()+l,S=this.Bu()-l,y=this.Hu(),C=this.cn.fixLeftEdge||y,E=this.cn.fixRightEdge||y,k=0;for(let t of c){let l;u<=t.index&&t.index<=d&&(k<this.gu.length?((l=this.gu[k]).coord=this.It(t.index),l.label=this.$u(t),l.weight=t.weight):(l={needAlignCoordinate:!1,coord:this.It(t.index),label:this.$u(t),weight:t.weight},this.gu.push(l)),this.xu>n/2&&!y?l.needAlignCoordinate=!1:l.needAlignCoordinate=C&&t.index<=g||E&&t.index>=S,k++)}return this.gu.length=k,this.wu=this.gu,this.gu}Uu(){this.fu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}qu(t){this.fu=!0,this.ou=t,this.zu(),this.Cu()}Yu(t,n){let l=this.Nu(t),a=this.he();this.Gn(a+n*(a/10)),this.cn.rightBarStaysOnScroll||this.Jn(this.ju()+(l-this.Nu(t)))}Zo(t){this.wo&&this.i_(),null===this.bo&&null===this.bu&&(this.Ni()||(this.bo=t,this.Xu()))}Go(t){if(null===this.bu)return;let n=St(this.o_-t,0,this.o_),l=St(this.o_-b(this.bo),0,this.o_);0!==n&&0!==l&&this.Gn(this.bu.he*n/l)}Jo(){null!==this.bo&&(this.bo=null,this.Ku())}Qo(t){null===this.wo&&null===this.bu&&(this.Ni()||(this.wo=t,this.Xu()))}t_(t){if(null===this.wo)return;let n=(this.wo-t)/this.he();this.Mu=b(this.bu).ju+n,this.fu=!0,this.zu()}i_(){null!==this.wo&&(this.wo=null,this.Ku())}Zu(){this.Gu(this.cn.rightOffset)}Gu(t,n=400){if(!isFinite(t))throw RangeError("offset is required and must be finite number");if(!isFinite(n)||n<=0)throw RangeError("animationDuration (optional) must be finite positive number");let l=this.Mu,a=performance.now();this.$i.Xn({Ju:t=>(t-a)/n>=1,Qu:u=>{let d=(u-a)/n;return d>=1?t:l+(t-l)*d}})}bt(t,n){this.fu=!0,this._u=t,this.uu.tu(t,n),this.zu()}tc(){return this.vu}nc(){return this.pu}sc(){return this.mu}Lu(){return this.ou||0}ec(t){let n=t.Z_();this.Wu(this.o_/n),this.Mu=t.ui()-this.Lu(),this.zu(),this.fu=!0,this.$i.Fu(),this.$i.$h()}rc(){let t=this.Au(),n=this.Bu();null!==t&&null!==n&&this.ec(new Mn(t,n+this.cn.rightOffset))}hc(t){let n=new Mn(t.from,t.to);this.ec(n)}qi(t){return void 0!==this.ko.timeFormatter?this.ko.timeFormatter(t.originalTime):this.U_.formatHorzItem(t.time)}Hu(){let{handleScroll:t,handleScale:n}=this.$i.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}Au(){return 0===this._u.length?null:0}Bu(){return 0===this._u.length?null:this._u.length-1}lc(t){return(this.o_-1-t)/this.xu}Nu(t){let n=this.lc(t),l=this.Lu()+this.Mu-n;return Math.round(1e6*l)/1e6}Wu(t){let n=this.xu;this.xu=t,this.Iu(),n!==this.xu&&(this.fu=!0,this.ac())}Pu(){if(!this.fu)return;if(this.fu=!1,this.Ni())return void this.oc(kn.au());let t=this.Lu(),n=this.o_/this.xu,l=this.Mu+t,a=new Mn(l-n+1,l);this.oc(new kn(a))}Iu(){let t=this._c();if(this.xu<t&&(this.xu=t,this.fu=!0),0!==this.o_){let t=.5*this.o_;this.xu>t&&(this.xu=t,this.fu=!0)}}_c(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&0!==this._u.length?this.o_/this._u.length:this.cn.minBarSpacing}zu(){let t=this.uc();this.Mu>t&&(this.Mu=t,this.fu=!0);let n=this.cc();null!==n&&this.Mu<n&&(this.Mu=n,this.fu=!0)}cc(){let t=this.Au(),n=this.ou;return null===t||null===n?null:t-n-1+(this.cn.fixLeftEdge?this.o_/this.xu:Math.min(2,this._u.length))}uc(){return this.cn.fixRightEdge?0:this.o_/this.xu-Math.min(2,this._u.length)}Xu(){this.bu={he:this.he(),ju:this.ju()}}Ku(){this.bu=null}$u(t){let n=this.cu.get(t.weight);return void 0===n&&(n=new gn(t=>this.dc(t),this.U_),this.cu.set(t.weight,n)),n.q_(t)}dc(t){return this.U_.formatTickmark(t,this.ko)}oc(t){let n=this.du;this.du=t,xn(n.hu(),this.du.hu())||this.vu.m(),xn(n.lu(),this.du.lu())||this.pu.m(),this.ac()}ac(){this.wu=null}yu(){this.ac(),this.cu.clear()}Su(){this.U_.updateFormatter(this.ko)}Cu(){if(!this.cn.fixLeftEdge)return;let t=this.Au();if(null===t)return;let n=this.Xs();if(null===n)return;let l=n.Os()-t;if(l<0){let t=this.Mu-l-1;this.Jn(t)}this.Iu()}Tu(){this.zu(),this.Iu()}};let Tn=class Tn{K(t,n,l){t.useMediaCoordinateSpace(t=>this.Z(t,n,l))}wl(t,n,l){t.useMediaCoordinateSpace(t=>this.fc(t,n,l))}fc(t,n,l){}};let Pn=class Pn extends Tn{constructor(t){super(),this.vc=new Map,this.zt=t}Z(t){}fc(t){if(!this.zt.yt)return;let{context:n,mediaSize:l}=t,a=0;for(let t of this.zt.mc){if(0===t.Zt.length)continue;n.font=t.R;let u=this.bc(n,t.Zt);u>l.width?t.Yu=l.width/u:t.Yu=1,a+=t.wc*t.Yu}let u=0;switch(this.zt.gc){case"top":u=0;break;case"center":u=Math.max((l.height-a)/2,0);break;case"bottom":u=Math.max(l.height-a,0)}for(let t of(n.fillStyle=this.zt.O,this.zt.mc)){n.save();let a=0;switch(this.zt.Mc){case"left":n.textAlign="left",a=t.wc/2;break;case"center":n.textAlign="center",a=l.width/2;break;case"right":n.textAlign="right",a=l.width-1-t.wc/2}n.translate(a,u),n.textBaseline="top",n.font=t.R,n.scale(t.Yu,t.Yu),n.fillText(t.Zt,0,t.xc),n.restore(),u+=t.wc*t.Yu}}bc(t,n){let l=this.Sc(t.font),a=l.get(n);return void 0===a&&(a=t.measureText(n).width,l.set(n,a)),a}Sc(t){let n=this.vc.get(t);return void 0===n&&(n=new Map,this.vc.set(t,n)),n}};let Rn=class Rn{constructor(t){this.ft=!0,this.Ft={yt:!1,O:"",mc:[],gc:"center",Mc:"center"},this.Wt=new Pn(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){let t=this.jt.W(),n=this.Ft;n.yt=t.visible,n.yt&&(n.O=t.color,n.Mc=t.horzAlign,n.gc=t.vertAlign,n.mc=[{Zt:t.text,R:N(t.fontSize,t.fontFamily,t.fontStyle),wc:1.2*t.fontSize,xc:0,Yu:0}])}};let Dn=class Dn extends ht{constructor(t,n){super(),this.cn=n,this.wn=new Rn(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}On(){this.wn.bt()}};(S=th||(th={}))[S.OnTouchEnd=0]="OnTouchEnd",S[S.OnNextTap=1]="OnNextTap";let zn=class zn{constructor(t,n,l){this.kc=[],this.yc=[],this.o_=0,this.Cc=null,this.Tc=new R,this.Pc=new R,this.Rc=null,this.Dc=t,this.cn=n,this.U_=l,this.Oc=new F(this),this.kl=new Cn(this,n.timeScale,this.cn.localization,l),this.vt=new at(this,n.crosshair),this.Ac=new Gi(n.crosshair),this.Bc=new Dn(this,n.watermark),this.Vc(),this.kc[0].M_(2e3),this.Ic=this.zc(0),this.Lc=this.zc(1)}Kl(){this.Ec(_t.es())}$h(){this.Ec(_t.ss())}aa(){this.Ec(new _t(1))}Zl(t){let n=this.Nc(t);this.Ec(n)}Fc(){return this.Cc}Wc(t){let n=this.Cc;this.Cc=t,null!==n&&this.Zl(n.jc),null!==t&&this.Zl(t.jc)}W(){return this.cn}Hh(t){D(this.cn,t),this.kc.forEach(n=>n.m_(t)),void 0!==t.timeScale&&this.kl.Hh(t.timeScale),void 0!==t.localization&&this.kl.ku(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Tc.m(),this.Ic=this.zc(0),this.Lc=this.zc(1),this.Kl()}Hc(t,n){if("left"===t)return void this.Hh({leftPriceScale:n});if("right"===t)return void this.Hh({rightPriceScale:n});let l=this.$c(t);null!==l&&(l.Dt.Hh(n),this.Tc.m())}$c(t){for(let n of this.kc){let l=n.b_(t);if(null!==l)return{Ht:n,Dt:l}}return null}St(){return this.kl}Uc(){return this.kc}qc(){return this.Bc}Yc(){return this.vt}Xc(){return this.Pc}Kc(t,n){t.zo(n),this.Fu()}x_(t){this.o_=t,this.kl.x_(this.o_),this.kc.forEach(n=>n.x_(t)),this.Fu()}Vc(t){let n=new wn(this.kl,this);void 0!==t?this.kc.splice(t,0,n):this.kc.push(n);let l=void 0===t?this.kc.length-1:t,a=_t.es();return a.Nn(l,{Fn:0,Wn:!0}),this.Ec(a),n}D_(t,n,l){t.D_(n,l)}O_(t,n,l){t.O_(n,l),this.Gl(),this.Ec(this.Zc(t,2))}A_(t,n){t.A_(n),this.Ec(this.Zc(t,2))}B_(t,n,l){n.Do()||t.B_(n,l)}V_(t,n,l){n.Do()||(t.V_(n,l),this.Gl(),this.Ec(this.Zc(t,2)))}I_(t,n){n.Do()||(t.I_(n),this.Ec(this.Zc(t,2)))}L_(t,n){t.L_(n),this.Ec(this.Zc(t,2))}Gc(t){this.kl.Zo(t)}Jc(t,n){let l=this.St();if(l.Ni()||0===n)return;let a=l.Hi();t=Math.max(1,Math.min(t,a)),l.Yu(t,n),this.Fu()}Qc(t){this.td(0),this.nd(t),this.sd()}ed(t){this.kl.Go(t),this.Fu()}rd(){this.kl.Jo(),this.$h()}td(t){this.kl.Qo(t)}nd(t){this.kl.t_(t),this.Fu()}sd(){this.kl.i_(),this.$h()}wt(){return this.yc}hd(t,n,l,a,u){this.vt.gn(t,n);let d=NaN,c=this.kl.Eu(t),g=this.kl.Xs();null!==g&&(c=Math.min(Math.max(g.Os(),c),g.ui()));let S=a.vn(),y=S.Ct();null!==y&&(d=S.pn(n,y)),d=this.Ac.Oa(d,c,a),this.vt.kn(c,d,a),this.aa(),u||this.Pc.m(this.vt.xt(),{x:t,y:n},l)}ld(t,n,l){let a=l.vn(),u=a.Ct(),d=a.Rt(t,b(u)),c=this.kl.Da(n,!0),g=this.kl.It(b(c));this.hd(g,d,null,l,!0)}ad(t){this.Yc().Cn(),this.aa(),t||this.Pc.m(null,null,null)}Gl(){let t=this.vt.Ht();if(null!==t){let n=this.vt.xn(),l=this.vt.Sn();this.hd(n,l,null,t)}this.vt.On()}od(t,n,l){let a=this.kl.mn(0);void 0!==n&&void 0!==l&&this.kl.bt(n,l);let u=this.kl.mn(0),d=this.kl.Lu(),c=this.kl.Xs();if(null!==c&&null!==a&&null!==u){let n=c.Kr(d),g=this.U_.key(a)>this.U_.key(u),S=null!==t&&t>d&&!g,y=this.kl.W().allowShiftVisibleRangeOnWhitespaceReplacement,C=n&&(void 0!==l||y)&&this.kl.W().shiftVisibleRangeOnNewBar;if(S&&!C){let n=t-d;this.kl.Jn(this.kl.ju()-n)}}this.kl.qu(t)}ta(t){null!==t&&t.N_()}cr(t){let n=this.kc.find(n=>n.$o().includes(t));return void 0===n?null:n}Fu(){this.Bc.On(),this.kc.forEach(t=>t.N_()),this.Gl()}S(){this.kc.forEach(t=>t.S()),this.kc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}_d(){return this.Oc}mr(){return this.Oc.W()}w_(){return this.Tc}ud(t,n,l){let a=this.kc[0],u=this.dd(n,t,a,l);return this.yc.push(u),1===this.yc.length?this.Kl():this.$h(),u}fd(t){let n=this.cr(t),l=this.yc.indexOf(t);p(-1!==l,"Series not found"),this.yc.splice(l,1),b(n).Yo(t),t.S&&t.S()}Xl(t,n){let l=b(this.cr(t));l.Yo(t);let a=this.$c(n);if(null===a){let a=t.Ki();l.Uo(t,n,a)}else{let u=a.Ht===l?t.Ki():void 0;a.Ht.Uo(t,n,u)}}rc(){let t=_t.ss();t.$n(),this.Ec(t)}vd(t){let n=_t.ss();n.Yn(t),this.Ec(n)}Zn(){let t=_t.ss();t.Zn(),this.Ec(t)}Gn(t){let n=_t.ss();n.Gn(t),this.Ec(n)}Jn(t){let n=_t.ss();n.Jn(t),this.Ec(n)}Xn(t){let n=_t.ss();n.Xn(t),this.Ec(n)}Un(){let t=_t.ss();t.Un(),this.Ec(t)}pd(){return this.cn.rightPriceScale.visible?"right":"left"}md(){return this.Lc}q(){return this.Ic}Bt(t){let n=this.Lc,l=this.Ic;if(n===l)return n;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.Rc||this.Rc.Ts!==l||this.Rc.Ps!==n)this.Rc={Ts:l,Ps:n,bd:new Map};else{let n=this.Rc.bd.get(t);if(void 0!==n)return n}let a=function(t,n,l){let[a,u,d,c]=T(t),[g,S,y,C]=T(n),E=[M(a+l*(g-a)),M(u+l*(S-u)),M(d+l*(y-d)),x(c+l*(C-c))];return`rgba(${E[0]}, ${E[1]}, ${E[2]}, ${E[3]})`}(l,n,t/100);return this.Rc.bd.set(t,a),a}Zc(t,n){let l=new _t(n);if(null!==t){let a=this.kc.indexOf(t);l.Nn(a,{Fn:n})}return l}Nc(t,n){return void 0===n&&(n=2),this.Zc(this.cr(t),n)}Ec(t){this.Dc&&this.Dc(t),this.kc.forEach(t=>t.W_().Uh().bt())}dd(t,n,l,a){let u=new Zi(this,t,n,l,a),d=void 0!==t.priceScaleId?t.priceScaleId:this.pd();return l.Uo(u,d),ot(d)||u.Hh(t),u}zc(t){let n=this.cn.layout;return"gradient"===n.background.type?0===t?n.background.topColor:n.background.bottomColor:n.background.color}};function Ln(t){return!O(t)&&!B(t)}(y=ta||(ta={}))[y.Disabled=0]="Disabled",y[y.Continuous=1]="Continuous",y[y.OnDataUpdate=2]="OnDataUpdate",(C=to||(to={}))[C.LastBar=0]="LastBar",C[C.LastVisible=1]="LastVisible",(E=tu||(tu={})).Solid="solid",E.VerticalGradient="gradient",(k=td||(td={}))[k.Year=0]="Year",k[k.Month=1]="Month",k[k.DayOfMonth=2]="DayOfMonth",k[k.Time=3]="Time",k[k.TimeWithSeconds=4]="TimeWithSeconds";let Nn=t=>t.getUTCFullYear();let Wn=class Wn{constructor(t="yyyy-MM-dd",n="default"){this.wd=t,this.gd=n}q_(t){var n,l,a;return n=t,l=this.wd,a=this.gd,l.replace(/yyyy/g,ct(Nn(n),4)).replace(/yy/g,ct(Nn(n)%100,2)).replace(/MMMM/g,new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(a,{month:"long"})).replace(/MMM/g,new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(a,{month:"short"})).replace(/MM/g,ct(n.getUTCMonth()+1,2)).replace(/dd/g,ct(n.getUTCDate(),2))}};let jn=class jn{constructor(t){this.Md=t||"%h:%m:%s"}q_(t){return this.Md.replace("%h",ct(t.getUTCHours(),2)).replace("%m",ct(t.getUTCMinutes(),2)).replace("%s",ct(t.getUTCSeconds(),2))}};let tA={xd:"yyyy-MM-dd",Sd:"%h:%m:%s",kd:" ",yd:"default"};let $n=class $n{constructor(t={}){let n=Object.assign(Object.assign({},tA),t);this.Cd=new Wn(n.xd,n.yd),this.Td=new jn(n.Sd),this.Pd=n.kd}q_(t){return`${this.Cd.q_(t)}${this.Pd}${this.Td.q_(t)}`}};function Un(t){return 60*t*6e4}function qn(t){return 60*t*1e3}let tF=[{Rd:1e3,Dd:10},{Rd:qn(1),Dd:20},{Rd:qn(5),Dd:21},{Rd:qn(30),Dd:22},{Rd:Un(1),Dd:30},{Rd:Un(3),Dd:31},{Rd:Un(6),Dd:32},{Rd:Un(12),Dd:33}];function Kn(t,n){if(t.getUTCFullYear()!==n.getUTCFullYear())return 70;if(t.getUTCMonth()!==n.getUTCMonth())return 60;if(t.getUTCDate()!==n.getUTCDate())return 50;for(let l=tF.length-1;l>=0;--l)if(Math.floor(n.getTime()/tF[l].Rd)!==Math.floor(t.getTime()/tF[l].Rd))return tF[l].Dd;return 0}function Zn(t){let n=t;if(B(t)&&(n=Jn(t)),!Ln(n))throw Error("time must be of type BusinessDay");let l=new Date(Date.UTC(n.year,n.month-1,n.day,0,0,0,0));return{Od:Math.round(l.getTime()/1e3),Ad:n}}function Gn(t){if(!O(t))throw Error("time must be of type isUTCTimestamp");return{Od:t}}function Jn(t){let n=new Date(t);if(isNaN(n.getTime()))throw Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:n.getUTCDate(),month:n.getUTCMonth()+1,year:n.getUTCFullYear()}}function Qn(t){B(t.time)&&(t.time=Jn(t.time))}let ts=class ts{options(){return this.cn}setOptions(t){this.cn=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(t){t.forEach(Qn)}(t):Qn(t)}createConverterToInternalObj(t){return b(0===t.length?null:Ln(t[0].time)||B(t[0].time)?Zn:Gn)}key(t){return"object"==typeof t&&"Od"in t?t.Od:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){return void 0===t.Ad?new Date(1e3*t.Od).getTime():new Date(Date.UTC(t.Ad.year,t.Ad.month-1,t.Ad.day)).getTime()}convertHorzItemToInternal(t){return O(t)?Gn(t):Ln(t)?Zn(t):Zn(Jn(t))}updateFormatter(t){if(!this.cn)return;let n=t.dateFormat;this.cn.timeScale.timeVisible?this.Bd=new $n({xd:n,Sd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",kd:"   ",yd:t.locale}):this.Bd=new Wn(n,t.locale)}formatHorzItem(t){return this.Bd.q_(new Date(1e3*t.Od))}formatTickmark(t,n){let l=function(t,n,l){switch(t){case 0:case 10:return n?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return n?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),a=this.cn.timeScale;if(void 0!==a.tickMarkFormatter){let u=a.tickMarkFormatter(t.originalTime,l,n.locale);if(null!==u)return u}return function(t,n,l){let a={};switch(n){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}let u=new Date(void 0===t.Ad?1e3*t.Od:Date.UTC(t.Ad.year,t.Ad.month-1,t.Ad.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(l,a)}(t.time,l,n.locale)}maxTickMarkWeight(t){let n=t.reduce(yn,t[0]).weight;return n>30&&n<50&&(n=30),n}fillWeightsForPoints(t,n){!function(t,n=0){if(0===t.length)return;let l=0===n?null:t[n-1].time.Od,a=null!==l?new Date(1e3*l):null,u=0;for(let d=n;d<t.length;++d){let n=t[d],c=new Date(1e3*n.time.Od);null!==a&&(n.timeWeight=Kn(c,a)),u+=n.time.Od-(l||n.time.Od),l=n.time.Od,a=c}if(0===n&&t.length>1){let n=Math.ceil(u/(t.length-1)),l=new Date(1e3*(t[0].time.Od-n));t[0].timeWeight=Kn(new Date(1e3*t[0].time.Od),l)}}(t,n)}static Vd(t){return D({localization:{dateFormat:"dd MMM 'yy"}},null!=t?t:{})}};let tV="undefined"!=typeof window;function ns(){return!!tV&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function ss(){return!!tV&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function hs(t,n,l){let a=(t.Id-n.Id)/(t.ot-n.ot);return Math.sign(a)*Math.min(Math.abs(a),l)}let ls=class ls{constructor(t,n,l,a){this.zd=null,this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=0,this.jd=0,this.Hd=t,this.$d=n,this.Ud=l,this.rs=a}qd(t,n){if(null!==this.zd){if(this.zd.ot===n)return void(this.zd.Id=t);if(Math.abs(this.zd.Id-t)<this.rs)return}this.Nd=this.Ed,this.Ed=this.Ld,this.Ld=this.zd,this.zd={ot:n,Id:t}}Dr(t,n){var l,a,u,d,c,g;if(null===this.zd||null===this.Ld||n-this.zd.ot>50)return;let S=0,y=hs(this.zd,this.Ld,this.$d),C=(l=this.zd,a=this.Ld,l.Id-a.Id),E=[y],k=[C];if(S+=C,null!==this.Ed){let t=hs(this.Ld,this.Ed,this.$d);if(Math.sign(t)===Math.sign(y)){let n=(u=this.Ld,d=this.Ed,u.Id-d.Id);if(E.push(t),k.push(n),S+=n,null!==this.Nd){let t=hs(this.Ed,this.Nd,this.$d);if(Math.sign(t)===Math.sign(y)){let n=(c=this.Ed,g=this.Nd,c.Id-g.Id);E.push(t),k.push(n),S+=n}}}}let U=0;for(let t=0;t<E.length;++t)U+=k[t]/S*E[t];Math.abs(U)<this.Hd||(this.Fd={Id:t,ot:n},this.jd=U,this.Wd=function(t,n){let l=Math.log(n);return Math.log(-(1*l/t))/l}(Math.abs(U),this.Ud))}Qu(t){let n=b(this.Fd),l=t-n.ot;return n.Id+this.jd*(Math.pow(this.Ud,l)-1)/Math.log(this.Ud)}Ju(t){return null===this.Fd||this.Yd(t)===this.Wd}Yd(t){let n=t-b(this.Fd).ot;return Math.min(n,this.Wd)}};function as(t,n){let l=b(t.ownerDocument).createElement("canvas");t.appendChild(l);let a=function(t,n){if("device-pixel-content-box"===n.type)return new tf(t,n.transform,n.options);throw Error("Unsupported binding target")}(l,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(t,n)=>({width:Math.max(t.width,n.width),height:Math.max(t.height,n.height)})});return a.resizeCanvasElement(n),a}function os(t){var n;t.width=1,t.height=1,null===(n=t.getContext("2d"))||void 0===n||n.clearRect(0,0,1,1)}function _s(t,n,l,a){t.wl&&t.wl(n,l,a)}function us(t,n,l,a){t.K(n,l,a)}function cs(t,n,l,a){let u=t(l,a);for(let t of u){let l=t.gt();null!==l&&n(l)}}let fs=class fs{constructor(t,n,l){this.Xd=0,this.Kd=null,this.Zd={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.Gd=0,this.Jd=null,this.Qd={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.tf=null,this.if=!1,this.nf=null,this.sf=null,this.ef=!1,this.rf=!1,this.hf=!1,this.lf=null,this.af=null,this._f=null,this.uf=null,this.cf=null,this.df=null,this.ff=null,this.vf=0,this.pf=!1,this.mf=!1,this.bf=!1,this.wf=0,this.gf=null,this.Mf=!ss(),this.xf=t=>{this.Sf(t)},this.kf=t=>{if(this.yf(t)){let n=this.Cf(t);if(++this.Gd,this.Jd&&this.Gd>1){let{Tf:l}=this.Pf(ms(t),this.Qd);l<30&&!this.hf&&this.Rf(n,this.Of.Df),this.Af()}}else{let n=this.Cf(t);if(++this.Xd,this.Kd&&this.Xd>1){let{Tf:l}=this.Pf(ms(t),this.Zd);l<5&&!this.rf&&this.Bf(n,this.Of.Vf),this.If()}}},this.zf=t,this.Of=n,this.cn=l,this.Lf()}S(){null!==this.lf&&(this.lf(),this.lf=null),null!==this.af&&(this.af(),this.af=null),null!==this.uf&&(this.uf(),this.uf=null),null!==this.cf&&(this.cf(),this.cf=null),null!==this.df&&(this.df(),this.df=null),null!==this._f&&(this._f(),this._f=null),this.Ef(),this.If()}Nf(t){this.uf&&this.uf();let n=this.Ff.bind(this);if(this.uf=()=>{this.zf.removeEventListener("mousemove",n)},this.zf.addEventListener("mousemove",n),this.yf(t))return;let l=this.Cf(t);this.Bf(l,this.Of.Wf),this.Mf=!0}If(){null!==this.Kd&&clearTimeout(this.Kd),this.Xd=0,this.Kd=null,this.Zd={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Af(){null!==this.Jd&&clearTimeout(this.Jd),this.Gd=0,this.Jd=null,this.Qd={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Ff(t){if(this.bf||null!==this.sf||this.yf(t))return;let n=this.Cf(t);this.Bf(n,this.Of.jf),this.Mf=!0}Hf(t){let n=ws(t.changedTouches,b(this.gf));if(null===n||(this.wf=bs(t),null!==this.ff)||this.mf)return;this.pf=!0;let l=this.Pf(ms(n),b(this.sf)),{$f:a,Uf:u,Tf:d}=l;if(this.ef||!(d<5)){if(!this.ef){let t=.5*a,n=u>=t&&!this.cn.qf(),l=t>u&&!this.cn.Yf();n||l||(this.mf=!0),this.ef=!0,this.hf=!0,this.Ef(),this.Af()}if(!this.mf){let l=this.Cf(t,n);this.Rf(l,this.Of.Xf),ps(t)}}}Kf(t){if(0!==t.button)return;let n=this.Pf(ms(t),b(this.nf)),{Tf:l}=n;if(l>=5&&(this.rf=!0,this.If()),this.rf){let n=this.Cf(t);this.Bf(n,this.Of.Zf)}}Pf(t,n){let l=Math.abs(n.nt-t.nt),a=Math.abs(n.st-t.st);return{$f:l,Uf:a,Tf:l+a}}Gf(t){let n=ws(t.changedTouches,b(this.gf));if(null===n&&0===t.touches.length&&(n=t.changedTouches[0]),null===n)return;this.gf=null,this.wf=bs(t),this.Ef(),this.sf=null,this.df&&(this.df(),this.df=null);let l=this.Cf(t,n);if(this.Rf(l,this.Of.Jf),++this.Gd,this.Jd&&this.Gd>1){let{Tf:t}=this.Pf(ms(n),this.Qd);t<30&&!this.hf&&this.Rf(l,this.Of.Df),this.Af()}else this.hf||(this.Rf(l,this.Of.Qf),this.Of.Qf&&ps(t));0===this.Gd&&ps(t),0===t.touches.length&&this.if&&(this.if=!1,ps(t))}Sf(t){if(0!==t.button)return;let n=this.Cf(t);if(this.nf=null,this.bf=!1,this.cf&&(this.cf(),this.cf=null),ns()&&this.zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.xf),!this.yf(t)){if(this.Bf(n,this.Of.tv),++this.Xd,this.Kd&&this.Xd>1){let{Tf:l}=this.Pf(ms(t),this.Zd);l<5&&!this.rf&&this.Bf(n,this.Of.Vf),this.If()}else this.rf||this.Bf(n,this.Of.iv)}}Ef(){null!==this.tf&&(clearTimeout(this.tf),this.tf=null)}nv(t){if(null!==this.gf)return;let n=t.changedTouches[0];this.gf=n.identifier,this.wf=bs(t);let l=this.zf.ownerDocument.documentElement;this.hf=!1,this.ef=!1,this.mf=!1,this.sf=ms(n),this.df&&(this.df(),this.df=null);{let n=this.Hf.bind(this),a=this.Gf.bind(this);this.df=()=>{l.removeEventListener("touchmove",n),l.removeEventListener("touchend",a)},l.addEventListener("touchmove",n,{passive:!1}),l.addEventListener("touchend",a,{passive:!1}),this.Ef(),this.tf=setTimeout(this.sv.bind(this,t),240)}let a=this.Cf(t,n);this.Rf(a,this.Of.ev),this.Jd||(this.Gd=0,this.Jd=setTimeout(this.Af.bind(this),500),this.Qd=ms(n))}rv(t){if(0!==t.button)return;let n=this.zf.ownerDocument.documentElement;ns()&&n.addEventListener("mouseleave",this.xf),this.rf=!1,this.nf=ms(t),this.cf&&(this.cf(),this.cf=null);{let t=this.Kf.bind(this),l=this.Sf.bind(this);this.cf=()=>{n.removeEventListener("mousemove",t),n.removeEventListener("mouseup",l)},n.addEventListener("mousemove",t),n.addEventListener("mouseup",l)}if(this.bf=!0,this.yf(t))return;let l=this.Cf(t);this.Bf(l,this.Of.hv),this.Kd||(this.Xd=0,this.Kd=setTimeout(this.If.bind(this),500),this.Zd=ms(t))}Lf(){var t;this.zf.addEventListener("mouseenter",this.Nf.bind(this)),this.zf.addEventListener("touchcancel",this.Ef.bind(this));{let t=this.zf.ownerDocument,i=t=>{this.Of.lv&&(t.composed&&this.zf.contains(t.composedPath()[0])||t.target&&this.zf.contains(t.target)||this.Of.lv())};this.af=()=>{t.removeEventListener("touchstart",i)},this.lf=()=>{t.removeEventListener("mousedown",i)},t.addEventListener("mousedown",i),t.addEventListener("touchstart",i,{passive:!0})}ss()&&(this._f=()=>{this.zf.removeEventListener("dblclick",this.kf)},this.zf.addEventListener("dblclick",this.kf)),this.zf.addEventListener("mouseleave",this.av.bind(this)),this.zf.addEventListener("touchstart",this.nv.bind(this),{passive:!0}),t=this.zf,tV&&void 0!==window.chrome&&t.addEventListener("mousedown",t=>{if(1===t.button)return t.preventDefault(),!1}),this.zf.addEventListener("mousedown",this.rv.bind(this)),this.ov(),this.zf.addEventListener("touchmove",()=>{},{passive:!1})}ov(){void 0===this.Of._v&&void 0===this.Of.uv&&void 0===this.Of.cv||(this.zf.addEventListener("touchstart",t=>this.dv(t.touches),{passive:!0}),this.zf.addEventListener("touchmove",t=>{if(2===t.touches.length&&null!==this.ff&&void 0!==this.Of.uv){let n=vs(t.touches[0],t.touches[1])/this.vf;this.Of.uv(this.ff,n),ps(t)}},{passive:!1}),this.zf.addEventListener("touchend",t=>{this.dv(t.touches)}))}dv(t){1===t.length&&(this.pf=!1),2!==t.length||this.pf||this.if?this.fv():this.vv(t)}vv(t){let n=this.zf.getBoundingClientRect()||{left:0,top:0};this.ff={nt:(t[0].clientX-n.left+(t[1].clientX-n.left))/2,st:(t[0].clientY-n.top+(t[1].clientY-n.top))/2},this.vf=vs(t[0],t[1]),void 0!==this.Of._v&&this.Of._v(),this.Ef()}fv(){null!==this.ff&&(this.ff=null,void 0!==this.Of.cv&&this.Of.cv())}av(t){if(this.uf&&this.uf(),this.yf(t)||!this.Mf)return;let n=this.Cf(t);this.Bf(n,this.Of.pv),this.Mf=!ss()}sv(t){let n=ws(t.touches,b(this.gf));if(null===n)return;let l=this.Cf(t,n);this.Rf(l,this.Of.mv),this.hf=!0,this.if=!0}yf(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:bs(t)<this.wf+500}Rf(t,n){n&&n.call(this.Of,t)}Bf(t,n){n&&n.call(this.Of,t)}Cf(t,n){let l=n||t,a=this.zf.getBoundingClientRect()||{left:0,top:0};return{clientX:l.clientX,clientY:l.clientY,pageX:l.pageX,pageY:l.pageY,screenX:l.screenX,screenY:l.screenY,localX:l.clientX-a.left,localY:l.clientY-a.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,bv:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,wv:t.type,gv:l.target,Mv:t.view,xv:()=>{"touchstart"!==t.type&&ps(t)}}}};function vs(t,n){let l=t.clientX-n.clientX,a=t.clientY-n.clientY;return Math.sqrt(l*l+a*a)}function ps(t){t.cancelable&&t.preventDefault()}function ms(t){return{nt:t.pageX,st:t.pageY}}function bs(t){return t.timeStamp||performance.now()}function ws(t,n){for(let l=0;l<t.length;++l)if(t[l].identifier===n)return t[l];return null}function gs(t){return{jc:t.jc,Sv:{wr:t.kv.externalId},yv:t.kv.cursorStyle}}function xs(t,n){return l=>{var a,u,d,c;return(null!==(u=null===(a=l.Dt())||void 0===a?void 0:a.Ta())&&void 0!==u?u:"")!==n?[]:null!==(c=null===(d=l.ca)||void 0===d?void 0:d.call(l,t))&&void 0!==c?c:[]}}function Ss(t,n,l,a){if(!t.length)return;let u=0,d=l/2,c=t[0].Vt(a,!0),g=1===n?d-(t[0].Oi()-c/2):t[0].Oi()-c/2-d;g=Math.max(0,g);for(let d=1;d<t.length;d++){let c=t[d],S=t[d-1],y=S.Vt(a,!1),C=c.Oi(),E=S.Oi();if(1===n?C>E-y:C<E+y){let a=E-y*n;c.Ai(a);let d=a-n*y/2;if((1===n?d<0:d>l)&&g>0){let a=1===n?-1-d:d-l,c=Math.min(a,g);for(let l=u;l<t.length;l++)t[l].Ai(t[l].Oi()+n*c);g-=c}}else u=d,g=1===n?E-y-C:C-(E+y)}}let ks=class ks{constructor(t,n,l,a){this.Li=null,this.Cv=null,this.Tv=!1,this.Pv=new ii(200),this.Jr=null,this.Rv=0,this.Dv=!1,this.Ov=()=>{this.Dv||this.tn.Av().$t().$h()},this.Bv=()=>{this.Dv||this.tn.Av().$t().$h()},this.tn=t,this.cn=n,this.So=n.layout,this.Oc=l,this.Vv="left"===a,this.Iv=xs("normal",a),this.zv=xs("top",a),this.Lv=xs("bottom",a),this.Ev=document.createElement("div"),this.Ev.style.height="100%",this.Ev.style.overflow="hidden",this.Ev.style.width="25px",this.Ev.style.left="0",this.Ev.style.position="relative",this.Nv=as(this.Ev,size({width:16,height:16})),this.Nv.subscribeSuggestedBitmapSizeChanged(this.Ov);let u=this.Nv.canvasElement;u.style.position="absolute",u.style.zIndex="1",u.style.left="0",u.style.top="0",this.Fv=as(this.Ev,size({width:16,height:16})),this.Fv.subscribeSuggestedBitmapSizeChanged(this.Bv);let d=this.Fv.canvasElement;d.style.position="absolute",d.style.zIndex="2",d.style.left="0",d.style.top="0";let c={hv:this.Wv.bind(this),ev:this.Wv.bind(this),Zf:this.jv.bind(this),Xf:this.jv.bind(this),lv:this.Hv.bind(this),tv:this.$v.bind(this),Jf:this.$v.bind(this),Vf:this.Uv.bind(this),Df:this.Uv.bind(this),Wf:this.qv.bind(this),pv:this.Yv.bind(this)};this.Xv=new fs(this.Fv.canvasElement,c,{qf:()=>!this.cn.handleScroll.vertTouchDrag,Yf:()=>!0})}S(){this.Xv.S(),this.Fv.unsubscribeSuggestedBitmapSizeChanged(this.Bv),os(this.Fv.canvasElement),this.Fv.dispose(),this.Nv.unsubscribeSuggestedBitmapSizeChanged(this.Ov),os(this.Nv.canvasElement),this.Nv.dispose(),null!==this.Li&&this.Li.Ko().p(this),this.Li=null}Kv(){return this.Ev}P(){return this.So.fontSize}Zv(){let t=this.Oc.W();return this.Jr!==t.R&&(this.Pv.ir(),this.Jr=t.R),t}Gv(){var t;if(null===this.Li)return 0;let n=0,l=this.Zv(),a=b(this.Nv.canvasElement.getContext("2d"));a.save();let u=this.Li.ja();a.font=this.Jv(),u.length>0&&(n=Math.max(this.Pv.xi(a,u[0].no),this.Pv.xi(a,u[u.length-1].no)));let d=this.Qv();for(let t=d.length;t--;){let l=this.Pv.xi(a,d[t].Zt());l>n&&(n=l)}let c=this.Li.Ct();if(null!==c&&null!==this.Cv){let t=this.Li.pn(1,c),l=this.Li.pn(this.Cv.height-2,c);n=Math.max(n,this.Pv.xi(a,this.Li.Fi(Math.floor(Math.min(t,l))+.11111111111111,c)),this.Pv.xi(a,this.Li.Fi(Math.ceil(Math.max(t,l))-.11111111111111,c)))}a.restore();let g=n||34;return(t=Math.ceil(l.C+l.T+l.V+l.I+5+g))+t%2}tp(t){null!==this.Cv&&equalSizes(this.Cv,t)||(this.Cv=t,this.Dv=!0,this.Nv.resizeCanvasElement(t),this.Fv.resizeCanvasElement(t),this.Dv=!1,this.Ev.style.width=`${t.width}px`,this.Ev.style.height=`${t.height}px`)}ip(){return b(this.Cv).width}Gi(t){this.Li!==t&&(null!==this.Li&&this.Li.Ko().p(this),this.Li=t,t.Ko().l(this.do.bind(this),this))}Dt(){return this.Li}ir(){let t=this.tn.np();this.tn.Av().$t().L_(t,b(this.Dt()))}sp(t){if(null===this.Cv)return;if(1!==t){this.ep(),this.Nv.applySuggestedBitmapSize();let t=tryCreateCanvasRenderingTarget2D(this.Nv);null!==t&&(t.useBitmapCoordinateSpace(t=>{this.rp(t),this.Ve(t)}),this.tn.hp(t,this.Lv),this.lp(t),this.tn.hp(t,this.Iv),this.ap(t))}this.Fv.applySuggestedBitmapSize();let n=tryCreateCanvasRenderingTarget2D(this.Fv);null!==n&&(n.useBitmapCoordinateSpace(({context:t,bitmapSize:n})=>{t.clearRect(0,0,n.width,n.height)}),this.op(n),this.tn.hp(n,this.zv))}_p(){return this.Nv.bitmapSize}up(t,n,l){let a=this._p();a.width>0&&a.height>0&&t.drawImage(this.Nv.canvasElement,n,l)}bt(){var t;null===(t=this.Li)||void 0===t||t.ja()}Wv(t){if(null===this.Li||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;let n=this.tn.Av().$t(),l=this.tn.np();this.Tv=!0,n.D_(l,this.Li,t.localY)}jv(t){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;let n=this.tn.Av().$t(),l=this.tn.np(),a=this.Li;n.O_(l,a,t.localY)}Hv(){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;let t=this.tn.Av().$t(),n=this.tn.np(),l=this.Li;this.Tv&&(this.Tv=!1,t.A_(n,l))}$v(t){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;let n=this.tn.Av().$t(),l=this.tn.np();this.Tv=!1,n.A_(l,this.Li)}Uv(t){this.cn.handleScale.axisDoubleClickReset.price&&this.ir()}qv(t){null!==this.Li&&(!this.tn.Av().$t().W().handleScale.axisPressedMouseMove.price||this.Li.gh()||this.Li.Oo()||this.cp(1))}Yv(t){this.cp(0)}Qv(){let t=[],n=null===this.Li?void 0:this.Li;return(l=>{for(let a=0;a<l.length;++a){let u=l[a].Rn(this.tn.np(),n);for(let n=0;n<u.length;n++)t.push(u[n])}})(this.tn.np().$o()),t}rp({context:t,bitmapSize:n}){let{width:l,height:a}=n,u=this.tn.np().$t(),d=u.q(),c=u.md();d===c?Z(t,0,0,l,a,d):Q(t,0,0,l,a,d,c)}Ve({context:t,bitmapSize:n,horizontalPixelRatio:l}){let a;if(null===this.Cv||null===this.Li||!this.Li.W().borderVisible)return;t.fillStyle=this.Li.W().borderColor;let u=Math.max(1,Math.floor(this.Zv().C*l));a=this.Vv?n.width-u:0,t.fillRect(a,0,u,n.height)}lp(t){if(null===this.Cv||null===this.Li)return;let n=this.Li.ja(),l=this.Li.W(),a=this.Zv(),u=this.Vv?this.Cv.width-a.T:0;l.borderVisible&&l.ticksVisible&&t.useBitmapCoordinateSpace(({context:t,horizontalPixelRatio:d,verticalPixelRatio:c})=>{t.fillStyle=l.borderColor;let g=Math.max(1,Math.floor(c)),S=Math.floor(.5*c),y=Math.round(a.T*d);for(let l of(t.beginPath(),n))t.rect(Math.floor(u*d),Math.round(l.La*c)-S,y,g);t.fill()}),t.useMediaCoordinateSpace(({context:t})=>{var d;t.font=this.Jv(),t.fillStyle=null!==(d=l.textColor)&&void 0!==d?d:this.So.textColor,t.textAlign=this.Vv?"right":"left",t.textBaseline="middle";let c=this.Vv?Math.round(u-a.V):Math.round(u+a.T+a.V),g=n.map(n=>this.Pv.Mi(t,n.no));for(let l=n.length;l--;){let a=n[l];t.fillText(a.no,c,a.La+g[l])}})}ep(){if(null===this.Cv||null===this.Li)return;let t=[],n=this.Li.$o().slice(),l=this.tn.np(),a=this.Zv();this.Li===l.vr()&&this.tn.np().$o().forEach(t=>{l.dr(t)&&n.push(t)});let u=this.Li;n.forEach(n=>{n.Rn(l,u).forEach(n=>{n.Ai(null),n.Bi()&&t.push(n)})}),t.forEach(t=>t.Ai(t.ki())),this.Li.W().alignLabels&&this.dp(t,a)}dp(t,n){if(null===this.Cv)return;let l=this.Cv.height/2,a=t.filter(t=>t.ki()<=l),u=t.filter(t=>t.ki()>l);for(let l of(a.sort((t,n)=>n.ki()-t.ki()),u.sort((t,n)=>t.ki()-n.ki()),t)){let t=Math.floor(l.Vt(n)/2),a=l.ki();a>-t&&a<t&&l.Ai(t),a>this.Cv.height-t&&a<this.Cv.height+t&&l.Ai(this.Cv.height-t)}Ss(a,1,this.Cv.height,n),Ss(u,-1,this.Cv.height,n)}ap(t){if(null===this.Cv)return;let n=this.Qv(),l=this.Zv(),a=this.Vv?"right":"left";n.forEach(n=>{n.Vi()&&n.gt(b(this.Li)).K(t,l,this.Pv,a)})}op(t){if(null===this.Cv||null===this.Li)return;let n=this.tn.Av().$t(),l=[],a=this.tn.np(),u=n.Yc().Rn(a,this.Li);u.length&&l.push(u);let d=this.Zv(),c=this.Vv?"right":"left";l.forEach(n=>{n.forEach(n=>{n.gt(b(this.Li)).K(t,d,this.Pv,c)})})}cp(t){this.Ev.style.cursor=1===t?"ns-resize":"default"}do(){let t=this.Gv();this.Rv<t&&this.tn.Av().$t().Kl(),this.Rv=t}Jv(){return N(this.So.fontSize,this.So.fontFamily)}};function ys(t,n){var l,a;return null!==(a=null===(l=t._a)||void 0===l?void 0:l.call(t,n))&&void 0!==a?a:[]}function Cs(t,n){var l,a;return null!==(a=null===(l=t.Pn)||void 0===l?void 0:l.call(t,n))&&void 0!==a?a:[]}function Ts(t,n){var l,a;return null!==(a=null===(l=t.Ji)||void 0===l?void 0:l.call(t,n))&&void 0!==a?a:[]}function Ps(t,n){var l,a;return null!==(a=null===(l=t.la)||void 0===l?void 0:l.call(t,n))&&void 0!==a?a:[]}let Rs=class Rs{constructor(t,n){this.Cv=size({width:0,height:0}),this.fp=null,this.vp=null,this.pp=null,this.mp=!1,this.bp=new R,this.wp=new R,this.gp=0,this.Mp=!1,this.xp=null,this.Sp=!1,this.kp=null,this.yp=null,this.Dv=!1,this.Ov=()=>{this.Dv||null===this.Cp||this.$i().$h()},this.Bv=()=>{this.Dv||null===this.Cp||this.$i().$h()},this.Tp=t,this.Cp=n,this.Cp.F_().l(this.Pp.bind(this),this,!0),this.Rp=document.createElement("td"),this.Rp.style.padding="0",this.Rp.style.position="relative";let l=document.createElement("div");l.style.width="100%",l.style.height="100%",l.style.position="relative",l.style.overflow="hidden",this.Dp=document.createElement("td"),this.Dp.style.padding="0",this.Op=document.createElement("td"),this.Op.style.padding="0",this.Rp.appendChild(l),this.Nv=as(l,size({width:16,height:16})),this.Nv.subscribeSuggestedBitmapSizeChanged(this.Ov);let a=this.Nv.canvasElement;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this.Fv=as(l,size({width:16,height:16})),this.Fv.subscribeSuggestedBitmapSizeChanged(this.Bv);let u=this.Fv.canvasElement;u.style.position="absolute",u.style.zIndex="2",u.style.left="0",u.style.top="0",this.Ap=document.createElement("tr"),this.Ap.appendChild(this.Dp),this.Ap.appendChild(this.Rp),this.Ap.appendChild(this.Op),this.Bp(),this.Xv=new fs(this.Fv.canvasElement,this,{qf:()=>null===this.xp&&!this.Tp.W().handleScroll.vertTouchDrag,Yf:()=>null===this.xp&&!this.Tp.W().handleScroll.horzTouchDrag})}S(){null!==this.fp&&this.fp.S(),null!==this.vp&&this.vp.S(),this.Fv.unsubscribeSuggestedBitmapSizeChanged(this.Bv),os(this.Fv.canvasElement),this.Fv.dispose(),this.Nv.unsubscribeSuggestedBitmapSizeChanged(this.Ov),os(this.Nv.canvasElement),this.Nv.dispose(),null!==this.Cp&&this.Cp.F_().p(this),this.Xv.S()}np(){return b(this.Cp)}Vp(t){null!==this.Cp&&this.Cp.F_().p(this),this.Cp=t,null!==this.Cp&&this.Cp.F_().l(Rs.prototype.Pp.bind(this),this,!0),this.Bp()}Av(){return this.Tp}Kv(){return this.Ap}Bp(){if(null!==this.Cp&&(this.Ip(),0!==this.$i().wt().length)){if(null!==this.fp){let t=this.Cp.P_();this.fp.Gi(b(t))}if(null!==this.vp){let t=this.Cp.R_();this.vp.Gi(b(t))}}}zp(){null!==this.fp&&this.fp.bt(),null!==this.vp&&this.vp.bt()}g_(){return null!==this.Cp?this.Cp.g_():0}M_(t){this.Cp&&this.Cp.M_(t)}Wf(t){if(!this.Cp)return;this.Lp();let n=t.localX,l=t.localY;this.Ep(n,l,t)}hv(t){this.Lp(),this.Np(),this.Ep(t.localX,t.localY,t)}jf(t){var n;if(!this.Cp)return;this.Lp();let l=t.localX,a=t.localY;this.Ep(l,a,t);let u=this.br(l,a);this.Tp.Fp(null!==(n=null==u?void 0:u.yv)&&void 0!==n?n:null),this.$i().Wc(u&&{jc:u.jc,Sv:u.Sv})}iv(t){null!==this.Cp&&(this.Lp(),this.Wp(t))}Vf(t){null!==this.Cp&&this.jp(this.wp,t)}Df(t){this.Vf(t)}Zf(t){this.Lp(),this.Hp(t),this.Ep(t.localX,t.localY,t)}tv(t){null!==this.Cp&&(this.Lp(),this.Mp=!1,this.$p(t))}Qf(t){null!==this.Cp&&this.Wp(t)}mv(t){if(this.Mp=!0,null===this.xp){let n={x:t.localX,y:t.localY};this.Up(n,n,t)}}pv(t){null!==this.Cp&&(this.Lp(),this.Cp.$t().Wc(null),this.qp())}Yp(){return this.bp}Xp(){return this.wp}_v(){this.gp=1,this.$i().Un()}uv(t,n){if(!this.Tp.W().handleScale.pinch)return;let l=5*(n-this.gp);this.gp=n,this.$i().Jc(t.nt,l)}ev(t){this.Mp=!1,this.Sp=null!==this.xp,this.Np();let n=this.$i().Yc();null!==this.xp&&n.yt()&&(this.kp={x:n.Yt(),y:n.Xt()},this.xp={x:t.localX,y:t.localY})}Xf(t){if(null===this.Cp)return;let n=t.localX,l=t.localY;if(null===this.xp)this.Hp(t);else{this.Sp=!1;let a=b(this.kp),u=a.x+(n-this.xp.x),d=a.y+(l-this.xp.y);this.Ep(u,d,t)}}Jf(t){0===this.Av().W().trackingMode.exitMode&&(this.Sp=!0),this.Kp(),this.$p(t)}br(t,n){let l=this.Cp;return null===l?null:function(t,n,l){let a=t.$o(),u=function(t,n,l){var a,u,d,c;let g,S;for(let y of t){let t=null!==(u=null===(a=y.fa)||void 0===a?void 0:a.call(y,n,l))&&void 0!==u?u:[];for(let n of t)d=n.zOrder,(c=null==g?void 0:g.zOrder)&&("top"!==d||"top"===c)&&("normal"!==d||"bottom"!==c)||(g=n,S=y)}return g&&S?{kv:g,jc:S}:null}(a,n,l);if("top"===(null==u?void 0:u.kv.zOrder))return gs(u);for(let d of a){if(u&&u.jc===d&&"bottom"!==u.kv.zOrder&&!u.kv.isBackground)return gs(u);let a=function(t,n,l){for(let a of t){let t=a.gt();if(null!==t&&t.br){let u=t.br(n,l);if(null!==u)return{Mv:a,Sv:u}}}return null}(d.Pn(t),n,l);if(null!==a)return{jc:d,Mv:a.Mv,Sv:a.Sv};if(u&&u.jc===d&&"bottom"!==u.kv.zOrder&&u.kv.isBackground)return gs(u)}return(null==u?void 0:u.kv)?gs(u):null}(l,t,n)}Zp(t,n){b("left"===n?this.fp:this.vp).tp(size({width:t,height:this.Cv.height}))}Gp(){return this.Cv}tp(t){equalSizes(this.Cv,t)||(this.Cv=t,this.Dv=!0,this.Nv.resizeCanvasElement(t),this.Fv.resizeCanvasElement(t),this.Dv=!1,this.Rp.style.width=t.width+"px",this.Rp.style.height=t.height+"px")}Jp(){let t=b(this.Cp);for(let n of(t.T_(t.P_()),t.T_(t.R_()),t.Aa()))if(t.dr(n)){let l=n.Dt();null!==l&&t.T_(l),n.On()}}_p(){return this.Nv.bitmapSize}up(t,n,l){let a=this._p();a.width>0&&a.height>0&&t.drawImage(this.Nv.canvasElement,n,l)}sp(t){if(0===t||null===this.Cp)return;if(t>1&&this.Jp(),null!==this.fp&&this.fp.sp(t),null!==this.vp&&this.vp.sp(t),1!==t){this.Nv.applySuggestedBitmapSize();let t=tryCreateCanvasRenderingTarget2D(this.Nv);null!==t&&(t.useBitmapCoordinateSpace(t=>{this.rp(t)}),this.Cp&&(this.Qp(t,ys),this.tm(t),this.im(t),this.Qp(t,Cs),this.Qp(t,Ts)))}this.Fv.applySuggestedBitmapSize();let n=tryCreateCanvasRenderingTarget2D(this.Fv);null!==n&&(n.useBitmapCoordinateSpace(({context:t,bitmapSize:n})=>{t.clearRect(0,0,n.width,n.height)}),this.nm(n),this.Qp(n,Ps))}sm(){return this.fp}rm(){return this.vp}hp(t,n){this.Qp(t,n)}Pp(){null!==this.Cp&&this.Cp.F_().p(this),this.Cp=null}Wp(t){this.jp(this.bp,t)}jp(t,n){let l=n.localX,a=n.localY;t.M()&&t.m(this.$i().St().Eu(l),{x:l,y:a},n)}rp({context:t,bitmapSize:n}){let{width:l,height:a}=n,u=this.$i(),d=u.q(),c=u.md();d===c?Z(t,0,0,l,a,c):Q(t,0,0,l,a,d,c)}tm(t){let n=b(this.Cp).W_().Uh().gt();null!==n&&n.K(t,!1)}im(t){let n=this.$i().qc();this.hm(t,Cs,_s,n),this.hm(t,Cs,us,n)}nm(t){this.hm(t,Cs,us,this.$i().Yc())}Qp(t,n){let l=b(this.Cp).$o();for(let a of l)this.hm(t,n,_s,a);for(let a of l)this.hm(t,n,us,a)}hm(t,n,l,a){let u=b(this.Cp),d=u.$t().Fc(),c=null!==d&&d.jc===a,g=null!==d&&c&&void 0!==d.Sv?d.Sv.gr:void 0;cs(n,n=>l(n,t,c,g),a,u)}Ip(){if(null===this.Cp)return;let t=this.Tp,n=this.Cp.P_().W().visible,l=this.Cp.R_().W().visible;n||null===this.fp||(this.Dp.removeChild(this.fp.Kv()),this.fp.S(),this.fp=null),l||null===this.vp||(this.Op.removeChild(this.vp.Kv()),this.vp.S(),this.vp=null);let a=t.$t()._d();n&&null===this.fp&&(this.fp=new ks(this,t.W(),a,"left"),this.Dp.appendChild(this.fp.Kv())),l&&null===this.vp&&(this.vp=new ks(this,t.W(),a,"right"),this.Op.appendChild(this.vp.Kv()))}lm(t){return t.bv&&this.Mp||null!==this.xp}am(t){return Math.max(0,Math.min(t,this.Cv.width-1))}om(t){return Math.max(0,Math.min(t,this.Cv.height-1))}Ep(t,n,l){this.$i().hd(this.am(t),this.om(n),l,b(this.Cp))}qp(){this.$i().ad()}Kp(){this.Sp&&(this.xp=null,this.qp())}Up(t,n,l){this.xp=t,this.Sp=!1,this.Ep(n.x,n.y,l);let a=this.$i().Yc();this.kp={x:a.Yt(),y:a.Xt()}}$i(){return this.Tp.$t()}$p(t){if(!this.mp)return;let n=this.$i(),l=this.np();if(n.I_(l,l.vn()),this.pp=null,this.mp=!1,n.sd(),null!==this.yp){let t=performance.now(),l=n.St();this.yp.Dr(l.ju(),t),this.yp.Ju(t)||n.Xn(this.yp)}}Lp(){this.xp=null}Np(){if(this.Cp){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)b(document.activeElement).blur();else{let t=document.getSelection();null!==t&&t.removeAllRanges()}this.Cp.vn().Ni()||this.$i().St().Ni()}}Hp(t){if(null===this.Cp)return;let n=this.$i(),l=n.St();if(l.Ni())return;let a=this.Tp.W(),u=a.handleScroll,d=a.kineticScroll;if((!u.pressedMouseMove||t.bv)&&(!u.horzTouchDrag&&!u.vertTouchDrag||!t.bv))return;let c=this.Cp.vn(),g=performance.now();if(null!==this.pp||this.lm(t)||(this.pp={x:t.clientX,y:t.clientY,Od:g,_m:t.localX,um:t.localY}),null!==this.pp&&!this.mp&&(this.pp.x!==t.clientX||this.pp.y!==t.clientY)){if(t.bv&&d.touch||!t.bv&&d.mouse){let t=l.he();this.yp=new ls(.2/t,7/t,.997,15/t),this.yp.qd(l.ju(),this.pp.Od)}else this.yp=null;c.Ni()||n.B_(this.Cp,c,t.localY),n.td(t.localX),this.mp=!0}this.mp&&(c.Ni()||n.V_(this.Cp,c,t.localY),n.nd(t.localX),null!==this.yp&&this.yp.qd(l.ju(),g))}};let Ds=class Ds{constructor(t,n,l,a,u){this.ft=!0,this.Cv=size({width:0,height:0}),this.Ov=()=>this.sp(3),this.Vv="left"===t,this.Oc=l._d,this.cn=n,this.dm=a,this.fm=u,this.Ev=document.createElement("div"),this.Ev.style.width="25px",this.Ev.style.height="100%",this.Ev.style.overflow="hidden",this.Nv=as(this.Ev,size({width:16,height:16})),this.Nv.subscribeSuggestedBitmapSizeChanged(this.Ov)}S(){this.Nv.unsubscribeSuggestedBitmapSizeChanged(this.Ov),os(this.Nv.canvasElement),this.Nv.dispose()}Kv(){return this.Ev}Gp(){return this.Cv}tp(t){equalSizes(this.Cv,t)||(this.Cv=t,this.Nv.resizeCanvasElement(t),this.Ev.style.width=`${t.width}px`,this.Ev.style.height=`${t.height}px`,this.ft=!0)}sp(t){if(t<3&&!this.ft||0===this.Cv.width||0===this.Cv.height)return;this.ft=!1,this.Nv.applySuggestedBitmapSize();let n=tryCreateCanvasRenderingTarget2D(this.Nv);null!==n&&n.useBitmapCoordinateSpace(t=>{this.rp(t),this.Ve(t)})}_p(){return this.Nv.bitmapSize}up(t,n,l){let a=this._p();a.width>0&&a.height>0&&t.drawImage(this.Nv.canvasElement,n,l)}Ve({context:t,bitmapSize:n,horizontalPixelRatio:l,verticalPixelRatio:a}){if(!this.dm())return;t.fillStyle=this.cn.timeScale.borderColor;let u=Math.floor(this.Oc.W().C*l),d=Math.floor(this.Oc.W().C*a),c=this.Vv?n.width-u:0;t.fillRect(c,0,u,d)}rp({context:t,bitmapSize:n}){Z(t,0,0,n.width,n.height,this.fm())}};function Os(t){return n=>{var l,a;return null!==(a=null===(l=n.da)||void 0===l?void 0:l.call(n,t))&&void 0!==a?a:[]}}let tj=Os("normal"),tG=Os("top"),tH=Os("bottom");let Is=class Is{constructor(t,n){this.vm=null,this.pm=null,this.k=null,this.bm=!1,this.Cv=size({width:0,height:0}),this.wm=new R,this.Pv=new ii(5),this.Dv=!1,this.Ov=()=>{this.Dv||this.Tp.$t().$h()},this.Bv=()=>{this.Dv||this.Tp.$t().$h()},this.Tp=t,this.U_=n,this.cn=t.W().layout,this.gm=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.xm=document.createElement("td"),this.xm.style.padding="0",this.Ev=document.createElement("td"),this.Ev.style.height="25px",this.Ev.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.Ev.appendChild(this.Sm),this.Nv=as(this.Sm,size({width:16,height:16})),this.Nv.subscribeSuggestedBitmapSizeChanged(this.Ov);let l=this.Nv.canvasElement;l.style.position="absolute",l.style.zIndex="1",l.style.left="0",l.style.top="0",this.Fv=as(this.Sm,size({width:16,height:16})),this.Fv.subscribeSuggestedBitmapSizeChanged(this.Bv);let a=this.Fv.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0",this.gm.appendChild(this.Mm),this.gm.appendChild(this.Ev),this.gm.appendChild(this.xm),this.km(),this.Tp.$t().w_().l(this.km.bind(this),this),this.Xv=new fs(this.Fv.canvasElement,this,{qf:()=>!0,Yf:()=>!this.Tp.W().handleScroll.horzTouchDrag})}S(){this.Xv.S(),null!==this.vm&&this.vm.S(),null!==this.pm&&this.pm.S(),this.Fv.unsubscribeSuggestedBitmapSizeChanged(this.Bv),os(this.Fv.canvasElement),this.Fv.dispose(),this.Nv.unsubscribeSuggestedBitmapSizeChanged(this.Ov),os(this.Nv.canvasElement),this.Nv.dispose()}Kv(){return this.gm}ym(){return this.vm}Cm(){return this.pm}hv(t){if(this.bm)return;this.bm=!0;let n=this.Tp.$t();!n.St().Ni()&&this.Tp.W().handleScale.axisPressedMouseMove.time&&n.Gc(t.localX)}ev(t){this.hv(t)}lv(){let t=this.Tp.$t();!t.St().Ni()&&this.bm&&(this.bm=!1,this.Tp.W().handleScale.axisPressedMouseMove.time&&t.rd())}Zf(t){let n=this.Tp.$t();!n.St().Ni()&&this.Tp.W().handleScale.axisPressedMouseMove.time&&n.ed(t.localX)}Xf(t){this.Zf(t)}tv(){this.bm=!1;let t=this.Tp.$t();t.St().Ni()&&!this.Tp.W().handleScale.axisPressedMouseMove.time||t.rd()}Jf(){this.tv()}Vf(){this.Tp.W().handleScale.axisDoubleClickReset.time&&this.Tp.$t().Zn()}Df(){this.Vf()}Wf(){this.Tp.$t().W().handleScale.axisPressedMouseMove.time&&this.cp(1)}pv(){this.cp(0)}Gp(){return this.Cv}Tm(){return this.wm}Pm(t,n,l){equalSizes(this.Cv,t)||(this.Cv=t,this.Dv=!0,this.Nv.resizeCanvasElement(t),this.Fv.resizeCanvasElement(t),this.Dv=!1,this.Ev.style.width=`${t.width}px`,this.Ev.style.height=`${t.height}px`,this.wm.m(t)),null!==this.vm&&this.vm.tp(size({width:n,height:t.height})),null!==this.pm&&this.pm.tp(size({width:l,height:t.height}))}Rm(){let t=this.Dm();return Math.ceil(t.C+t.T+t.P+t.L+t.B+t.Om)}bt(){this.Tp.$t().St().ja()}_p(){return this.Nv.bitmapSize}up(t,n,l){let a=this._p();a.width>0&&a.height>0&&t.drawImage(this.Nv.canvasElement,n,l)}sp(t){if(0===t)return;if(1!==t){this.Nv.applySuggestedBitmapSize();let n=tryCreateCanvasRenderingTarget2D(this.Nv);null!==n&&(n.useBitmapCoordinateSpace(t=>{this.rp(t),this.Ve(t),this.Am(n,tH)}),this.lp(n),this.Am(n,tj)),null!==this.vm&&this.vm.sp(t),null!==this.pm&&this.pm.sp(t)}this.Fv.applySuggestedBitmapSize();let n=tryCreateCanvasRenderingTarget2D(this.Fv);null!==n&&(n.useBitmapCoordinateSpace(({context:t,bitmapSize:n})=>{t.clearRect(0,0,n.width,n.height)}),this.Bm([...this.Tp.$t().wt(),this.Tp.$t().Yc()],n),this.Am(n,tG))}Am(t,n){let l=this.Tp.$t().wt();for(let a of l)cs(n,n=>_s(n,t,!1,void 0),a,void 0);for(let a of l)cs(n,n=>us(n,t,!1,void 0),a,void 0)}rp({context:t,bitmapSize:n}){Z(t,0,0,n.width,n.height,this.Tp.$t().md())}Ve({context:t,bitmapSize:n,verticalPixelRatio:l}){if(this.Tp.W().timeScale.borderVisible){t.fillStyle=this.Vm();let a=Math.max(1,Math.floor(this.Dm().C*l));t.fillRect(0,0,n.width,a)}}lp(t){let n=this.Tp.$t().St(),l=n.ja();if(!l||0===l.length)return;let a=this.U_.maxTickMarkWeight(l),u=this.Dm(),d=n.W();d.borderVisible&&d.ticksVisible&&t.useBitmapCoordinateSpace(({context:t,horizontalPixelRatio:n,verticalPixelRatio:a})=>{t.strokeStyle=this.Vm(),t.fillStyle=this.Vm();let d=Math.max(1,Math.floor(n)),c=Math.floor(.5*n);t.beginPath();let g=Math.round(u.T*a);for(let a=l.length;a--;){let u=Math.round(l[a].coord*n);t.rect(u-c,0,d,g)}t.fill()}),t.useMediaCoordinateSpace(({context:t})=>{let n=u.C+u.T+u.L+u.P/2;for(let u of(t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.$(),t.font=this.Jv(),l))if(u.weight<a){let l=u.needAlignCoordinate?this.Im(t,u.coord,u.label):u.coord;t.fillText(u.label,l,n)}for(let u of(this.Tp.W().timeScale.allowBoldLabels&&(t.font=this.zm()),l))if(u.weight>=a){let l=u.needAlignCoordinate?this.Im(t,u.coord,u.label):u.coord;t.fillText(u.label,l,n)}})}Im(t,n,l){let a=this.Pv.xi(t,l),u=Math.floor(n-a/2)+.5;return u<0?n+=Math.abs(0-u):u+a>this.Cv.width&&(n-=Math.abs(this.Cv.width-(u+a))),n}Bm(t,n){let l=this.Dm();for(let a of t)for(let t of a.Qi())t.gt().K(n,l)}Vm(){return this.Tp.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}Jv(){return N(this.j(),this.cn.fontFamily)}zm(){return N(this.j(),this.cn.fontFamily,"bold")}Dm(){null===this.k&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new ii,Om:0});let t=this.k,n=this.Jv();if(t.R!==n){let l=this.j();t.P=l,t.R=n,t.L=3*l/12,t.B=3*l/12,t.ji=9*l/12,t.N=0,t.Om=4*l/12,t.Wi.ir()}return this.k}cp(t){this.Ev.style.cursor=1===t?"ew-resize":"default"}km(){let t=this.Tp.$t(),n=t.W();n.leftPriceScale.visible||null===this.vm||(this.Mm.removeChild(this.vm.Kv()),this.vm.S(),this.vm=null),n.rightPriceScale.visible||null===this.pm||(this.xm.removeChild(this.pm.Kv()),this.pm.S(),this.pm=null);let l={_d:this.Tp.$t()._d()},s=()=>n.leftPriceScale.borderVisible&&t.St().W().borderVisible,e=()=>t.md();n.leftPriceScale.visible&&null===this.vm&&(this.vm=new Ds("left",n,l,s,e),this.Mm.appendChild(this.vm.Kv())),n.rightPriceScale.visible&&null===this.pm&&(this.pm=new Ds("right",n,l,s,e),this.xm.appendChild(this.pm.Kv()))}};let tU=!!tV&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!tV&&((null===(tc=null==navigator?void 0:navigator.userAgentData)||void 0===tc?void 0:tc.platform)?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);let Es=class Es{constructor(t,n,l){var a;this.Lm=[],this.Em=0,this.ro=0,this.o_=0,this.Nm=0,this.Fm=0,this.Wm=null,this.jm=!1,this.bp=new R,this.wp=new R,this.Pc=new R,this.Hm=null,this.$m=null,this.Um=t,this.cn=n,this.U_=l,this.gm=document.createElement("div"),this.gm.classList.add("tv-lightweight-charts"),this.gm.style.overflow="hidden",this.gm.style.direction="ltr",this.gm.style.width="100%",this.gm.style.height="100%",(a=this.gm).style.userSelect="none",a.style.webkitUserSelect="none",a.style.msUserSelect="none",a.style.MozUserSelect="none",a.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.gm.appendChild(this.qm),this.Ym=this.Xm.bind(this),Ns(this.cn)&&this.Km(!0),this.$i=new zn(this.Dc.bind(this),this.cn,l),this.$t().Xc().l(this.Zm.bind(this),this),this.Gm=new Is(this,this.U_),this.qm.appendChild(this.Gm.Kv());let u=n.autoSize&&this.Jm(),d=this.cn.width,c=this.cn.height;if(u||0===d||0===c){let n=t.getBoundingClientRect();d=d||n.width,c=c||n.height}this.Qm(d,c),this.tb(),t.appendChild(this.gm),this.ib(),this.$i.St().sc().l(this.$i.Kl.bind(this.$i),this),this.$i.w_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}nb(){return this.Lm}sb(){return this.Gm}S(){for(let t of(this.Km(!1),0!==this.Em&&window.cancelAnimationFrame(this.Em),this.$i.Xc().p(this),this.$i.St().sc().p(this),this.$i.w_().p(this),this.$i.S(),this.Lm))this.qm.removeChild(t.Kv()),t.Yp().p(this),t.Xp().p(this),t.S();this.Lm=[],b(this.Gm).S(),null!==this.gm.parentElement&&this.gm.parentElement.removeChild(this.gm),this.Pc.S(),this.bp.S(),this.wp.S(),this.eb()}Qm(t,n,l=!1){if(this.ro===n&&this.o_===t)return;let a=function(t){let n=Math.floor(t.width),l=Math.floor(t.height);return size({width:n-n%2,height:l-l%2})}(size({width:t,height:n}));this.ro=a.height,this.o_=a.width;let u=this.ro+"px",d=this.o_+"px";b(this.gm).style.height=u,b(this.gm).style.width=d,this.qm.style.height=u,this.qm.style.width=d,l?this.rb(_t.es(),performance.now()):this.$i.Kl()}sp(t){void 0===t&&(t=_t.es());for(let n=0;n<this.Lm.length;n++)this.Lm[n].sp(t.Hn(n).Fn);this.cn.timeScale.visible&&this.Gm.sp(t.jn())}Hh(t){let n=Ns(this.cn);this.$i.Hh(t);let l=Ns(this.cn);l!==n&&this.Km(l),this.ib(),this.hb(t)}Yp(){return this.bp}Xp(){return this.wp}Xc(){return this.Pc}lb(){null!==this.Wm&&(this.rb(this.Wm,performance.now()),this.Wm=null);let t=this.ab(null),n=document.createElement("canvas");n.width=t.width,n.height=t.height;let l=b(n.getContext("2d"));return this.ab(l),n}ob(t){return("left"!==t||this._b())&&("right"!==t||this.ub())&&0!==this.Lm.length?b("left"===t?this.Lm[0].sm():this.Lm[0].rm()).ip():0}cb(){return this.cn.autoSize&&null!==this.Hm}fb(){return this.gm}Fp(t){this.$m=t,this.$m?this.fb().style.setProperty("cursor",t):this.fb().style.removeProperty("cursor")}pb(){return this.$m}mb(){return m(this.Lm[0]).Gp()}hb(t){(void 0!==t.autoSize||!this.Hm||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.Hm&&this.Jm(),!1===t.autoSize&&null!==this.Hm&&this.eb(),t.autoSize||void 0===t.width&&void 0===t.height||this.Qm(t.width||this.o_,t.height||this.ro))}ab(t){let n=0,l=0,a=this.Lm[0],r=(n,l)=>{let a=0;for(let u=0;u<this.Lm.length;u++){let d=this.Lm[u],c=b("left"===n?d.sm():d.rm()),g=c._p();null!==t&&c.up(t,l,a),a+=g.height}};this._b()&&(r("left",0),n+=b(a.sm())._p().width);for(let a=0;a<this.Lm.length;a++){let u=this.Lm[a],d=u._p();null!==t&&u.up(t,n,l),l+=d.height}n+=a._p().width,this.ub()&&(r("right",n),n+=b(a.rm())._p().width);let h=(n,l,a)=>{b("left"===n?this.Gm.ym():this.Gm.Cm()).up(b(t),l,a)};if(this.cn.timeScale.visible){let n=this.Gm._p();if(null!==t){let u=0;this._b()&&(h("left",u,l),u=b(a.sm())._p().width),this.Gm.up(t,u,l),u+=n.width,this.ub()&&h("right",u,l)}l+=n.height}return size({width:n,height:l})}bb(){var t,n,l;let a=0,u=0,d=0;for(let t of this.Lm)this._b()&&(u=Math.max(u,b(t.sm()).Gv(),this.cn.leftPriceScale.minimumWidth)),this.ub()&&(d=Math.max(d,b(t.rm()).Gv(),this.cn.rightPriceScale.minimumWidth)),a+=t.g_();u=(n=u)+n%2,d=(l=d)+l%2;let c=this.o_,g=this.ro,S=Math.max(c-u-d,0),y=this.cn.timeScale.visible,C=y?Math.max(this.Gm.Rm(),this.cn.timeScale.minimumHeight):0;C=(t=C)+t%2;let E=0+C,k=g<E?0:g-E,U=k/a,K=0;for(let t=0;t<this.Lm.length;++t){let n=this.Lm[t];n.Vp(this.$i.Uc()[t]);let l=0;l=Math.max(t===this.Lm.length-1?k-K:Math.round(n.g_()*U),2),K+=l,n.tp(size({width:S,height:l})),this._b()&&n.Zp(u,"left"),this.ub()&&n.Zp(d,"right"),n.np()&&this.$i.Kc(n.np(),l)}this.Gm.Pm(size({width:y?S:0,height:C}),y?u:0,y?d:0),this.$i.x_(S),this.Nm!==u&&(this.Nm=u),this.Fm!==d&&(this.Fm=d)}Km(t){t?this.gm.addEventListener("wheel",this.Ym,{passive:!1}):this.gm.removeEventListener("wheel",this.Ym)}wb(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return tU?1/window.devicePixelRatio:1}Xm(t){if(!(0!==t.deltaX&&this.cn.handleScroll.mouseWheel||0!==t.deltaY&&this.cn.handleScale.mouseWheel))return;let n=this.wb(t),l=n*t.deltaX/100,a=-n*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==a&&this.cn.handleScale.mouseWheel){let n=Math.sign(a)*Math.min(1,Math.abs(a)),l=t.clientX-this.gm.getBoundingClientRect().left;this.$t().Jc(l,n)}0!==l&&this.cn.handleScroll.mouseWheel&&this.$t().Qc(-80*l)}rb(t,n){var l;let a=t.jn();3===a&&this.gb(),3!==a&&2!==a||(this.Mb(t),this.xb(t,n),this.Gm.bt(),this.Lm.forEach(t=>{t.zp()}),3===(null===(l=this.Wm)||void 0===l?void 0:l.jn())&&(this.Wm.ts(t),this.gb(),this.Mb(this.Wm),this.xb(this.Wm,n),t=this.Wm,this.Wm=null)),this.sp(t)}xb(t,n){for(let l of t.Qn())this.ns(l,n)}Mb(t){let n=this.$i.Uc();for(let l=0;l<n.length;l++)t.Hn(l).Wn&&n[l].E_()}ns(t,n){let l=this.$i.St();switch(t.qn){case 0:l.rc();break;case 1:l.hc(t.Ot);break;case 2:l.Gn(t.Ot);break;case 3:l.Jn(t.Ot);break;case 4:l.Uu();break;case 5:t.Ot.Ju(n)||l.Jn(t.Ot.Qu(n))}}Dc(t){null!==this.Wm?this.Wm.ts(t):this.Wm=t,this.jm||(this.jm=!0,this.Em=window.requestAnimationFrame(t=>{if(this.jm=!1,this.Em=0,null!==this.Wm){let n=this.Wm;for(let l of(this.Wm=null,this.rb(n,t),n.Qn()))if(5===l.qn&&!l.Ot.Ju(t)){this.$t().Xn(l.Ot);break}}}))}gb(){this.tb()}tb(){let t=this.$i.Uc(),n=t.length,l=this.Lm.length;for(let t=n;t<l;t++){let t=m(this.Lm.pop());this.qm.removeChild(t.Kv()),t.Yp().p(this),t.Xp().p(this),t.S()}for(let a=l;a<n;a++){let n=new Rs(this,t[a]);n.Yp().l(this.Sb.bind(this),this),n.Xp().l(this.kb.bind(this),this),this.Lm.push(n),this.qm.insertBefore(n.Kv(),this.Gm.Kv())}for(let l=0;l<n;l++){let n=t[l],a=this.Lm[l];a.np()!==n?a.Vp(n):a.Bp()}this.ib(),this.bb()}yb(t,n,l){var a;let u;let d=new Map;if(null!==t&&this.$i.wt().forEach(n=>{let l=n.In().hl(t);null!==l&&d.set(n,l)}),null!==t){let n=null===(a=this.$i.St().Ui(t))||void 0===a?void 0:a.originalTime;void 0!==n&&(u=n)}let c=this.$t().Fc(),g=null!==c&&c.jc instanceof Zi?c.jc:void 0,S=null!==c&&void 0!==c.Sv?c.Sv.wr:void 0;return{Cb:u,se:null!=t?t:void 0,Tb:null!=n?n:void 0,Pb:g,Rb:d,Db:S,Ob:null!=l?l:void 0}}Sb(t,n,l){this.bp.m(()=>this.yb(t,n,l))}kb(t,n,l){this.wp.m(()=>this.yb(t,n,l))}Zm(t,n,l){this.Pc.m(()=>this.yb(t,n,l))}ib(){let t=this.cn.timeScale.visible?"":"none";this.Gm.Kv().style.display=t}_b(){return this.Lm[0].np().P_().W().visible}ub(){return this.Lm[0].np().R_().W().visible}Jm(){return"ResizeObserver"in window&&(this.Hm=new ResizeObserver(t=>{let n=t.find(t=>t.target===this.Um);n&&this.Qm(n.contentRect.width,n.contentRect.height)}),this.Hm.observe(this.Um,{box:"border-box"}),!0)}eb(){null!==this.Hm&&this.Hm.disconnect(),this.Hm=null}};function Ns(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function Fs(t,n){var l={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&0>n.indexOf(a)&&(l[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(a=Object.getOwnPropertySymbols(t);u<a.length;u++)0>n.indexOf(a[u])&&Object.prototype.propertyIsEnumerable.call(t,a[u])&&(l[a[u]]=t[a[u]])}return l}function Ws(t,n,l,a){let u=l.value,d={se:n,ot:t,Ot:[u,u,u,u],Cb:a};return void 0!==l.color&&(d.O=l.color),d}function js(t,n,l,a){let u=l.value,d={se:n,ot:t,Ot:[u,u,u,u],Cb:a};return void 0!==l.lineColor&&(d.lt=l.lineColor),void 0!==l.topColor&&(d.Ts=l.topColor),void 0!==l.bottomColor&&(d.Ps=l.bottomColor),d}function Hs(t,n,l,a){let u=l.value,d={se:n,ot:t,Ot:[u,u,u,u],Cb:a};return void 0!==l.topLineColor&&(d.Pe=l.topLineColor),void 0!==l.bottomLineColor&&(d.Re=l.bottomLineColor),void 0!==l.topFillColor1&&(d.Se=l.topFillColor1),void 0!==l.topFillColor2&&(d.ke=l.topFillColor2),void 0!==l.bottomFillColor1&&(d.ye=l.bottomFillColor1),void 0!==l.bottomFillColor2&&(d.Ce=l.bottomFillColor2),d}function $s(t,n,l,a){let u={se:n,ot:t,Ot:[l.open,l.high,l.low,l.close],Cb:a};return void 0!==l.color&&(u.O=l.color),u}function Us(t,n,l,a){let u={se:n,ot:t,Ot:[l.open,l.high,l.low,l.close],Cb:a};return void 0!==l.color&&(u.O=l.color),void 0!==l.borderColor&&(u.At=l.borderColor),void 0!==l.wickColor&&(u.Xh=l.wickColor),u}function qs(t,n,l,a,u){let d=m(u)(l),c=d[d.length-1],{time:g,color:S}=l;return{se:n,ot:t,Ot:[c,Math.max(...d),Math.min(...d),c],Cb:a,He:Fs(l,["time","color"]),O:S}}function Ys(t){return void 0!==t.Ot}function Xs(t,n){return void 0!==n.customValues&&(t.Ab=n.customValues),t}function Ks(t){return(n,l,a,u,d,c)=>(c?c(a):void 0===a.open&&void 0===a.value)?Xs({ot:n,se:l,Cb:u},a):Xs(t(n,l,a,u,d),a)}function Zs(t){return({Candlestick:Ks(Us),Bar:Ks($s),Area:Ks(js),Baseline:Ks(Hs),Histogram:Ks(Ws),Line:Ks(Ws),Custom:Ks(qs)})[t]}function Gs(t){return{se:0,Bb:new Map,ha:t}}function Js(t,n){if(void 0!==t&&0!==t.length)return{Vb:n.key(t[0].ot),Ib:n.key(t[t.length-1].ot)}}function Qs(t){let n;return t.forEach(t=>{void 0===n&&(n=t.Cb)}),m(n)}let te=class te{constructor(t){this.zb=new Map,this.Lb=new Map,this.Eb=new Map,this.Nb=[],this.U_=t}S(){this.zb.clear(),this.Lb.clear(),this.Eb.clear(),this.Nb=[]}Fb(t,n){let l=0!==this.zb.size,a=!1,u=this.Lb.get(t);if(void 0!==u){if(1===this.Lb.size)l=!1,a=!0,this.zb.clear();else for(let n of this.Nb)n.pointData.Bb.delete(t)&&(a=!0)}let d=[];if(0!==n.length){let l=n.map(t=>t.time),u=this.U_.createConverterToInternalObj(n),c=Zs(t.Jh()),g=t.ya(),S=t.Ca();d=n.map((n,d)=>{let y=u(n.time),C=this.U_.key(y),E=this.zb.get(C);void 0===E&&(E=Gs(y),this.zb.set(C,E),a=!0);let k=c(y,E.se,n,l[d],g,S);return E.Bb.set(t,k),k})}l&&this.Wb(),this.jb(t,d);let c=-1;if(a){let t=[];this.zb.forEach(n=>{t.push({timeWeight:0,time:n.ha,pointData:n,originalTime:Qs(n.Bb)})}),t.sort((t,n)=>this.U_.key(t.time)-this.U_.key(n.time)),c=this.Hb(t)}return this.$b(t,c,function(t,n,l){let a=Js(t,l),u=Js(n,l);if(void 0!==a&&void 0!==u)return{Ql:a.Ib>=u.Ib&&a.Vb>=u.Vb}}(this.Lb.get(t),u,this.U_))}fd(t){return this.Fb(t,[])}Ub(t,n){void 0===n.Cb&&(n.Cb=n.time),this.U_.preprocessData(n);let l=this.U_.createConverterToInternalObj([n])(n.time),a=this.Eb.get(t);if(void 0!==a&&this.U_.key(l)<this.U_.key(a))throw Error(`Cannot update oldest data, last time=${a}, new time=${l}`);let u=this.zb.get(this.U_.key(l)),d=void 0===u;void 0===u&&(u=Gs(l),this.zb.set(this.U_.key(l),u));let c=Zs(t.Jh()),g=t.ya(),S=t.Ca(),y=c(l,u.se,n,n.Cb,g,S);u.Bb.set(t,y),this.qb(t,y);let C={Ql:Ys(y)};if(!d)return this.$b(t,-1,C);let E={timeWeight:0,time:u.ha,pointData:u,originalTime:Qs(u.Bb)},k=tP(this.Nb,this.U_.key(E.time),(t,n)=>this.U_.key(t.time)<n);this.Nb.splice(k,0,E);for(let t=k;t<this.Nb.length;++t)ie(this.Nb[t].pointData,t);return this.U_.fillWeightsForPoints(this.Nb,k),this.$b(t,k,C)}qb(t,n){let l=this.Lb.get(t);void 0===l&&(l=[],this.Lb.set(t,l));let a=0!==l.length?l[l.length-1]:null;null===a||this.U_.key(n.ot)>this.U_.key(a.ot)?Ys(n)&&l.push(n):Ys(n)?l[l.length-1]=n:l.splice(-1,1),this.Eb.set(t,n.ot)}jb(t,n){0!==n.length?(this.Lb.set(t,n.filter(Ys)),this.Eb.set(t,n[n.length-1].ot)):(this.Lb.delete(t),this.Eb.delete(t))}Wb(){for(let t of this.Nb)0===t.pointData.Bb.size&&this.zb.delete(this.U_.key(t.time))}Hb(t){let n=-1;for(let l=0;l<this.Nb.length&&l<t.length;++l){let a=this.Nb[l],u=t[l];if(this.U_.key(a.time)!==this.U_.key(u.time)){n=l;break}u.timeWeight=a.timeWeight,ie(u.pointData,l)}if(-1===n&&this.Nb.length!==t.length&&(n=Math.min(this.Nb.length,t.length)),-1===n)return -1;for(let l=n;l<t.length;++l)ie(t[l].pointData,l);return this.U_.fillWeightsForPoints(t,n),this.Nb=t,n}Yb(){if(0===this.Lb.size)return null;let t=0;return this.Lb.forEach(n=>{0!==n.length&&(t=Math.max(t,n[n.length-1].se))}),t}$b(t,n,l){let a={Xb:new Map,St:{Lu:this.Yb()}};if(-1!==n)this.Lb.forEach((n,u)=>{a.Xb.set(u,{He:n,Kb:u===t?l:void 0})}),this.Lb.has(t)||a.Xb.set(t,{He:[],Kb:l}),a.St.Zb=this.Nb,a.St.Gb=n;else{let n=this.Lb.get(t);a.Xb.set(t,{He:n||[],Kb:l})}return a}};function ie(t,n){t.se=n,t.Bb.forEach(t=>{t.se=n})}function ne(t){let n={value:t.Ot[3],time:t.Cb};return void 0!==t.Ab&&(n.customValues=t.Ab),n}function se(t){let n=ne(t);return void 0!==t.O&&(n.color=t.O),n}function ee(t){let n=ne(t);return void 0!==t.lt&&(n.lineColor=t.lt),void 0!==t.Ts&&(n.topColor=t.Ts),void 0!==t.Ps&&(n.bottomColor=t.Ps),n}function re(t){let n=ne(t);return void 0!==t.Pe&&(n.topLineColor=t.Pe),void 0!==t.Re&&(n.bottomLineColor=t.Re),void 0!==t.Se&&(n.topFillColor1=t.Se),void 0!==t.ke&&(n.topFillColor2=t.ke),void 0!==t.ye&&(n.bottomFillColor1=t.ye),void 0!==t.Ce&&(n.bottomFillColor2=t.Ce),n}function he(t){let n={open:t.Ot[0],high:t.Ot[1],low:t.Ot[2],close:t.Ot[3],time:t.Cb};return void 0!==t.Ab&&(n.customValues=t.Ab),n}function le(t){let n=he(t);return void 0!==t.O&&(n.color=t.O),n}function ae(t){let n=he(t),{O:l,At:a,Xh:u}=t;return void 0!==l&&(n.color=l),void 0!==a&&(n.borderColor=a),void 0!==u&&(n.wickColor=u),n}function oe(t){return({Area:ee,Line:se,Baseline:re,Histogram:se,Bar:le,Candlestick:ae,Custom:_e})[t]}function _e(t){let n=t.Cb;return Object.assign(Object.assign({},t.He),{time:n})}let tZ={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},tK={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},tY={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:tO},tX={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},tJ={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},tq={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:tO,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function me(){return{width:0,height:0,autoSize:!1,layout:tY,crosshair:tZ,grid:tK,overlayPriceScales:Object.assign({},tX),leftPriceScale:Object.assign(Object.assign({},tX),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},tX),{visible:!0}),timeScale:tJ,watermark:tq,localization:{locale:tV?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}let be=class be{constructor(t,n){this.Jb=t,this.Qb=n}applyOptions(t){this.Jb.$t().Hc(this.Qb,t)}options(){return this.Li().W()}width(){return ot(this.Qb)?this.Jb.ob(this.Qb):0}Li(){return b(this.Jb.$t().$c(this.Qb)).Dt}};function we(t,n,l){let a=Fs(t,["time","originalTime"]),u=Object.assign({time:n},a);return void 0!==l&&(u.originalTime=l),u}let tQ={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};let Me=class Me{constructor(t){this.Eh=t}applyOptions(t){this.Eh.Hh(t)}options(){return this.Eh.W()}tw(){return this.Eh}};let xe=class xe{constructor(t,n,l,a,u){this.iw=new R,this.Ls=t,this.nw=n,this.sw=l,this.U_=u,this.ew=a}S(){this.iw.S()}priceFormatter(){return this.Ls.ma()}priceToCoordinate(t){let n=this.Ls.Ct();return null===n?null:this.Ls.Dt().Rt(t,n.Ot)}coordinateToPrice(t){let n=this.Ls.Ct();return null===n?null:this.Ls.Dt().pn(t,n.Ot)}barsInLogicalRange(t){if(null===t)return null;let n=new kn(new Mn(t.from,t.to)).hu(),l=this.Ls.In();if(l.Ni())return null;let a=l.hl(n.Os(),1),u=l.hl(n.ui(),-1),d=b(l.sl()),c=b(l.Vn());if(null!==a&&null!==u&&a.se>u.se)return{barsBefore:t.from-d,barsAfter:c-t.to};let g={barsBefore:null===a||a.se===d?t.from-d:a.se-d,barsAfter:null===u||u.se===c?c-t.to:c-u.se};return null!==a&&null!==u&&(g.from=a.Cb,g.to=u.Cb),g}setData(t){this.U_,this.Ls.Jh(),this.nw.rw(this.Ls,t),this.hw("full")}update(t){this.Ls.Jh(),this.nw.lw(this.Ls,t),this.hw("update")}dataByIndex(t,n){let l=this.Ls.In().hl(t,n);return null===l?null:oe(this.seriesType())(l)}data(){let t=oe(this.seriesType());return this.Ls.In().ie().map(n=>t(n))}subscribeDataChanged(t){this.iw.l(t)}unsubscribeDataChanged(t){this.iw.v(t)}setMarkers(t){this.U_;let n=t.map(t=>we(t,this.U_.convertHorzItemToInternal(t.time),t.time));this.Ls.ia(n)}markers(){return this.Ls.na().map(t=>we(t,t.originalTime,void 0))}applyOptions(t){this.Ls.Hh(t)}options(){return I(this.Ls.W())}priceScale(){return this.sw.priceScale(this.Ls.Dt().Ta())}createPriceLine(t){let n=D(I(tQ),t),l=this.Ls.sa(n);return new Me(l)}removePriceLine(t){this.Ls.ea(t.tw())}seriesType(){return this.Ls.Jh()}attachPrimitive(t){this.Ls.Sa(t),t.attached&&t.attached({chart:this.ew,series:this,requestUpdate:()=>this.Ls.$t().Kl()})}detachPrimitive(t){this.Ls.ka(t),t.detached&&t.detached()}hw(t){this.iw.M()&&this.iw.m(t)}};let Se=class Se{constructor(t,n,l){this.aw=new R,this.pu=new R,this.wm=new R,this.$i=t,this.kl=t.St(),this.Gm=n,this.kl.tc().l(this.ow.bind(this)),this.kl.nc().l(this._w.bind(this)),this.Gm.Tm().l(this.uw.bind(this)),this.U_=l}S(){this.kl.tc().p(this),this.kl.nc().p(this),this.Gm.Tm().p(this),this.aw.S(),this.pu.S(),this.wm.S()}scrollPosition(){return this.kl.ju()}scrollToPosition(t,n){n?this.kl.Gu(t,1e3):this.$i.Jn(t)}scrollToRealTime(){this.kl.Zu()}getVisibleRange(){let t=this.kl.Du();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){let n={from:this.U_.convertHorzItemToInternal(t.from),to:this.U_.convertHorzItemToInternal(t.to)},l=this.kl.Vu(n);this.$i.vd(l)}getVisibleLogicalRange(){let t=this.kl.Ru();return null===t?null:{from:t.Os(),to:t.ui()}}setVisibleLogicalRange(t){p(t.from<=t.to,"The from index cannot be after the to index."),this.$i.vd(t)}resetTimeScale(){this.$i.Zn()}fitContent(){this.$i.rc()}logicalToCoordinate(t){let n=this.$i.St();return n.Ni()?null:n.It(t)}coordinateToLogical(t){return this.kl.Ni()?null:this.kl.Eu(t)}timeToCoordinate(t){let n=this.U_.convertHorzItemToInternal(t),l=this.kl.Da(n,!1);return null===l?null:this.kl.It(l)}coordinateToTime(t){let n=this.$i.St(),l=n.Eu(t),a=n.Ui(l);return null===a?null:a.originalTime}width(){return this.Gm.Gp().width}height(){return this.Gm.Gp().height}subscribeVisibleTimeRangeChange(t){this.aw.l(t)}unsubscribeVisibleTimeRangeChange(t){this.aw.v(t)}subscribeVisibleLogicalRangeChange(t){this.pu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.pu.v(t)}subscribeSizeChange(t){this.wm.l(t)}unsubscribeSizeChange(t){this.wm.v(t)}applyOptions(t){this.kl.Hh(t)}options(){return Object.assign(Object.assign({},I(this.kl.W())),{barSpacing:this.kl.he()})}ow(){this.aw.M()&&this.aw.m(this.getVisibleRange())}_w(){this.pu.M()&&this.pu.m(this.getVisibleLogicalRange())}uw(t){this.wm.m(t.width,t.height)}};function ye(t){return function(t){if(V(t.handleScale)){let n=t.handleScale;t.handleScale={axisDoubleClickReset:{time:n,price:n},axisPressedMouseMove:{time:n,price:n},mouseWheel:n,pinch:n}}else if(void 0!==t.handleScale){let{axisPressedMouseMove:n,axisDoubleClickReset:l}=t.handleScale;V(n)&&(t.handleScale.axisPressedMouseMove={time:n,price:n}),V(l)&&(t.handleScale.axisDoubleClickReset={time:l,price:l})}let n=t.handleScroll;V(n)&&(t.handleScroll={horzTouchDrag:n,vertTouchDrag:n,mouseWheel:n,pressedMouseMove:n})}(t),t}let Ce=class Ce{constructor(t,n,l){this.cw=new Map,this.dw=new Map,this.fw=new R,this.pw=new R,this.mw=new R,this.bw=new te(n);let a=void 0===l?I(me()):D(I(me()),ye(l));this.U_=n,this.Jb=new Es(t,a,n),this.Jb.Yp().l(t=>{this.fw.M()&&this.fw.m(this.ww(t()))},this),this.Jb.Xp().l(t=>{this.pw.M()&&this.pw.m(this.ww(t()))},this),this.Jb.Xc().l(t=>{this.mw.M()&&this.mw.m(this.ww(t()))},this);let u=this.Jb.$t();this.gw=new Se(u,this.Jb.sb(),this.U_)}remove(){this.Jb.Yp().p(this),this.Jb.Xp().p(this),this.Jb.Xc().p(this),this.gw.S(),this.Jb.S(),this.cw.clear(),this.dw.clear(),this.fw.S(),this.pw.S(),this.mw.S(),this.bw.S()}resize(t,n,l){this.autoSizeActive()||this.Jb.Qm(t,n,l)}addCustomSeries(t,n){let l=w(t),a=Object.assign(Object.assign({},tx),l.defaultOptions());return this.Mw("Custom",a,n,l)}addAreaSeries(t){return this.Mw("Area",tw,t)}addBaselineSeries(t){return this.Mw("Baseline",tS,t)}addBarSeries(t){return this.Mw("Bar",tg,t)}addCandlestickSeries(t={}){return void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor),this.Mw("Candlestick",tv,t)}addHistogramSeries(t){return this.Mw("Histogram",ty,t)}addLineSeries(t){return this.Mw("Line",tb,t)}removeSeries(t){let n=m(this.cw.get(t)),l=this.bw.fd(n);this.Jb.$t().fd(n),this.xw(l),this.cw.delete(t),this.dw.delete(n)}rw(t,n){this.xw(this.bw.Fb(t,n))}lw(t,n){this.xw(this.bw.Ub(t,n))}subscribeClick(t){this.fw.l(t)}unsubscribeClick(t){this.fw.v(t)}subscribeCrosshairMove(t){this.mw.l(t)}unsubscribeCrosshairMove(t){this.mw.v(t)}subscribeDblClick(t){this.pw.l(t)}unsubscribeDblClick(t){this.pw.v(t)}priceScale(t){return new be(this.Jb,t)}timeScale(){return this.gw}applyOptions(t){this.Jb.Hh(ye(t))}options(){return this.Jb.W()}takeScreenshot(){return this.Jb.lb()}autoSizeActive(){return this.Jb.cb()}chartElement(){return this.Jb.fb()}paneSize(){let t=this.Jb.mb();return{height:t.height,width:t.width}}setCrosshairPosition(t,n,l){let a=this.cw.get(l);if(void 0===a)return;let u=this.Jb.$t().cr(a);null!==u&&this.Jb.$t().ld(t,n,u)}clearCrosshairPosition(){this.Jb.$t().ad(!0)}Mw(t,n,l={},a){var u;void 0!==(u=l.priceFormat)&&"custom"!==u.type&&void 0!==u.minMove&&void 0===u.precision&&(u.precision=function(t){if(t>=1)return 0;let n=0;for(;n<8;n++){let n=Math.round(t);if(1e-8>Math.abs(n-t))break;t*=10}return n}(u.minMove));let d=D(I(tC),I(n),l),c=this.Jb.$t().ud(t,d,a),g=new xe(c,this,this,this,this.U_);return this.cw.set(g,c),this.dw.set(c,g),g}xw(t){let n=this.Jb.$t();n.od(t.St.Lu,t.St.Zb,t.St.Gb),t.Xb.forEach((t,n)=>n.J(t.He,t.Kb)),n.Fu()}Sw(t){return m(this.dw.get(t))}ww(t){let n=new Map;t.Rb.forEach((t,l)=>{let a=l.Jh(),u=oe(a)(t);if("Custom"!==a)p(void 0!==u.open||void 0!==u.value);else{let t=l.Ca();p(!t||!1===t(u))}n.set(this.Sw(l),u)});let l=void 0!==t.Pb&&this.dw.has(t.Pb)?this.Sw(t.Pb):void 0;return{time:t.Cb,logical:t.se,point:t.Tb,hoveredSeries:l,hoveredObjectId:t.Db,seriesData:n,sourceEvent:t.Ob}}};function Pe(t,n){return function(t,n,l){let a;if(B(t)){let n=document.getElementById(t);p(null!==n,`Cannot find element in DOM with id=${t}`),a=n}else a=t;let u=new Ce(a,n,l);return n.setOptions(u.options()),u}(t,new ts,ts.Vd(n))}Object.assign(Object.assign({},tC),tx)},22546:function(t,n,l){"use strict";l.d(n,{tq:function(){return S},o5:function(){return y}});var a=l(67294),u=l(44988);function isObject(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function extend(t,n){let l=["__proto__","constructor","prototype"];Object.keys(n).filter(t=>0>l.indexOf(t)).forEach(l=>{void 0===t[l]?t[l]=n[l]:isObject(n[l])&&isObject(t[l])&&Object.keys(n[l]).length>0?n[l].__swiper__?t[l]=n[l]:extend(t[l],n[l]):t[l]=n[l]})}function needsNavigation(t={}){return t.navigation&&void 0===t.navigation.nextEl&&void 0===t.navigation.prevEl}function needsPagination(t={}){return t.pagination&&void 0===t.pagination.el}function needsScrollbar(t={}){return t.scrollbar&&void 0===t.scrollbar.el}function uniqueClasses(t=""){let n=t.split(" ").map(t=>t.trim()).filter(t=>!!t),l=[];return n.forEach(t=>{0>l.indexOf(t)&&l.push(t)}),l.join(" ")}let d=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function isChildSwiperSlide(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}let updateOnVirtualData=t=>{t&&!t.destroyed&&t.params.virtual&&(!t.params.virtual||t.params.virtual.enabled)&&(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function useIsomorphicLayoutEffect(t,n){return"undefined"==typeof window?(0,a.useEffect)(t,n):(0,a.useLayoutEffect)(t,n)}let c=(0,a.createContext)(null),g=(0,a.createContext)(null);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a])}return t}).apply(this,arguments)}let S=(0,a.forwardRef)(function(t,n){let{className:l,tag:c="div",wrapperTag:S="div",children:y,onSwiper:C,...E}=void 0===t?{}:t,k=!1,[U,K]=(0,a.useState)("swiper"),[ti,tl]=(0,a.useState)(null),[tr,th]=(0,a.useState)(!1),ta=(0,a.useRef)(!1),to=(0,a.useRef)(null),tu=(0,a.useRef)(null),td=(0,a.useRef)(null),tc=(0,a.useRef)(null),tp=(0,a.useRef)(null),tf=(0,a.useRef)(null),tm=(0,a.useRef)(null),tv=(0,a.useRef)(null),{params:tg,passedParams:tb,rest:tw,events:tS}=function(t={},n=!0){let l={on:{}},a={},c={};extend(l,u.ZP.defaults),extend(l,u.ZP.extendedDefaults),l._emitClasses=!0,l.init=!1;let g={},S=d.map(t=>t.replace(/_/,"")),y=Object.assign({},t);return Object.keys(y).forEach(u=>{void 0!==t[u]&&(S.indexOf(u)>=0?isObject(t[u])?(l[u]={},c[u]={},extend(l[u],t[u]),extend(c[u],t[u])):(l[u]=t[u],c[u]=t[u]):0===u.search(/on[A-Z]/)&&"function"==typeof t[u]?n?a[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:l.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:g[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(t=>{!0===l[t]&&(l[t]={}),!1===l[t]&&delete l[t]}),{params:l,passedParams:c,rest:g,events:a}}(E),{slides:ty,slots:tx}=function(t){let n=[],l={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return a.Children.toArray(t).forEach(t=>{if(isChildSwiperSlide(t))n.push(t);else if(t.props&&t.props.slot&&l[t.props.slot])l[t.props.slot].push(t);else if(t.props&&t.props.children){let u=function processChildren(t){let n=[];return a.Children.toArray(t).forEach(t=>{isChildSwiperSlide(t)?n.push(t):t.props&&t.props.children&&processChildren(t.props.children).forEach(t=>n.push(t))}),n}(t.props.children);u.length>0?u.forEach(t=>n.push(t)):l["container-end"].push(t)}else l["container-end"].push(t)}),{slides:n,slots:l}}(y),onBeforeBreakpoint=()=>{th(!tr)};Object.assign(tg.on,{_containerClasses(t,n){K(n)}});let initSwiper=()=>{Object.assign(tg.on,tS),k=!0;let t={...tg};if(delete t.wrapperClass,tu.current=new u.ZP(t),tu.current.virtual&&tu.current.params.virtual.enabled){tu.current.virtual.slides=ty;let t={cache:!1,slides:ty,renderExternal:tl,renderExternalUpdate:!1};extend(tu.current.params.virtual,t),extend(tu.current.originalParams.virtual,t)}};to.current||initSwiper(),tu.current&&tu.current.on("_beforeBreakpoint",onBeforeBreakpoint);let attachEvents=()=>{!k&&tS&&tu.current&&Object.keys(tS).forEach(t=>{tu.current.on(t,tS[t])})},detachEvents=()=>{tS&&tu.current&&Object.keys(tS).forEach(t=>{tu.current.off(t,tS[t])})};return(0,a.useEffect)(()=>()=>{tu.current&&tu.current.off("_beforeBreakpoint",onBeforeBreakpoint)}),(0,a.useEffect)(()=>{!ta.current&&tu.current&&(tu.current.emitSlidesClasses(),ta.current=!0)}),useIsomorphicLayoutEffect(()=>{if(n&&(n.current=to.current),to.current)return tu.current.destroyed&&initSwiper(),function({el:t,nextEl:n,prevEl:l,paginationEl:a,scrollbarEl:u,swiper:d},c){needsNavigation(c)&&n&&l&&(d.params.navigation.nextEl=n,d.originalParams.navigation.nextEl=n,d.params.navigation.prevEl=l,d.originalParams.navigation.prevEl=l),needsPagination(c)&&a&&(d.params.pagination.el=a,d.originalParams.pagination.el=a),needsScrollbar(c)&&u&&(d.params.scrollbar.el=u,d.originalParams.scrollbar.el=u),d.init(t)}({el:to.current,nextEl:tp.current,prevEl:tf.current,paginationEl:tm.current,scrollbarEl:tv.current,swiper:tu.current},tg),C&&C(tu.current),()=>{tu.current&&!tu.current.destroyed&&tu.current.destroy(!0,!1)}},[]),useIsomorphicLayoutEffect(()=>{attachEvents();let t=function(t,n,l,a,u){let c=[];if(!n)return c;let addKey=t=>{0>c.indexOf(t)&&c.push(t)};if(l&&a){let t=a.map(u),n=l.map(u);t.join("")!==n.join("")&&addKey("children"),a.length!==l.length&&addKey("children")}let g=d.filter(t=>"_"===t[0]).map(t=>t.replace(/_/,""));return g.forEach(l=>{if(l in t&&l in n){if(isObject(t[l])&&isObject(n[l])){let a=Object.keys(t[l]),u=Object.keys(n[l]);a.length!==u.length?addKey(l):(a.forEach(a=>{t[l][a]!==n[l][a]&&addKey(l)}),u.forEach(a=>{t[l][a]!==n[l][a]&&addKey(l)}))}else t[l]!==n[l]&&addKey(l)}}),c}(tb,td.current,ty,tc.current,t=>t.key);return td.current=tb,tc.current=ty,t.length&&tu.current&&!tu.current.destroyed&&function({swiper:t,slides:n,passedParams:l,changedParams:a,nextEl:u,prevEl:d,scrollbarEl:c,paginationEl:g}){let S,y,C,E,k,U,K,ti;let tl=a.filter(t=>"children"!==t&&"direction"!==t&&"wrapperClass"!==t),{params:tr,pagination:th,navigation:ta,scrollbar:to,virtual:tu,thumbs:td}=t;a.includes("thumbs")&&l.thumbs&&l.thumbs.swiper&&tr.thumbs&&!tr.thumbs.swiper&&(S=!0),a.includes("controller")&&l.controller&&l.controller.control&&tr.controller&&!tr.controller.control&&(y=!0),a.includes("pagination")&&l.pagination&&(l.pagination.el||g)&&(tr.pagination||!1===tr.pagination)&&th&&!th.el&&(C=!0),a.includes("scrollbar")&&l.scrollbar&&(l.scrollbar.el||c)&&(tr.scrollbar||!1===tr.scrollbar)&&to&&!to.el&&(E=!0),a.includes("navigation")&&l.navigation&&(l.navigation.prevEl||d)&&(l.navigation.nextEl||u)&&(tr.navigation||!1===tr.navigation)&&ta&&!ta.prevEl&&!ta.nextEl&&(k=!0);let destroyModule=n=>{t[n]&&(t[n].destroy(),"navigation"===n?(t.isElement&&(t[n].prevEl.remove(),t[n].nextEl.remove()),tr[n].prevEl=void 0,tr[n].nextEl=void 0,t[n].prevEl=void 0,t[n].nextEl=void 0):(t.isElement&&t[n].el.remove(),tr[n].el=void 0,t[n].el=void 0))};if(a.includes("loop")&&t.isElement&&(tr.loop&&!l.loop?U=!0:!tr.loop&&l.loop?K=!0:ti=!0),tl.forEach(t=>{if(isObject(tr[t])&&isObject(l[t]))extend(tr[t],l[t]),("navigation"===t||"pagination"===t||"scrollbar"===t)&&"enabled"in l[t]&&!l[t].enabled&&destroyModule(t);else{let n=l[t];(!0===n||!1===n)&&("navigation"===t||"pagination"===t||"scrollbar"===t)?!1===n&&destroyModule(t):tr[t]=l[t]}}),tl.includes("controller")&&!y&&t.controller&&t.controller.control&&tr.controller&&tr.controller.control&&(t.controller.control=tr.controller.control),a.includes("children")&&n&&tu&&tr.virtual.enabled&&(tu.slides=n,tu.update(!0)),a.includes("children")&&n&&tr.loop&&(ti=!0),S){let t=td.init();t&&td.update(!0)}y&&(t.controller.control=tr.controller.control),C&&(t.isElement&&(!g||"string"==typeof g)&&((g=document.createElement("div")).classList.add("swiper-pagination"),t.el.shadowEl.appendChild(g)),g&&(tr.pagination.el=g),th.init(),th.render(),th.update()),E&&(t.isElement&&(!c||"string"==typeof c)&&((c=document.createElement("div")).classList.add("swiper-scrollbar"),t.el.shadowEl.appendChild(c)),c&&(tr.scrollbar.el=c),to.init(),to.updateSize(),to.setTranslate()),k&&(t.isElement&&(u&&"string"!=typeof u||((u=document.createElement("div")).classList.add("swiper-button-next"),t.el.shadowEl.appendChild(u)),d&&"string"!=typeof d||((d=document.createElement("div")).classList.add("swiper-button-prev"),t.el.shadowEl.appendChild(d))),u&&(tr.navigation.nextEl=u),d&&(tr.navigation.prevEl=d),ta.init(),ta.update()),a.includes("allowSlideNext")&&(t.allowSlideNext=l.allowSlideNext),a.includes("allowSlidePrev")&&(t.allowSlidePrev=l.allowSlidePrev),a.includes("direction")&&t.changeDirection(l.direction,!1),(U||ti)&&t.loopDestroy(),(K||ti)&&t.loopCreate(),t.update()}({swiper:tu.current,slides:ty,passedParams:tb,changedParams:t,nextEl:tp.current,prevEl:tf.current,scrollbarEl:tv.current,paginationEl:tm.current}),()=>{detachEvents()}}),useIsomorphicLayoutEffect(()=>{updateOnVirtualData(tu.current)},[ti]),a.createElement(c,_extends({ref:to,className:uniqueClasses(`${U}${l?` ${l}`:""}`)},tw),a.createElement(g.Provider,{value:tu.current},tx["container-start"],a.createElement(S,{className:function(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}(tg.wrapperClass)},tx["wrapper-start"],tg.virtual?function(t,n,l){if(!l)return null;let getSlideIndex=t=>{let l=t;return t<0?l=n.length+t:l>=n.length&&(l-=n.length),l},u=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${l.offset}px`}:{top:`${l.offset}px`},{from:d,to:c}=l,g=t.params.loop?-n.length:0,S=t.params.loop?2*n.length:n.length,y=[];for(let t=g;t<S;t+=1)t>=d&&t<=c&&y.push(n[getSlideIndex(t)]);return y.map((n,l)=>a.cloneElement(n,{swiper:t,style:u,key:`slide-${l}`}))}(tu.current,ty,ti):ty.map((t,n)=>a.cloneElement(t,{swiper:tu.current,swiperSlideIndex:n})),tx["wrapper-end"]),needsNavigation(tg)&&a.createElement(a.Fragment,null,a.createElement("div",{ref:tf,className:"swiper-button-prev"}),a.createElement("div",{ref:tp,className:"swiper-button-next"})),needsScrollbar(tg)&&a.createElement("div",{ref:tv,className:"swiper-scrollbar"}),needsPagination(tg)&&a.createElement("div",{ref:tm,className:"swiper-pagination"}),tx["container-end"]))});function swiper_slide_extends(){return(swiper_slide_extends=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a])}return t}).apply(this,arguments)}S.displayName="Swiper";let y=(0,a.forwardRef)(function(t,n){let{tag:l="div",children:u,className:d="",swiper:g,zoom:S,lazy:y,virtualIndex:C,swiperSlideIndex:E,...k}=void 0===t?{}:t,U=(0,a.useRef)(null),[K,ti]=(0,a.useState)("swiper-slide"),[tl,tr]=(0,a.useState)(!1);function updateClasses(t,n,l){n===U.current&&ti(l)}useIsomorphicLayoutEffect(()=>{if(void 0!==E&&(U.current.swiperSlideIndex=E),n&&(n.current=U.current),U.current&&g){if(g.destroyed){"swiper-slide"!==K&&ti("swiper-slide");return}return g.on("_slideClass",updateClasses),()=>{g&&g.off("_slideClass",updateClasses)}}}),useIsomorphicLayoutEffect(()=>{g&&U.current&&!g.destroyed&&ti(g.getSlideClasses(U.current))},[g]);let th={isActive:K.indexOf("swiper-slide-active")>=0,isVisible:K.indexOf("swiper-slide-visible")>=0,isPrev:K.indexOf("swiper-slide-prev")>=0,isNext:K.indexOf("swiper-slide-next")>=0},renderChildren=()=>"function"==typeof u?u(th):u;return a.createElement(l,swiper_slide_extends({ref:U,className:uniqueClasses(`${K}${d?` ${d}`:""}`),"data-swiper-slide-index":C,onLoad:()=>{tr(!0)}},k),S&&a.createElement(c.Provider,{value:th},a.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"==typeof S?S:void 0},renderChildren(),y&&!tl&&a.createElement("div",{className:"swiper-lazy-preloader"}))),!S&&a.createElement(c.Provider,{value:th},renderChildren(),y&&!tl&&a.createElement("div",{className:"swiper-lazy-preloader"})))});y.displayName="SwiperSlide"},44988:function(t,n,l){"use strict";let a,u,d;function ssr_window_esm_isObject(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function extend(t={},n={}){Object.keys(n).forEach(l=>{void 0===t[l]?t[l]=n[l]:ssr_window_esm_isObject(n[l])&&ssr_window_esm_isObject(t[l])&&Object.keys(n[l]).length>0&&extend(t[l],n[l])})}l.d(n,{tl:function(){return Pagination},ZP:function(){return k}});let c={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ssr_window_esm_getDocument(){let t="undefined"!=typeof document?document:{};return extend(t,c),t}let g={document:c,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:t=>"undefined"==typeof setTimeout?(t(),null):setTimeout(t,0),cancelAnimationFrame(t){"undefined"!=typeof setTimeout&&clearTimeout(t)}};function ssr_window_esm_getWindow(){let t="undefined"!=typeof window?window:{};return extend(t,g),t}function utils_nextTick(t,n=0){return setTimeout(t,n)}function utils_now(){return Date.now()}function utils_isObject(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function utils_extend(...t){let n=Object(t[0]),l=["__proto__","constructor","prototype"];for(let a=1;a<t.length;a+=1){let u=t[a];if(null!=u&&("undefined"!=typeof window&&void 0!==window.HTMLElement?!(u instanceof HTMLElement):!u||1!==u.nodeType&&11!==u.nodeType)){let t=Object.keys(Object(u)).filter(t=>0>l.indexOf(t));for(let l=0,a=t.length;l<a;l+=1){let a=t[l],d=Object.getOwnPropertyDescriptor(u,a);void 0!==d&&d.enumerable&&(utils_isObject(n[a])&&utils_isObject(u[a])?u[a].__swiper__?n[a]=u[a]:utils_extend(n[a],u[a]):!utils_isObject(n[a])&&utils_isObject(u[a])?(n[a]={},u[a].__swiper__?n[a]=u[a]:utils_extend(n[a],u[a])):n[a]=u[a])}}}return n}function utils_setCSSProperty(t,n,l){t.style.setProperty(n,l)}function animateCSSModeScroll({swiper:t,targetPosition:n,side:l}){let a;let u=ssr_window_esm_getWindow(),d=-t.translate,c=null,g=t.params.speed;t.wrapperEl.style.scrollSnapType="none",u.cancelAnimationFrame(t.cssModeFrameID);let S=n>d?"next":"prev",isOutOfBound=(t,n)=>"next"===S&&t>=n||"prev"===S&&t<=n,animate=()=>{a=new Date().getTime(),null===c&&(c=a);let S=Math.max(Math.min((a-c)/g,1),0),y=d+(.5-Math.cos(S*Math.PI)/2)*(n-d);if(isOutOfBound(y,n)&&(y=n),t.wrapperEl.scrollTo({[l]:y}),isOutOfBound(y,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[l]:y})}),u.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=u.requestAnimationFrame(animate)};animate()}function utils_elementChildren(t,n=""){return[...t.children].filter(t=>t.matches(n))}function utils_createElement(t,n=[]){let l=document.createElement(t);return l.classList.add(...Array.isArray(n)?n:[n]),l}function elementStyle(t,n){let l=ssr_window_esm_getWindow();return l.getComputedStyle(t,null).getPropertyValue(n)}function utils_elementIndex(t){let n,l=t;if(l){for(n=0;null!==(l=l.previousSibling);)1===l.nodeType&&(n+=1);return n}}function utils_elementParents(t,n){let l=[],a=t.parentElement;for(;a;)n?a.matches(n)&&l.push(a):l.push(a),a=a.parentElement;return l}function elementOuterSize(t,n,l){let a=ssr_window_esm_getWindow();return l?t["width"===n?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(t,null).getPropertyValue("width"===n?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(t,null).getPropertyValue("width"===n?"margin-left":"margin-bottom")):t.offsetWidth}function getSupport(){return a||(a=function(){let t=ssr_window_esm_getWindow(),n=ssr_window_esm_getDocument();return{smoothScroll:n.documentElement&&n.documentElement.style&&"scrollBehavior"in n.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&n instanceof t.DocumentTouch)}}()),a}let processLazyPreloader=(t,n)=>{if(!t||t.destroyed||!t.params)return;let l=n.closest(t.isElement?"swiper-slide":`.${t.params.slideClass}`);if(l){let n=l.querySelector(`.${t.params.lazyPreloaderClass}`);n&&n.remove()}},unlazy=(t,n)=>{if(!t.slides[n])return;let l=t.slides[n].querySelector('[loading="lazy"]');l&&l.removeAttribute("loading")},preload=t=>{if(!t||t.destroyed||!t.params)return;let n=t.params.lazyPreloadPrevNext,l=t.slides.length;if(!l||!n||n<0)return;n=Math.min(n,l);let a="auto"===t.params.slidesPerView?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),u=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){let l=[u-n];l.push(...Array.from({length:n}).map((t,n)=>u+a+n)),t.slides.forEach((n,a)=>{l.includes(n.column)&&unlazy(t,a)});return}let d=u+a-1;if(t.params.rewind||t.params.loop)for(let a=u-n;a<=d+n;a+=1){let n=(a%l+l)%l;(n<u||n>d)&&unlazy(t,n)}else for(let a=Math.max(u-n,0);a<=Math.min(d+n,l-1);a+=1)a!==u&&(a>d||a<u)&&unlazy(t,a)};function transitionEmit({swiper:t,runCallbacks:n,direction:l,step:a}){let{activeIndex:u,previousIndex:d}=t,c=l;if(c||(c=u>d?"next":u<d?"prev":"reset"),t.emit(`transition${a}`),n&&u!==d){if("reset"===c){t.emit(`slideResetTransition${a}`);return}t.emit(`slideChangeTransition${a}`),"next"===c?t.emit(`slideNextTransition${a}`):t.emit(`slidePrevTransition${a}`)}}function onTouchStart(t){let n=ssr_window_esm_getDocument(),l=ssr_window_esm_getWindow(),a=this.touchEventsData;a.evCache.push(t);let{params:u,touches:d,enabled:c}=this;if(!c||!u.simulateTouch&&"mouse"===t.pointerType||this.animating&&u.preventInteractionOnTransition)return;!this.animating&&u.cssMode&&u.loop&&this.loopFix();let g=t;g.originalEvent&&(g=g.originalEvent);let S=g.target;if("wrapper"===u.touchEventsTarget&&!this.wrapperEl.contains(S)||"which"in g&&3===g.which||"button"in g&&g.button>0||a.isTouched&&a.isMoved)return;let y=!!u.noSwipingClass&&""!==u.noSwipingClass,C=t.composedPath?t.composedPath():t.path;y&&g.target&&g.target.shadowRoot&&C&&(S=C[0]);let E=u.noSwipingSelector?u.noSwipingSelector:`.${u.noSwipingClass}`,k=!!(g.target&&g.target.shadowRoot);if(u.noSwiping&&(k?function(t,n=this){return function __closestFrom(n){if(!n||n===ssr_window_esm_getDocument()||n===ssr_window_esm_getWindow())return null;n.assignedSlot&&(n=n.assignedSlot);let l=n.closest(t);return l||n.getRootNode?l||__closestFrom(n.getRootNode().host):null}(n)}(E,S):S.closest(E))){this.allowClick=!0;return}if(u.swipeHandler&&!S.closest(u.swipeHandler))return;d.currentX=g.pageX,d.currentY=g.pageY;let U=d.currentX,K=d.currentY,ti=u.edgeSwipeDetection||u.iOSEdgeSwipeDetection,tl=u.edgeSwipeThreshold||u.iOSEdgeSwipeThreshold;if(ti&&(U<=tl||U>=l.innerWidth-tl)){if("prevent"!==ti)return;t.preventDefault()}Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=U,d.startY=K,a.touchStartTime=utils_now(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,u.threshold>0&&(a.allowThresholdMove=!1);let tr=!0;S.matches(a.focusableElements)&&(tr=!1,"SELECT"===S.nodeName&&(a.isTouched=!1)),n.activeElement&&n.activeElement.matches(a.focusableElements)&&n.activeElement!==S&&n.activeElement.blur();let th=tr&&this.allowTouchMove&&u.touchStartPreventDefault;(u.touchStartForcePreventDefault||th)&&!S.isContentEditable&&g.preventDefault(),u.freeMode&&u.freeMode.enabled&&this.freeMode&&this.animating&&!u.cssMode&&this.freeMode.onTouchStart(),this.emit("touchStart",g)}function onTouchMove(t){let n;let l=ssr_window_esm_getDocument(),a=this.touchEventsData,{params:u,touches:d,rtlTranslate:c,enabled:g}=this;if(!g||!u.simulateTouch&&"mouse"===t.pointerType)return;let S=t;if(S.originalEvent&&(S=S.originalEvent),!a.isTouched){a.startMoving&&a.isScrolling&&this.emit("touchMoveOpposite",S);return}let y=a.evCache.findIndex(t=>t.pointerId===S.pointerId);y>=0&&(a.evCache[y]=S);let C=a.evCache.length>1?a.evCache[0]:S,E=C.pageX,k=C.pageY;if(S.preventedByNestedSwiper){d.startX=E,d.startY=k;return}if(!this.allowTouchMove){S.target.matches(a.focusableElements)||(this.allowClick=!1),a.isTouched&&(Object.assign(d,{startX:E,startY:k,prevX:this.touches.currentX,prevY:this.touches.currentY,currentX:E,currentY:k}),a.touchStartTime=utils_now());return}if(u.touchReleaseOnEdges&&!u.loop){if(this.isVertical()){if(k<d.startY&&this.translate<=this.maxTranslate()||k>d.startY&&this.translate>=this.minTranslate()){a.isTouched=!1,a.isMoved=!1;return}}else if(E<d.startX&&this.translate<=this.maxTranslate()||E>d.startX&&this.translate>=this.minTranslate())return}if(l.activeElement&&S.target===l.activeElement&&S.target.matches(a.focusableElements)){a.isMoved=!0,this.allowClick=!1;return}if(a.allowTouchCallbacks&&this.emit("touchMove",S),S.targetTouches&&S.targetTouches.length>1)return;d.currentX=E,d.currentY=k;let U=d.currentX-d.startX,K=d.currentY-d.startY;if(this.params.threshold&&Math.sqrt(U**2+K**2)<this.params.threshold)return;if(void 0===a.isScrolling){let t;this.isHorizontal()&&d.currentY===d.startY||this.isVertical()&&d.currentX===d.startX?a.isScrolling=!1:U*U+K*K>=25&&(t=180*Math.atan2(Math.abs(K),Math.abs(U))/Math.PI,a.isScrolling=this.isHorizontal()?t>u.touchAngle:90-t>u.touchAngle)}if(a.isScrolling&&this.emit("touchMoveOpposite",S),void 0===a.startMoving&&(d.currentX!==d.startX||d.currentY!==d.startY)&&(a.startMoving=!0),a.isScrolling||this.zoom&&this.params.zoom&&this.params.zoom.enabled&&a.evCache.length>1){a.isTouched=!1;return}if(!a.startMoving)return;this.allowClick=!1,!u.cssMode&&S.cancelable&&S.preventDefault(),u.touchMoveStopPropagation&&!u.nested&&S.stopPropagation();let ti=this.isHorizontal()?U:K,tl=this.isHorizontal()?d.currentX-d.previousX:d.currentY-d.previousY;u.oneWayMovement&&(ti=Math.abs(ti)*(c?1:-1),tl=Math.abs(tl)*(c?1:-1)),d.diff=ti,ti*=u.touchRatio,c&&(ti=-ti,tl=-tl);let tr=this.touchesDirection;this.swipeDirection=ti>0?"prev":"next",this.touchesDirection=tl>0?"prev":"next";let th=this.params.loop&&!u.cssMode;if(!a.isMoved){if(th&&this.loopFix({direction:this.swipeDirection}),a.startTranslate=this.getTranslate(),this.setTransition(0),this.animating){let t=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});this.wrapperEl.dispatchEvent(t)}a.allowMomentumBounce=!1,u.grabCursor&&(!0===this.allowSlideNext||!0===this.allowSlidePrev)&&this.setGrabCursor(!0),this.emit("sliderFirstMove",S)}a.isMoved&&tr!==this.touchesDirection&&th&&Math.abs(ti)>=1&&(this.loopFix({direction:this.swipeDirection,setTranslate:!0}),n=!0),this.emit("sliderMove",S),a.isMoved=!0,a.currentTranslate=ti+a.startTranslate;let ta=!0,to=u.resistanceRatio;if(u.touchReleaseOnEdges&&(to=0),ti>0?(th&&!n&&a.currentTranslate>(u.centeredSlides?this.minTranslate()-this.size/2:this.minTranslate())&&this.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),a.currentTranslate>this.minTranslate()&&(ta=!1,u.resistance&&(a.currentTranslate=this.minTranslate()-1+(-this.minTranslate()+a.startTranslate+ti)**to))):ti<0&&(th&&!n&&a.currentTranslate<(u.centeredSlides?this.maxTranslate()+this.size/2:this.maxTranslate())&&this.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:this.slides.length-("auto"===u.slidesPerView?this.slidesPerViewDynamic():Math.ceil(parseFloat(u.slidesPerView,10)))}),a.currentTranslate<this.maxTranslate()&&(ta=!1,u.resistance&&(a.currentTranslate=this.maxTranslate()+1-(this.maxTranslate()-a.startTranslate-ti)**to))),ta&&(S.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),this.allowSlidePrev||this.allowSlideNext||(a.currentTranslate=a.startTranslate),u.threshold>0){if(Math.abs(ti)>u.threshold||a.allowThresholdMove){if(!a.allowThresholdMove){a.allowThresholdMove=!0,d.startX=d.currentX,d.startY=d.currentY,a.currentTranslate=a.startTranslate,d.diff=this.isHorizontal()?d.currentX-d.startX:d.currentY-d.startY;return}}else{a.currentTranslate=a.startTranslate;return}}u.followFinger&&!u.cssMode&&((u.freeMode&&u.freeMode.enabled&&this.freeMode||u.watchSlidesProgress)&&(this.updateActiveIndex(),this.updateSlidesClasses()),u.freeMode&&u.freeMode.enabled&&this.freeMode&&this.freeMode.onTouchMove(),this.updateProgress(a.currentTranslate),this.setTranslate(a.currentTranslate))}function onTouchEnd(t){let n;let l=this,a=l.touchEventsData,u=a.evCache.findIndex(n=>n.pointerId===t.pointerId);if(u>=0&&a.evCache.splice(u,1),["pointercancel","pointerout","pointerleave"].includes(t.type)){let n="pointercancel"===t.type&&(l.browser.isSafari||l.browser.isWebView);if(!n)return}let{params:d,touches:c,rtlTranslate:g,slidesGrid:S,enabled:y}=l;if(!y||!d.simulateTouch&&"mouse"===t.pointerType)return;let C=t;if(C.originalEvent&&(C=C.originalEvent),a.allowTouchCallbacks&&l.emit("touchEnd",C),a.allowTouchCallbacks=!1,!a.isTouched){a.isMoved&&d.grabCursor&&l.setGrabCursor(!1),a.isMoved=!1,a.startMoving=!1;return}d.grabCursor&&a.isMoved&&a.isTouched&&(!0===l.allowSlideNext||!0===l.allowSlidePrev)&&l.setGrabCursor(!1);let E=utils_now(),k=E-a.touchStartTime;if(l.allowClick){let t=C.path||C.composedPath&&C.composedPath();l.updateClickedSlide(t&&t[0]||C.target),l.emit("tap click",C),k<300&&E-a.lastClickTime<300&&l.emit("doubleTap doubleClick",C)}if(a.lastClickTime=utils_now(),utils_nextTick(()=>{l.destroyed||(l.allowClick=!0)}),!a.isTouched||!a.isMoved||!l.swipeDirection||0===c.diff||a.currentTranslate===a.startTranslate){a.isTouched=!1,a.isMoved=!1,a.startMoving=!1;return}if(a.isTouched=!1,a.isMoved=!1,a.startMoving=!1,n=d.followFinger?g?l.translate:-l.translate:-a.currentTranslate,d.cssMode)return;if(d.freeMode&&d.freeMode.enabled){l.freeMode.onTouchEnd({currentPos:n});return}let U=0,K=l.slidesSizesGrid[0];for(let t=0;t<S.length;t+=t<d.slidesPerGroupSkip?1:d.slidesPerGroup){let l=t<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;void 0!==S[t+l]?n>=S[t]&&n<S[t+l]&&(U=t,K=S[t+l]-S[t]):n>=S[t]&&(U=t,K=S[S.length-1]-S[S.length-2])}let ti=null,tl=null;d.rewind&&(l.isBeginning?tl=d.virtual&&d.virtual.enabled&&l.virtual?l.virtual.slides.length-1:l.slides.length-1:l.isEnd&&(ti=0));let tr=(n-S[U])/K,th=U<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;if(k>d.longSwipesMs){if(!d.longSwipes){l.slideTo(l.activeIndex);return}"next"===l.swipeDirection&&(tr>=d.longSwipesRatio?l.slideTo(d.rewind&&l.isEnd?ti:U+th):l.slideTo(U)),"prev"===l.swipeDirection&&(tr>1-d.longSwipesRatio?l.slideTo(U+th):null!==tl&&tr<0&&Math.abs(tr)>d.longSwipesRatio?l.slideTo(tl):l.slideTo(U))}else{if(!d.shortSwipes){l.slideTo(l.activeIndex);return}let t=l.navigation&&(C.target===l.navigation.nextEl||C.target===l.navigation.prevEl);t?C.target===l.navigation.nextEl?l.slideTo(U+th):l.slideTo(U):("next"===l.swipeDirection&&l.slideTo(null!==ti?ti:U+th),"prev"===l.swipeDirection&&l.slideTo(null!==tl?tl:U))}}function onResize(){let t=this,{params:n,el:l}=t;if(l&&0===l.offsetWidth)return;n.breakpoints&&t.setBreakpoint();let{allowSlideNext:a,allowSlidePrev:u,snapGrid:d}=t,c=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();let g=c&&n.loop;"auto"!==n.slidesPerView&&!(n.slidesPerView>1)||!t.isEnd||t.isBeginning||t.params.centeredSlides||g?t.params.loop&&!c?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0):t.slideTo(t.slides.length-1,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=u,t.allowSlideNext=a,t.params.watchOverflow&&d!==t.snapGrid&&t.checkOverflow()}function onClick(t){this.enabled&&!this.allowClick&&(this.params.preventClicks&&t.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function onScroll(){let{wrapperEl:t,rtlTranslate:n,enabled:l}=this;if(!l)return;this.previousTranslate=this.translate,this.isHorizontal()?this.translate=-t.scrollLeft:this.translate=-t.scrollTop,0===this.translate&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();let a=this.maxTranslate()-this.minTranslate();(0===a?0:(this.translate-this.minTranslate())/a)!==this.progress&&this.updateProgress(n?-this.translate:this.translate),this.emit("setTranslate",this.translate,!1)}function onLoad(t){processLazyPreloader(this,t.target),!this.params.cssMode&&("auto"===this.params.slidesPerView||this.params.autoHeight)&&this.update()}let S=!1;function dummyEventListener(){}let events=(t,n)=>{let l=ssr_window_esm_getDocument(),{params:a,el:u,wrapperEl:d,device:c}=t,g=!!a.nested,S="on"===n?"addEventListener":"removeEventListener";u[S]("pointerdown",t.onTouchStart,{passive:!1}),l[S]("pointermove",t.onTouchMove,{passive:!1,capture:g}),l[S]("pointerup",t.onTouchEnd,{passive:!0}),l[S]("pointercancel",t.onTouchEnd,{passive:!0}),l[S]("pointerout",t.onTouchEnd,{passive:!0}),l[S]("pointerleave",t.onTouchEnd,{passive:!0}),(a.preventClicks||a.preventClicksPropagation)&&u[S]("click",t.onClick,!0),a.cssMode&&d[S]("scroll",t.onScroll),a.updateOnWindowResize?t[n](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,!0):t[n]("observerUpdate",onResize,!0),u[S]("load",t.onLoad,{capture:!0})},isGridEnabled=(t,n)=>t.grid&&n.grid&&n.grid.rows>1;var y={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};let C={eventsEmitter:{on(t,n,l){let a=this;if(!a.eventsListeners||a.destroyed||"function"!=typeof n)return a;let u=l?"unshift":"push";return t.split(" ").forEach(t=>{a.eventsListeners[t]||(a.eventsListeners[t]=[]),a.eventsListeners[t][u](n)}),a},once(t,n,l){let a=this;if(!a.eventsListeners||a.destroyed||"function"!=typeof n)return a;function onceHandler(...l){a.off(t,onceHandler),onceHandler.__emitterProxy&&delete onceHandler.__emitterProxy,n.apply(a,l)}return onceHandler.__emitterProxy=n,a.on(t,onceHandler,l)},onAny(t,n){return!this.eventsListeners||this.destroyed||"function"!=typeof t||0>this.eventsAnyListeners.indexOf(t)&&this.eventsAnyListeners[n?"unshift":"push"](t),this},offAny(t){if(!this.eventsListeners||this.destroyed||!this.eventsAnyListeners)return this;let n=this.eventsAnyListeners.indexOf(t);return n>=0&&this.eventsAnyListeners.splice(n,1),this},off(t,n){let l=this;return l.eventsListeners&&!l.destroyed&&l.eventsListeners&&t.split(" ").forEach(t=>{void 0===n?l.eventsListeners[t]=[]:l.eventsListeners[t]&&l.eventsListeners[t].forEach((a,u)=>{(a===n||a.__emitterProxy&&a.__emitterProxy===n)&&l.eventsListeners[t].splice(u,1)})}),l},emit(...t){let n,l,a;let u=this;if(!u.eventsListeners||u.destroyed||!u.eventsListeners)return u;"string"==typeof t[0]||Array.isArray(t[0])?(n=t[0],l=t.slice(1,t.length),a=u):(n=t[0].events,l=t[0].data,a=t[0].context||u),l.unshift(a);let d=Array.isArray(n)?n:n.split(" ");return d.forEach(t=>{u.eventsAnyListeners&&u.eventsAnyListeners.length&&u.eventsAnyListeners.forEach(n=>{n.apply(a,[t,...l])}),u.eventsListeners&&u.eventsListeners[t]&&u.eventsListeners[t].forEach(t=>{t.apply(a,l)})}),u}},update:{updateSize:function(){let t,n;let l=this.el;t=void 0!==this.params.width&&null!==this.params.width?this.params.width:l.clientWidth,n=void 0!==this.params.height&&null!==this.params.height?this.params.height:l.clientHeight,0===t&&this.isHorizontal()||0===n&&this.isVertical()||(t=t-parseInt(elementStyle(l,"padding-left")||0,10)-parseInt(elementStyle(l,"padding-right")||0,10),n=n-parseInt(elementStyle(l,"padding-top")||0,10)-parseInt(elementStyle(l,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(this,{width:t,height:n,size:this.isHorizontal()?t:n}))},updateSlides:function(){let t;let n=this;function getDirectionLabel(t){return n.isHorizontal()?t:({width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"})[t]}function getDirectionPropertyValue(t,n){return parseFloat(t.getPropertyValue(getDirectionLabel(n))||0)}let l=n.params,{wrapperEl:a,slidesEl:u,size:d,rtlTranslate:c,wrongRTL:g}=n,S=n.virtual&&l.virtual.enabled,y=S?n.virtual.slides.length:n.slides.length,C=utils_elementChildren(u,`.${n.params.slideClass}, swiper-slide`),E=S?n.virtual.slides.length:C.length,k=[],U=[],K=[],ti=l.slidesOffsetBefore;"function"==typeof ti&&(ti=l.slidesOffsetBefore.call(n));let tl=l.slidesOffsetAfter;"function"==typeof tl&&(tl=l.slidesOffsetAfter.call(n));let tr=n.snapGrid.length,th=n.slidesGrid.length,ta=l.spaceBetween,to=-ti,tu=0,td=0;if(void 0===d)return;"string"==typeof ta&&ta.indexOf("%")>=0?ta=parseFloat(ta.replace("%",""))/100*d:"string"==typeof ta&&(ta=parseFloat(ta)),n.virtualSize=-ta,C.forEach(t=>{c?t.style.marginLeft="":t.style.marginRight="",t.style.marginBottom="",t.style.marginTop=""}),l.centeredSlides&&l.cssMode&&(utils_setCSSProperty(a,"--swiper-centered-offset-before",""),utils_setCSSProperty(a,"--swiper-centered-offset-after",""));let tc=l.grid&&l.grid.rows>1&&n.grid;tc&&n.grid.initSlides(E);let tp="auto"===l.slidesPerView&&l.breakpoints&&Object.keys(l.breakpoints).filter(t=>void 0!==l.breakpoints[t].slidesPerView).length>0;for(let a=0;a<E;a+=1){let u;if(t=0,C[a]&&(u=C[a]),tc&&n.grid.updateSlide(a,u,E,getDirectionLabel),!C[a]||"none"!==elementStyle(u,"display")){if("auto"===l.slidesPerView){tp&&(C[a].style[getDirectionLabel("width")]="");let d=getComputedStyle(u),c=u.style.transform,g=u.style.webkitTransform;if(c&&(u.style.transform="none"),g&&(u.style.webkitTransform="none"),l.roundLengths)t=n.isHorizontal()?elementOuterSize(u,"width",!0):elementOuterSize(u,"height",!0);else{let n=getDirectionPropertyValue(d,"width"),l=getDirectionPropertyValue(d,"padding-left"),a=getDirectionPropertyValue(d,"padding-right"),c=getDirectionPropertyValue(d,"margin-left"),g=getDirectionPropertyValue(d,"margin-right"),S=d.getPropertyValue("box-sizing");if(S&&"border-box"===S)t=n+c+g;else{let{clientWidth:d,offsetWidth:S}=u;t=n+l+a+c+g+(S-d)}}c&&(u.style.transform=c),g&&(u.style.webkitTransform=g),l.roundLengths&&(t=Math.floor(t))}else t=(d-(l.slidesPerView-1)*ta)/l.slidesPerView,l.roundLengths&&(t=Math.floor(t)),C[a]&&(C[a].style[getDirectionLabel("width")]=`${t}px`);C[a]&&(C[a].swiperSlideSize=t),K.push(t),l.centeredSlides?(to=to+t/2+tu/2+ta,0===tu&&0!==a&&(to=to-d/2-ta),0===a&&(to=to-d/2-ta),.001>Math.abs(to)&&(to=0),l.roundLengths&&(to=Math.floor(to)),td%l.slidesPerGroup==0&&k.push(to),U.push(to)):(l.roundLengths&&(to=Math.floor(to)),(td-Math.min(n.params.slidesPerGroupSkip,td))%n.params.slidesPerGroup==0&&k.push(to),U.push(to),to=to+t+ta),n.virtualSize+=t+ta,tu=t,td+=1}}if(n.virtualSize=Math.max(n.virtualSize,d)+tl,c&&g&&("slide"===l.effect||"coverflow"===l.effect)&&(a.style.width=`${n.virtualSize+ta}px`),l.setWrapperSize&&(a.style[getDirectionLabel("width")]=`${n.virtualSize+ta}px`),tc&&n.grid.updateWrapperSize(t,k,getDirectionLabel),!l.centeredSlides){let t=[];for(let a=0;a<k.length;a+=1){let u=k[a];l.roundLengths&&(u=Math.floor(u)),k[a]<=n.virtualSize-d&&t.push(u)}k=t,Math.floor(n.virtualSize-d)-Math.floor(k[k.length-1])>1&&k.push(n.virtualSize-d)}if(S&&l.loop){let t=K[0]+ta;if(l.slidesPerGroup>1){let a=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/l.slidesPerGroup),u=t*l.slidesPerGroup;for(let t=0;t<a;t+=1)k.push(k[k.length-1]+u)}for(let a=0;a<n.virtual.slidesBefore+n.virtual.slidesAfter;a+=1)1===l.slidesPerGroup&&k.push(k[k.length-1]+t),U.push(U[U.length-1]+t),n.virtualSize+=t}if(0===k.length&&(k=[0]),0!==ta){let t=n.isHorizontal()&&c?"marginLeft":getDirectionLabel("marginRight");C.filter((t,n)=>!l.cssMode||!!l.loop||n!==C.length-1).forEach(n=>{n.style[t]=`${ta}px`})}if(l.centeredSlides&&l.centeredSlidesBounds){let t=0;K.forEach(n=>{t+=n+(ta||0)}),t-=ta;let n=t-d;k=k.map(t=>t<=0?-ti:t>n?n+tl:t)}if(l.centerInsufficientSlides){let t=0;if(K.forEach(n=>{t+=n+(ta||0)}),(t-=ta)<d){let n=(d-t)/2;k.forEach((t,l)=>{k[l]=t-n}),U.forEach((t,l)=>{U[l]=t+n})}}if(Object.assign(n,{slides:C,snapGrid:k,slidesGrid:U,slidesSizesGrid:K}),l.centeredSlides&&l.cssMode&&!l.centeredSlidesBounds){utils_setCSSProperty(a,"--swiper-centered-offset-before",`${-k[0]}px`),utils_setCSSProperty(a,"--swiper-centered-offset-after",`${n.size/2-K[K.length-1]/2}px`);let t=-n.snapGrid[0],l=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(n=>n+t),n.slidesGrid=n.slidesGrid.map(t=>t+l)}if(E!==y&&n.emit("slidesLengthChange"),k.length!==tr&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),U.length!==th&&n.emit("slidesGridLengthChange"),l.watchSlidesProgress&&n.updateSlidesOffset(),!S&&!l.cssMode&&("slide"===l.effect||"fade"===l.effect)){let t=`${l.containerModifierClass}backface-hidden`,a=n.el.classList.contains(t);E<=l.maxBackfaceHiddenSlides?a||n.el.classList.add(t):a&&n.el.classList.remove(t)}},updateAutoHeight:function(t){let n;let l=this,a=[],u=l.virtual&&l.params.virtual.enabled,d=0;"number"==typeof t?l.setTransition(t):!0===t&&l.setTransition(l.params.speed);let getSlideByIndex=t=>u?l.slides[l.getSlideIndexByData(t)]:l.slides[t];if("auto"!==l.params.slidesPerView&&l.params.slidesPerView>1){if(l.params.centeredSlides)(l.visibleSlides||[]).forEach(t=>{a.push(t)});else for(n=0;n<Math.ceil(l.params.slidesPerView);n+=1){let t=l.activeIndex+n;if(t>l.slides.length&&!u)break;a.push(getSlideByIndex(t))}}else a.push(getSlideByIndex(l.activeIndex));for(n=0;n<a.length;n+=1)if(void 0!==a[n]){let t=a[n].offsetHeight;d=t>d?t:d}(d||0===d)&&(l.wrapperEl.style.height=`${d}px`)},updateSlidesOffset:function(){let t=this.slides,n=this.isElement?this.isHorizontal()?this.wrapperEl.offsetLeft:this.wrapperEl.offsetTop:0;for(let l=0;l<t.length;l+=1)t[l].swiperSlideOffset=(this.isHorizontal()?t[l].offsetLeft:t[l].offsetTop)-n-this.cssOverflowAdjustment()},updateSlidesProgress:function(t=this&&this.translate||0){let n=this.params,{slides:l,rtlTranslate:a,snapGrid:u}=this;if(0===l.length)return;void 0===l[0].swiperSlideOffset&&this.updateSlidesOffset();let d=-t;a&&(d=t),l.forEach(t=>{t.classList.remove(n.slideVisibleClass)}),this.visibleSlidesIndexes=[],this.visibleSlides=[];let c=n.spaceBetween;"string"==typeof c&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*this.size:"string"==typeof c&&(c=parseFloat(c));for(let t=0;t<l.length;t+=1){let g=l[t],S=g.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(S-=l[0].swiperSlideOffset);let y=(d+(n.centeredSlides?this.minTranslate():0)-S)/(g.swiperSlideSize+c),C=(d-u[0]+(n.centeredSlides?this.minTranslate():0)-S)/(g.swiperSlideSize+c),E=-(d-S),k=E+this.slidesSizesGrid[t],U=E>=0&&E<this.size-1||k>1&&k<=this.size||E<=0&&k>=this.size;U&&(this.visibleSlides.push(g),this.visibleSlidesIndexes.push(t),l[t].classList.add(n.slideVisibleClass)),g.progress=a?-y:y,g.originalProgress=a?-C:C}},updateProgress:function(t){if(void 0===t){let n=this.rtlTranslate?-1:1;t=this&&this.translate&&this.translate*n||0}let n=this.params,l=this.maxTranslate()-this.minTranslate(),{progress:a,isBeginning:u,isEnd:d,progressLoop:c}=this,g=u,S=d;if(0===l)a=0,u=!0,d=!0;else{a=(t-this.minTranslate())/l;let n=1>Math.abs(t-this.minTranslate()),c=1>Math.abs(t-this.maxTranslate());u=n||a<=0,d=c||a>=1,n&&(a=0),c&&(a=1)}if(n.loop){let n=this.getSlideIndexByData(0),l=this.getSlideIndexByData(this.slides.length-1),a=this.slidesGrid[n],u=this.slidesGrid[l],d=this.slidesGrid[this.slidesGrid.length-1],g=Math.abs(t);(c=g>=a?(g-a)/d:(g+d-u)/d)>1&&(c-=1)}Object.assign(this,{progress:a,progressLoop:c,isBeginning:u,isEnd:d}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&this.updateSlidesProgress(t),u&&!g&&this.emit("reachBeginning toEdge"),d&&!S&&this.emit("reachEnd toEdge"),(g&&!u||S&&!d)&&this.emit("fromEdge"),this.emit("progress",a)},updateSlidesClasses:function(){let t;let{slides:n,params:l,slidesEl:a,activeIndex:u}=this,d=this.virtual&&l.virtual.enabled,getFilteredSlide=t=>utils_elementChildren(a,`.${l.slideClass}${t}, swiper-slide${t}`)[0];if(n.forEach(t=>{t.classList.remove(l.slideActiveClass,l.slideNextClass,l.slidePrevClass)}),d){if(l.loop){let n=u-this.virtual.slidesBefore;n<0&&(n=this.virtual.slides.length+n),n>=this.virtual.slides.length&&(n-=this.virtual.slides.length),t=getFilteredSlide(`[data-swiper-slide-index="${n}"]`)}else t=getFilteredSlide(`[data-swiper-slide-index="${u}"]`)}else t=n[u];if(t){t.classList.add(l.slideActiveClass);let a=function(t,n){let l=[];for(;t.nextElementSibling;){let a=t.nextElementSibling;n?a.matches(n)&&l.push(a):l.push(a),t=a}return l}(t,`.${l.slideClass}, swiper-slide`)[0];l.loop&&!a&&(a=n[0]),a&&a.classList.add(l.slideNextClass);let u=function(t,n){let l=[];for(;t.previousElementSibling;){let a=t.previousElementSibling;n?a.matches(n)&&l.push(a):l.push(a),t=a}return l}(t,`.${l.slideClass}, swiper-slide`)[0];l.loop,u&&u.classList.add(l.slidePrevClass)}this.emitSlidesClasses()},updateActiveIndex:function(t){let n,l;let a=this,u=a.rtlTranslate?a.translate:-a.translate,{snapGrid:d,params:c,activeIndex:g,realIndex:S,snapIndex:y}=a,C=t,getVirtualRealIndex=t=>{let n=t-a.virtual.slidesBefore;return n<0&&(n=a.virtual.slides.length+n),n>=a.virtual.slides.length&&(n-=a.virtual.slides.length),n};if(void 0===C&&(C=function(t){let n;let{slidesGrid:l,params:a}=t,u=t.rtlTranslate?t.translate:-t.translate;for(let t=0;t<l.length;t+=1)void 0!==l[t+1]?u>=l[t]&&u<l[t+1]-(l[t+1]-l[t])/2?n=t:u>=l[t]&&u<l[t+1]&&(n=t+1):u>=l[t]&&(n=t);return a.normalizeSlideIndex&&(n<0||void 0===n)&&(n=0),n}(a)),d.indexOf(u)>=0)n=d.indexOf(u);else{let t=Math.min(c.slidesPerGroupSkip,C);n=t+Math.floor((C-t)/c.slidesPerGroup)}if(n>=d.length&&(n=d.length-1),C===g){n!==y&&(a.snapIndex=n,a.emit("snapIndexChange")),a.params.loop&&a.virtual&&a.params.virtual.enabled&&(a.realIndex=getVirtualRealIndex(C));return}l=a.virtual&&c.virtual.enabled&&c.loop?getVirtualRealIndex(C):a.slides[C]?parseInt(a.slides[C].getAttribute("data-swiper-slide-index")||C,10):C,Object.assign(a,{previousSnapIndex:y,snapIndex:n,previousRealIndex:S,realIndex:l,previousIndex:g,activeIndex:C}),a.initialized&&preload(a),a.emit("activeIndexChange"),a.emit("snapIndexChange"),S!==l&&a.emit("realIndexChange"),(a.initialized||a.params.runCallbacksOnInit)&&a.emit("slideChange")},updateClickedSlide:function(t){let n;let l=this.params,a=t.closest(`.${l.slideClass}, swiper-slide`),u=!1;if(a){for(let t=0;t<this.slides.length;t+=1)if(this.slides[t]===a){u=!0,n=t;break}}if(a&&u)this.clickedSlide=a,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):this.clickedIndex=n;else{this.clickedSlide=void 0,this.clickedIndex=void 0;return}l.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},translate:{getTranslate:function(t=this.isHorizontal()?"x":"y"){let{params:n,rtlTranslate:l,translate:a,wrapperEl:u}=this;if(n.virtualTranslate)return l?-a:a;if(n.cssMode)return a;let d=function(t,n="x"){let l,a,u;let d=ssr_window_esm_getWindow(),c=function(t){let n;let l=ssr_window_esm_getWindow();return l.getComputedStyle&&(n=l.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}(t,null);return d.WebKitCSSMatrix?((a=c.transform||c.webkitTransform).split(",").length>6&&(a=a.split(", ").map(t=>t.replace(",",".")).join(", ")),u=new d.WebKitCSSMatrix("none"===a?"":a)):l=(u=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===n&&(a=d.WebKitCSSMatrix?u.m41:16===l.length?parseFloat(l[12]):parseFloat(l[4])),"y"===n&&(a=d.WebKitCSSMatrix?u.m42:16===l.length?parseFloat(l[13]):parseFloat(l[5])),a||0}(u,t);return d+=this.cssOverflowAdjustment(),l&&(d=-d),d||0},setTranslate:function(t,n){let{rtlTranslate:l,params:a,wrapperEl:u,progress:d}=this,c=0,g=0;this.isHorizontal()?c=l?-t:t:g=t,a.roundLengths&&(c=Math.floor(c),g=Math.floor(g)),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?c:g,a.cssMode?u[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-c:-g:a.virtualTranslate||(this.isHorizontal()?c-=this.cssOverflowAdjustment():g-=this.cssOverflowAdjustment(),u.style.transform=`translate3d(${c}px, ${g}px, 0px)`);let S=this.maxTranslate()-this.minTranslate();(0===S?0:(t-this.minTranslate())/S)!==d&&this.updateProgress(t),this.emit("setTranslate",this.translate,n)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(t=0,n=this.params.speed,l=!0,a=!0,u){let d;let c=this,{params:g,wrapperEl:S}=c;if(c.animating&&g.preventInteractionOnTransition)return!1;let y=c.minTranslate(),C=c.maxTranslate();if(d=a&&t>y?y:a&&t<C?C:t,c.updateProgress(d),g.cssMode){let t=c.isHorizontal();if(0===n)S[t?"scrollLeft":"scrollTop"]=-d;else{if(!c.support.smoothScroll)return animateCSSModeScroll({swiper:c,targetPosition:-d,side:t?"left":"top"}),!0;S.scrollTo({[t?"left":"top"]:-d,behavior:"smooth"})}return!0}return 0===n?(c.setTransition(0),c.setTranslate(d),l&&(c.emit("beforeTransitionStart",n,u),c.emit("transitionEnd"))):(c.setTransition(n),c.setTranslate(d),l&&(c.emit("beforeTransitionStart",n,u),c.emit("transitionStart")),c.animating||(c.animating=!0,c.onTranslateToWrapperTransitionEnd||(c.onTranslateToWrapperTransitionEnd=function(t){c&&!c.destroyed&&t.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onTranslateToWrapperTransitionEnd),c.onTranslateToWrapperTransitionEnd=null,delete c.onTranslateToWrapperTransitionEnd,l&&c.emit("transitionEnd"))}),c.wrapperEl.addEventListener("transitionend",c.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(t,n){this.params.cssMode||(this.wrapperEl.style.transitionDuration=`${t}ms`),this.emit("setTransition",t,n)},transitionStart:function(t=!0,n){let{params:l}=this;l.cssMode||(l.autoHeight&&this.updateAutoHeight(),transitionEmit({swiper:this,runCallbacks:t,direction:n,step:"Start"}))},transitionEnd:function(t=!0,n){let{params:l}=this;this.animating=!1,l.cssMode||(this.setTransition(0),transitionEmit({swiper:this,runCallbacks:t,direction:n,step:"End"}))}},slide:{slideTo:function(t=0,n=this.params.speed,l=!0,a,u){let d;"string"==typeof t&&(t=parseInt(t,10));let c=this,g=t;g<0&&(g=0);let{params:S,snapGrid:y,slidesGrid:C,previousIndex:E,activeIndex:k,rtlTranslate:U,wrapperEl:K,enabled:ti}=c;if(c.animating&&S.preventInteractionOnTransition||!ti&&!a&&!u)return!1;let tl=Math.min(c.params.slidesPerGroupSkip,g),tr=tl+Math.floor((g-tl)/c.params.slidesPerGroup);tr>=y.length&&(tr=y.length-1);let th=-y[tr];if(S.normalizeSlideIndex)for(let t=0;t<C.length;t+=1){let n=-Math.floor(100*th),l=Math.floor(100*C[t]),a=Math.floor(100*C[t+1]);void 0!==C[t+1]?n>=l&&n<a-(a-l)/2?g=t:n>=l&&n<a&&(g=t+1):n>=l&&(g=t)}if(c.initialized&&g!==k&&(!c.allowSlideNext&&(U?th>c.translate&&th>c.minTranslate():th<c.translate&&th<c.minTranslate())||!c.allowSlidePrev&&th>c.translate&&th>c.maxTranslate()&&(k||0)!==g))return!1;if(g!==(E||0)&&l&&c.emit("beforeSlideChangeStart"),c.updateProgress(th),d=g>k?"next":g<k?"prev":"reset",U&&-th===c.translate||!U&&th===c.translate)return c.updateActiveIndex(g),S.autoHeight&&c.updateAutoHeight(),c.updateSlidesClasses(),"slide"!==S.effect&&c.setTranslate(th),"reset"!==d&&(c.transitionStart(l,d),c.transitionEnd(l,d)),!1;if(S.cssMode){let t=c.isHorizontal(),l=U?th:-th;if(0===n){let n=c.virtual&&c.params.virtual.enabled;n&&(c.wrapperEl.style.scrollSnapType="none",c._immediateVirtual=!0),n&&!c._cssModeVirtualInitialSet&&c.params.initialSlide>0?(c._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{K[t?"scrollLeft":"scrollTop"]=l})):K[t?"scrollLeft":"scrollTop"]=l,n&&requestAnimationFrame(()=>{c.wrapperEl.style.scrollSnapType="",c._immediateVirtual=!1})}else{if(!c.support.smoothScroll)return animateCSSModeScroll({swiper:c,targetPosition:l,side:t?"left":"top"}),!0;K.scrollTo({[t?"left":"top"]:l,behavior:"smooth"})}return!0}return c.setTransition(n),c.setTranslate(th),c.updateActiveIndex(g),c.updateSlidesClasses(),c.emit("beforeTransitionStart",n,a),c.transitionStart(l,d),0===n?c.transitionEnd(l,d):c.animating||(c.animating=!0,c.onSlideToWrapperTransitionEnd||(c.onSlideToWrapperTransitionEnd=function(t){c&&!c.destroyed&&t.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onSlideToWrapperTransitionEnd),c.onSlideToWrapperTransitionEnd=null,delete c.onSlideToWrapperTransitionEnd,c.transitionEnd(l,d))}),c.wrapperEl.addEventListener("transitionend",c.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(t=0,n=this.params.speed,l=!0,a){if("string"==typeof t){let n=parseInt(t,10);t=n}let u=t;return this.params.loop&&(this.virtual&&this.params.virtual.enabled?u+=this.virtual.slidesBefore:u=this.getSlideIndexByData(u)),this.slideTo(u,n,l,a)},slideNext:function(t=this.params.speed,n=!0,l){let{enabled:a,params:u,animating:d}=this;if(!a)return this;let c=u.slidesPerGroup;"auto"===u.slidesPerView&&1===u.slidesPerGroup&&u.slidesPerGroupAuto&&(c=Math.max(this.slidesPerViewDynamic("current",!0),1));let g=this.activeIndex<u.slidesPerGroupSkip?1:c,S=this.virtual&&u.virtual.enabled;if(u.loop){if(d&&!S&&u.loopPreventsSliding)return!1;this.loopFix({direction:"next"}),this._clientLeft=this.wrapperEl.clientLeft}return u.rewind&&this.isEnd?this.slideTo(0,t,n,l):this.slideTo(this.activeIndex+g,t,n,l)},slidePrev:function(t=this.params.speed,n=!0,l){let{params:a,snapGrid:u,slidesGrid:d,rtlTranslate:c,enabled:g,animating:S}=this;if(!g)return this;let y=this.virtual&&a.virtual.enabled;if(a.loop){if(S&&!y&&a.loopPreventsSliding)return!1;this.loopFix({direction:"prev"}),this._clientLeft=this.wrapperEl.clientLeft}let C=c?this.translate:-this.translate;function normalize(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}let E=normalize(C),k=u.map(t=>normalize(t)),U=u[k.indexOf(E)-1];if(void 0===U&&a.cssMode){let t;u.forEach((n,l)=>{E>=n&&(t=l)}),void 0!==t&&(U=u[t>0?t-1:t])}let K=0;if(void 0!==U&&((K=d.indexOf(U))<0&&(K=this.activeIndex-1),"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(K=Math.max(K=K-this.slidesPerViewDynamic("previous",!0)+1,0))),a.rewind&&this.isBeginning){let a=this.params.virtual&&this.params.virtual.enabled&&this.virtual?this.virtual.slides.length-1:this.slides.length-1;return this.slideTo(a,t,n,l)}return this.slideTo(K,t,n,l)},slideReset:function(t=this.params.speed,n=!0,l){return this.slideTo(this.activeIndex,t,n,l)},slideToClosest:function(t=this.params.speed,n=!0,l,a=.5){let u=this.activeIndex,d=Math.min(this.params.slidesPerGroupSkip,u),c=d+Math.floor((u-d)/this.params.slidesPerGroup),g=this.rtlTranslate?this.translate:-this.translate;if(g>=this.snapGrid[c]){let t=this.snapGrid[c],n=this.snapGrid[c+1];g-t>(n-t)*a&&(u+=this.params.slidesPerGroup)}else{let t=this.snapGrid[c-1],n=this.snapGrid[c];g-t<=(n-t)*a&&(u-=this.params.slidesPerGroup)}return u=Math.min(u=Math.max(u,0),this.slidesGrid.length-1),this.slideTo(u,t,n,l)},slideToClickedSlide:function(){let t;let n=this,{params:l,slidesEl:a}=n,u="auto"===l.slidesPerView?n.slidesPerViewDynamic():l.slidesPerView,d=n.clickedIndex,c=n.isElement?"swiper-slide":`.${l.slideClass}`;if(l.loop){if(n.animating)return;t=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),l.centeredSlides?d<n.loopedSlides-u/2||d>n.slides.length-n.loopedSlides+u/2?(n.loopFix(),d=n.getSlideIndex(utils_elementChildren(a,`${c}[data-swiper-slide-index="${t}"]`)[0]),utils_nextTick(()=>{n.slideTo(d)})):n.slideTo(d):d>n.slides.length-u?(n.loopFix(),d=n.getSlideIndex(utils_elementChildren(a,`${c}[data-swiper-slide-index="${t}"]`)[0]),utils_nextTick(()=>{n.slideTo(d)})):n.slideTo(d)}else n.slideTo(d)}},loop:{loopCreate:function(t){let{params:n,slidesEl:l}=this;if(!n.loop||this.virtual&&this.params.virtual.enabled)return;let a=utils_elementChildren(l,`.${n.slideClass}, swiper-slide`);a.forEach((t,n)=>{t.setAttribute("data-swiper-slide-index",n)}),this.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})},loopFix:function({slideRealIndex:t,slideTo:n=!0,direction:l,setTranslate:a,activeSlideIndex:u,byController:d,byMousewheel:c}={}){let g=this;if(!g.params.loop)return;g.emit("beforeLoopFix");let{slides:S,allowSlidePrev:y,allowSlideNext:C,slidesEl:E,params:k}=g;if(g.allowSlidePrev=!0,g.allowSlideNext=!0,g.virtual&&k.virtual.enabled){n&&(k.centeredSlides||0!==g.snapIndex?k.centeredSlides&&g.snapIndex<k.slidesPerView?g.slideTo(g.virtual.slides.length+g.snapIndex,0,!1,!0):g.snapIndex===g.snapGrid.length-1&&g.slideTo(g.virtual.slidesBefore,0,!1,!0):g.slideTo(g.virtual.slides.length,0,!1,!0)),g.allowSlidePrev=y,g.allowSlideNext=C,g.emit("loopFix");return}let U="auto"===k.slidesPerView?g.slidesPerViewDynamic():Math.ceil(parseFloat(k.slidesPerView,10)),K=k.loopedSlides||U;K%k.slidesPerGroup!=0&&(K+=k.slidesPerGroup-K%k.slidesPerGroup),g.loopedSlides=K;let ti=[],tl=[],tr=g.activeIndex;void 0===u?u=g.getSlideIndex(g.slides.filter(t=>t.classList.contains(k.slideActiveClass))[0]):tr=u;let th="next"===l||!l,ta="prev"===l||!l,to=0,tu=0;if(u<K){to=Math.max(K-u,k.slidesPerGroup);for(let t=0;t<K-u;t+=1){let n=t-Math.floor(t/S.length)*S.length;ti.push(S.length-n-1)}}else if(u>g.slides.length-2*K){tu=Math.max(u-(g.slides.length-2*K),k.slidesPerGroup);for(let t=0;t<tu;t+=1){let n=t-Math.floor(t/S.length)*S.length;tl.push(n)}}if(ta&&ti.forEach(t=>{g.slides[t].swiperLoopMoveDOM=!0,E.prepend(g.slides[t]),g.slides[t].swiperLoopMoveDOM=!1}),th&&tl.forEach(t=>{g.slides[t].swiperLoopMoveDOM=!0,E.append(g.slides[t]),g.slides[t].swiperLoopMoveDOM=!1}),g.recalcSlides(),"auto"===k.slidesPerView&&g.updateSlides(),k.watchSlidesProgress&&g.updateSlidesOffset(),n){if(ti.length>0&&ta){if(void 0===t){let t=g.slidesGrid[tr],n=g.slidesGrid[tr+to],l=n-t;c?g.setTranslate(g.translate-l):(g.slideTo(tr+to,0,!1,!0),a&&(g.touches[g.isHorizontal()?"startX":"startY"]+=l))}else a&&g.slideToLoop(t,0,!1,!0)}else if(tl.length>0&&th){if(void 0===t){let t=g.slidesGrid[tr],n=g.slidesGrid[tr-tu],l=n-t;c?g.setTranslate(g.translate-l):(g.slideTo(tr-tu,0,!1,!0),a&&(g.touches[g.isHorizontal()?"startX":"startY"]+=l))}else g.slideToLoop(t,0,!1,!0)}}if(g.allowSlidePrev=y,g.allowSlideNext=C,g.controller&&g.controller.control&&!d){let n={slideRealIndex:t,slideTo:!1,direction:l,setTranslate:a,activeSlideIndex:u,byController:!0};Array.isArray(g.controller.control)?g.controller.control.forEach(t=>{!t.destroyed&&t.params.loop&&t.loopFix(n)}):g.controller.control instanceof g.constructor&&g.controller.control.params.loop&&g.controller.control.loopFix(n)}g.emit("loopFix")},loopDestroy:function(){let{params:t,slidesEl:n}=this;if(!t.loop||this.virtual&&this.params.virtual.enabled)return;this.recalcSlides();let l=[];this.slides.forEach(t=>{let n=void 0===t.swiperSlideIndex?1*t.getAttribute("data-swiper-slide-index"):t.swiperSlideIndex;l[n]=t}),this.slides.forEach(t=>{t.removeAttribute("data-swiper-slide-index")}),l.forEach(t=>{n.append(t)}),this.recalcSlides(),this.slideTo(this.realIndex,0)}},grabCursor:{setGrabCursor:function(t){let n=this;if(!n.params.simulateTouch||n.params.watchOverflow&&n.isLocked||n.params.cssMode)return;let l="container"===n.params.touchEventsTarget?n.el:n.wrapperEl;n.isElement&&(n.__preventObserver__=!0),l.style.cursor="move",l.style.cursor=t?"grabbing":"grab",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1})},unsetGrabCursor:function(){let t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t["container"===t.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}},events:{attachEvents:function(){let t=ssr_window_esm_getDocument(),{params:n}=this;this.onTouchStart=onTouchStart.bind(this),this.onTouchMove=onTouchMove.bind(this),this.onTouchEnd=onTouchEnd.bind(this),n.cssMode&&(this.onScroll=onScroll.bind(this)),this.onClick=onClick.bind(this),this.onLoad=onLoad.bind(this),S||(t.addEventListener("touchstart",dummyEventListener),S=!0),events(this,"on")},detachEvents:function(){events(this,"off")}},breakpoints:{setBreakpoint:function(){let t=this,{realIndex:n,initialized:l,params:a,el:u}=t,d=a.breakpoints;if(!d||d&&0===Object.keys(d).length)return;let c=t.getBreakpoint(d,t.params.breakpointsBase,t.el);if(!c||t.currentBreakpoint===c)return;let g=c in d?d[c]:void 0,S=g||t.originalParams,y=isGridEnabled(t,a),C=isGridEnabled(t,S),E=a.enabled;y&&!C?(u.classList.remove(`${a.containerModifierClass}grid`,`${a.containerModifierClass}grid-column`),t.emitContainerClasses()):!y&&C&&(u.classList.add(`${a.containerModifierClass}grid`),(S.grid.fill&&"column"===S.grid.fill||!S.grid.fill&&"column"===a.grid.fill)&&u.classList.add(`${a.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(n=>{if(void 0===S[n])return;let l=a[n]&&a[n].enabled,u=S[n]&&S[n].enabled;l&&!u&&t[n].disable(),!l&&u&&t[n].enable()});let k=S.direction&&S.direction!==a.direction,U=a.loop&&(S.slidesPerView!==a.slidesPerView||k);k&&l&&t.changeDirection(),utils_extend(t.params,S);let K=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),E&&!K?t.disable():!E&&K&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",S),U&&l&&(t.loopDestroy(),t.loopCreate(n),t.updateSlides()),t.emit("breakpoint",S)},getBreakpoint:function(t,n="window",l){if(!t||"container"===n&&!l)return;let a=!1,u=ssr_window_esm_getWindow(),d="window"===n?u.innerHeight:l.clientHeight,c=Object.keys(t).map(t=>{if("string"==typeof t&&0===t.indexOf("@")){let n=parseFloat(t.substr(1));return{value:d*n,point:t}}return{value:t,point:t}});c.sort((t,n)=>parseInt(t.value,10)-parseInt(n.value,10));for(let t=0;t<c.length;t+=1){let{point:d,value:g}=c[t];"window"===n?u.matchMedia(`(min-width: ${g}px)`).matches&&(a=d):g<=l.clientWidth&&(a=d)}return a||"max"}},checkOverflow:{checkOverflow:function(){let{isLocked:t,params:n}=this,{slidesOffsetBefore:l}=n;if(l){let t=this.slides.length-1,n=this.slidesGrid[t]+this.slidesSizesGrid[t]+2*l;this.isLocked=this.size>n}else this.isLocked=1===this.snapGrid.length;!0===n.allowSlideNext&&(this.allowSlideNext=!this.isLocked),!0===n.allowSlidePrev&&(this.allowSlidePrev=!this.isLocked),t&&t!==this.isLocked&&(this.isEnd=!1),t!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock")}},classes:{addClasses:function(){let{classNames:t,params:n,rtl:l,el:a,device:u}=this,d=function(t,n){let l=[];return t.forEach(t=>{"object"==typeof t?Object.keys(t).forEach(a=>{t[a]&&l.push(n+a)}):"string"==typeof t&&l.push(n+t)}),l}(["initialized",n.direction,{"free-mode":this.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:l},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:u.android},{ios:u.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...d),a.classList.add(...t),this.emitContainerClasses()},removeClasses:function(){let{el:t,classNames:n}=this;t.classList.remove(...n),this.emitContainerClasses()}}},E={};let Swiper=class Swiper{constructor(...t){let n,l;1===t.length&&t[0].constructor&&"Object"===Object.prototype.toString.call(t[0]).slice(8,-1)?l=t[0]:[n,l]=t,l||(l={}),l=utils_extend({},l),n&&!l.el&&(l.el=n);let a=ssr_window_esm_getDocument();if(l.el&&"string"==typeof l.el&&a.querySelectorAll(l.el).length>1){let t=[];return a.querySelectorAll(l.el).forEach(n=>{let a=utils_extend({},l,{el:n});t.push(new Swiper(a))}),t}let c=this;c.__swiper__=!0,c.support=getSupport(),c.device=function(t={}){return u||(u=function({userAgent:t}={}){let n=getSupport(),l=ssr_window_esm_getWindow(),a=l.navigator.platform,u=t||l.navigator.userAgent,d={ios:!1,android:!1},c=l.screen.width,g=l.screen.height,S=u.match(/(Android);?[\s\/]+([\d.]+)?/),y=u.match(/(iPad).*OS\s([\d_]+)/),C=u.match(/(iPod)(.*OS\s([\d_]+))?/),E=!y&&u.match(/(iPhone\sOS|iOS)\s([\d_]+)/),k="MacIntel"===a;return!y&&k&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${c}x${g}`)>=0&&((y=u.match(/(Version)\/([\d.]+)/))||(y=[0,1,"13_0_0"]),k=!1),S&&"Win32"!==a&&(d.os="android",d.android=!0),(y||E||C)&&(d.os="ios",d.ios=!0),d}(t)),u}({userAgent:l.userAgent}),c.browser=(d||(d=function(){let t=ssr_window_esm_getWindow(),n=!1;function isSafari(){let n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&0>n.indexOf("chrome")&&0>n.indexOf("android")}if(isSafari()){let l=String(t.navigator.userAgent);if(l.includes("Version/")){let[t,a]=l.split("Version/")[1].split(" ")[0].split(".").map(t=>Number(t));n=t<16||16===t&&a<2}}return{isSafari:n||isSafari(),needPerspectiveFix:n,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),d),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],l.modules&&Array.isArray(l.modules)&&c.modules.push(...l.modules);let g={};c.modules.forEach(t=>{var n;t({params:l,swiper:c,extendParams:(n=l,function(t={}){let l=Object.keys(t)[0],a=t[l];if("object"!=typeof a||null===a||(["navigation","pagination","scrollbar"].indexOf(l)>=0&&!0===n[l]&&(n[l]={auto:!0}),!(l in n&&"enabled"in a))){utils_extend(g,t);return}!0===n[l]&&(n[l]={enabled:!0}),"object"!=typeof n[l]||"enabled"in n[l]||(n[l].enabled=!0),n[l]||(n[l]={enabled:!1}),utils_extend(g,t)}),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});let S=utils_extend({},y,g);return c.params=utils_extend({},S,E,l),c.originalParams=utils_extend({},c.params),c.passedParams=utils_extend({},l),c.params&&c.params.on&&Object.keys(c.params.on).forEach(t=>{c.on(t,c.params.on[t])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===c.params.direction,isVertical:()=>"vertical"===c.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return 8388608*Math.trunc(this.translate/8388608)},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getSlideIndex(t){let{slidesEl:n,params:l}=this,a=utils_elementChildren(n,`.${l.slideClass}, swiper-slide`),u=utils_elementIndex(a[0]);return utils_elementIndex(t)-u}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(n=>1*n.getAttribute("data-swiper-slide-index")===t)[0])}recalcSlides(){let{slidesEl:t,params:n}=this;this.slides=utils_elementChildren(t,`.${n.slideClass}, swiper-slide`)}enable(){this.enabled||(this.enabled=!0,this.params.grabCursor&&this.setGrabCursor(),this.emit("enable"))}disable(){this.enabled&&(this.enabled=!1,this.params.grabCursor&&this.unsetGrabCursor(),this.emit("disable"))}setProgress(t,n){t=Math.min(Math.max(t,0),1);let l=this.minTranslate(),a=this.maxTranslate(),u=(a-l)*t+l;this.translateTo(u,void 0===n?0:n),this.updateActiveIndex(),this.updateSlidesClasses()}emitContainerClasses(){let t=this;if(!t.params._emitClasses||!t.el)return;let n=t.el.className.split(" ").filter(n=>0===n.indexOf("swiper")||0===n.indexOf(t.params.containerModifierClass));t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){let n=this;return n.destroyed?"":t.className.split(" ").filter(t=>0===t.indexOf("swiper-slide")||0===t.indexOf(n.params.slideClass)).join(" ")}emitSlidesClasses(){let t=this;if(!t.params._emitClasses||!t.el)return;let n=[];t.slides.forEach(l=>{let a=t.getSlideClasses(l);n.push({slideEl:l,classNames:a}),t.emit("_slideClass",l,a)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t="current",n=!1){let{params:l,slides:a,slidesGrid:u,slidesSizesGrid:d,size:c,activeIndex:g}=this,S=1;if(l.centeredSlides){let t,n=a[g]?a[g].swiperSlideSize:0;for(let l=g+1;l<a.length;l+=1)a[l]&&!t&&(n+=a[l].swiperSlideSize,S+=1,n>c&&(t=!0));for(let l=g-1;l>=0;l-=1)a[l]&&!t&&(n+=a[l].swiperSlideSize,S+=1,n>c&&(t=!0))}else if("current"===t)for(let t=g+1;t<a.length;t+=1){let l=n?u[t]+d[t]-u[g]<c:u[t]-u[g]<c;l&&(S+=1)}else for(let t=g-1;t>=0;t-=1){let n=u[g]-u[t]<c;n&&(S+=1)}return S}update(){let t;let n=this;if(!n||n.destroyed)return;let{snapGrid:l,params:a}=n;function setTranslate(){let t=n.rtlTranslate?-1*n.translate:n.translate,l=Math.min(Math.max(t,n.maxTranslate()),n.minTranslate());n.setTranslate(l),n.updateActiveIndex(),n.updateSlidesClasses()}if(a.breakpoints&&n.setBreakpoint(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(t=>{t.complete&&processLazyPreloader(n,t)}),n.updateSize(),n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),a.freeMode&&a.freeMode.enabled&&!a.cssMode)setTranslate(),a.autoHeight&&n.updateAutoHeight();else{if(("auto"===a.slidesPerView||a.slidesPerView>1)&&n.isEnd&&!a.centeredSlides){let l=n.virtual&&a.virtual.enabled?n.virtual.slides:n.slides;t=n.slideTo(l.length-1,0,!1,!0)}else t=n.slideTo(n.activeIndex,0,!1,!0);t||setTranslate()}a.watchOverflow&&l!==n.snapGrid&&n.checkOverflow(),n.emit("update")}changeDirection(t,n=!0){let l=this.params.direction;return t||(t="horizontal"===l?"vertical":"horizontal"),t===l||"horizontal"!==t&&"vertical"!==t||(this.el.classList.remove(`${this.params.containerModifierClass}${l}`),this.el.classList.add(`${this.params.containerModifierClass}${t}`),this.emitContainerClasses(),this.params.direction=t,this.slides.forEach(n=>{"vertical"===t?n.style.width="":n.style.height=""}),this.emit("changeDirection"),n&&this.update()),this}changeLanguageDirection(t){(!this.rtl||"rtl"!==t)&&(this.rtl||"ltr"!==t)&&(this.rtl="rtl"===t,this.rtlTranslate="horizontal"===this.params.direction&&this.rtl,this.rtl?(this.el.classList.add(`${this.params.containerModifierClass}rtl`),this.el.dir="rtl"):(this.el.classList.remove(`${this.params.containerModifierClass}rtl`),this.el.dir="ltr"),this.update())}mount(t){let n=this;if(n.mounted)return!0;let l=t||n.params.el;if("string"==typeof l&&(l=document.querySelector(l)),!l)return!1;l.swiper=n,l.shadowEl&&(n.isElement=!0);let getWrapperSelector=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`,a=(()=>{if(l&&l.shadowRoot&&l.shadowRoot.querySelector){let t=l.shadowRoot.querySelector(getWrapperSelector());return t}return utils_elementChildren(l,getWrapperSelector())[0]})();return!a&&n.params.createElements&&(a=utils_createElement("div",n.params.wrapperClass),l.append(a),utils_elementChildren(l,`.${n.params.slideClass}`).forEach(t=>{a.append(t)})),Object.assign(n,{el:l,wrapperEl:a,slidesEl:n.isElement?l:a,mounted:!0,rtl:"rtl"===l.dir.toLowerCase()||"rtl"===elementStyle(l,"direction"),rtlTranslate:"horizontal"===n.params.direction&&("rtl"===l.dir.toLowerCase()||"rtl"===elementStyle(l,"direction")),wrongRTL:"-webkit-box"===elementStyle(a,"display")}),!0}init(t){let n=this;if(n.initialized)return n;let l=n.mount(t);return!1===l||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(t=>{t.complete?processLazyPreloader(n,t):t.addEventListener("load",t=>{processLazyPreloader(n,t.target)})}),preload(n),n.initialized=!0,preload(n),n.emit("init"),n.emit("afterInit")),n}destroy(t=!0,n=!0){let l=this,{params:a,el:u,wrapperEl:d,slides:c}=l;return void 0===l.params||l.destroyed||(l.emit("beforeDestroy"),l.initialized=!1,l.detachEvents(),a.loop&&l.loopDestroy(),n&&(l.removeClasses(),u.removeAttribute("style"),d.removeAttribute("style"),c&&c.length&&c.forEach(t=>{t.classList.remove(a.slideVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),t.removeAttribute("style"),t.removeAttribute("data-swiper-slide-index")})),l.emit("destroy"),Object.keys(l.eventsListeners).forEach(t=>{l.off(t)}),!1!==t&&(l.el.swiper=null,function(t){Object.keys(t).forEach(n=>{try{t[n]=null}catch(t){}try{delete t[n]}catch(t){}})}(l)),l.destroyed=!0),null}static extendDefaults(t){utils_extend(E,t)}static get extendedDefaults(){return E}static get defaults(){return y}static installModule(t){Swiper.prototype.__modules__||(Swiper.prototype.__modules__=[]);let n=Swiper.prototype.__modules__;"function"==typeof t&&0>n.indexOf(t)&&n.push(t)}static use(t){return Array.isArray(t)?t.forEach(t=>Swiper.installModule(t)):Swiper.installModule(t),Swiper}};Object.keys(C).forEach(t=>{Object.keys(C[t]).forEach(n=>{Swiper.prototype[n]=C[t][n]})}),Swiper.use([function({swiper:t,on:n,emit:l}){let a=ssr_window_esm_getWindow(),u=null,d=null,resizeHandler=()=>{t&&!t.destroyed&&t.initialized&&(l("beforeResize"),l("resize"))},createObserver=()=>{t&&!t.destroyed&&t.initialized&&(u=new ResizeObserver(n=>{d=a.requestAnimationFrame(()=>{let{width:l,height:a}=t,u=l,d=a;n.forEach(({contentBoxSize:n,contentRect:l,target:a})=>{a&&a!==t.el||(u=l?l.width:(n[0]||n).inlineSize,d=l?l.height:(n[0]||n).blockSize)}),(u!==l||d!==a)&&resizeHandler()})})).observe(t.el)},removeObserver=()=>{d&&a.cancelAnimationFrame(d),u&&u.unobserve&&t.el&&(u.unobserve(t.el),u=null)},orientationChangeHandler=()=>{t&&!t.destroyed&&t.initialized&&l("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&void 0!==a.ResizeObserver){createObserver();return}a.addEventListener("resize",resizeHandler),a.addEventListener("orientationchange",orientationChangeHandler)}),n("destroy",()=>{removeObserver(),a.removeEventListener("resize",resizeHandler),a.removeEventListener("orientationchange",orientationChangeHandler)})},function({swiper:t,extendParams:n,on:l,emit:a}){let u=[],d=ssr_window_esm_getWindow(),attach=(n,l={})=>{let c=d.MutationObserver||d.WebkitMutationObserver,g=new c(n=>{if(t.__preventObserver__)return;if(1===n.length){a("observerUpdate",n[0]);return}let observerUpdate=function(){a("observerUpdate",n[0])};d.requestAnimationFrame?d.requestAnimationFrame(observerUpdate):d.setTimeout(observerUpdate,0)});g.observe(n,{attributes:void 0===l.attributes||l.attributes,childList:void 0===l.childList||l.childList,characterData:void 0===l.characterData||l.characterData}),u.push(g)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),l("init",()=>{if(t.params.observer){if(t.params.observeParents){let n=utils_elementParents(t.el);for(let t=0;t<n.length;t+=1)attach(n[t])}attach(t.el,{childList:t.params.observeSlideChildren}),attach(t.wrapperEl,{attributes:!1})}}),l("destroy",()=>{u.forEach(t=>{t.disconnect()}),u.splice(0,u.length)})}]);var k=Swiper;function classes_to_selector_classesToSelector(t=""){return`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Pagination({swiper:t,extendParams:n,on:l,emit:a}){let u;let d="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${d}-bullet`,bulletActiveClass:`${d}-bullet-active`,modifierClass:`${d}-`,currentClass:`${d}-current`,totalClass:`${d}-total`,hiddenClass:`${d}-hidden`,progressbarFillClass:`${d}-progressbar-fill`,progressbarOppositeClass:`${d}-progressbar-opposite`,clickableClass:`${d}-clickable`,lockClass:`${d}-lock`,horizontalClass:`${d}-horizontal`,verticalClass:`${d}-vertical`,paginationDisabledClass:`${d}-disabled`}}),t.pagination={el:null,bullets:[]};let c=0,makeElementsArray=t=>(Array.isArray(t)||(t=[t].filter(t=>!!t)),t);function isPaginationDisabled(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function setSideBullets(n,l){let{bulletActiveClass:a}=t.params.pagination;n&&(n=n[`${"prev"===l?"previous":"next"}ElementSibling`])&&(n.classList.add(`${a}-${l}`),(n=n[`${"prev"===l?"previous":"next"}ElementSibling`])&&n.classList.add(`${a}-${l}-${l}`))}function onBulletClick(n){let l=n.target.closest(classes_to_selector_classesToSelector(t.params.pagination.bulletClass));if(!l)return;n.preventDefault();let a=utils_elementIndex(l)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===a)return;let n=t.getSlideIndexByData(a),l=t.getSlideIndexByData(t.realIndex);n>t.slides.length-t.loopedSlides&&t.loopFix({direction:n>l?"next":"prev",activeSlideIndex:n,slideTo:!1}),t.slideToLoop(a)}else t.slideTo(a)}function update(){let n,l;let d=t.rtl,g=t.params.pagination;if(isPaginationDisabled())return;let S=t.pagination.el;S=makeElementsArray(S);let y=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,C=t.params.loop?Math.ceil(y/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(l=t.previousRealIndex||0,n=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(n=t.snapIndex,l=t.previousSnapIndex):(l=t.previousIndex||0,n=t.activeIndex||0),"bullets"===g.type&&t.pagination.bullets&&t.pagination.bullets.length>0){let a,y,C;let E=t.pagination.bullets;if(g.dynamicBullets&&(u=elementOuterSize(E[0],t.isHorizontal()?"width":"height",!0),S.forEach(n=>{n.style[t.isHorizontal()?"width":"height"]=`${u*(g.dynamicMainBullets+4)}px`}),g.dynamicMainBullets>1&&void 0!==l&&((c+=n-(l||0))>g.dynamicMainBullets-1?c=g.dynamicMainBullets-1:c<0&&(c=0)),C=((y=(a=Math.max(n-c,0))+(Math.min(E.length,g.dynamicMainBullets)-1))+a)/2),E.forEach(t=>{let n=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(t=>`${g.bulletActiveClass}${t}`)].map(t=>"string"==typeof t&&t.includes(" ")?t.split(" "):t).flat();t.classList.remove(...n)}),S.length>1)E.forEach(l=>{let u=utils_elementIndex(l);u===n?l.classList.add(...g.bulletActiveClass.split(" ")):t.isElement&&l.setAttribute("part","bullet"),g.dynamicBullets&&(u>=a&&u<=y&&l.classList.add(...`${g.bulletActiveClass}-main`.split(" ")),u===a&&setSideBullets(l,"prev"),u===y&&setSideBullets(l,"next"))});else{let l=E[n];if(l&&l.classList.add(...g.bulletActiveClass.split(" ")),t.isElement&&E.forEach((t,l)=>{t.setAttribute("part",l===n?"bullet-active":"bullet")}),g.dynamicBullets){let t=E[a],n=E[y];for(let t=a;t<=y;t+=1)E[t]&&E[t].classList.add(...`${g.bulletActiveClass}-main`.split(" "));setSideBullets(t,"prev"),setSideBullets(n,"next")}}if(g.dynamicBullets){let n=Math.min(E.length,g.dynamicMainBullets+4),l=(u*n-u)/2-C*u,a=d?"right":"left";E.forEach(n=>{n.style[t.isHorizontal()?a:"top"]=`${l}px`})}}S.forEach((l,u)=>{if("fraction"===g.type&&(l.querySelectorAll(classes_to_selector_classesToSelector(g.currentClass)).forEach(t=>{t.textContent=g.formatFractionCurrent(n+1)}),l.querySelectorAll(classes_to_selector_classesToSelector(g.totalClass)).forEach(t=>{t.textContent=g.formatFractionTotal(C)})),"progressbar"===g.type){let a;a=g.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";let u=(n+1)/C,d=1,c=1;"horizontal"===a?d=u:c=u,l.querySelectorAll(classes_to_selector_classesToSelector(g.progressbarFillClass)).forEach(n=>{n.style.transform=`translate3d(0,0,0) scaleX(${d}) scaleY(${c})`,n.style.transitionDuration=`${t.params.speed}ms`})}"custom"===g.type&&g.renderCustom?(l.innerHTML=g.renderCustom(t,n+1,C),0===u&&a("paginationRender",l)):(0===u&&a("paginationRender",l),a("paginationUpdate",l)),t.params.watchOverflow&&t.enabled&&l.classList[t.isLocked?"add":"remove"](g.lockClass)})}function render(){let n=t.params.pagination;if(isPaginationDisabled())return;let l=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,u=t.pagination.el;u=makeElementsArray(u);let d="";if("bullets"===n.type){let a=t.params.loop?Math.ceil(l/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&a>l&&(a=l);for(let l=0;l<a;l+=1)n.renderBullet?d+=n.renderBullet.call(t,l,n.bulletClass):d+=`<${n.bulletElement} ${t.isElement?'part="bullet"':""} class="${n.bulletClass}"></${n.bulletElement}>`}"fraction"===n.type&&(d=n.renderFraction?n.renderFraction.call(t,n.currentClass,n.totalClass):`<span class="${n.currentClass}"></span> / <span class="${n.totalClass}"></span>`),"progressbar"===n.type&&(d=n.renderProgressbar?n.renderProgressbar.call(t,n.progressbarFillClass):`<span class="${n.progressbarFillClass}"></span>`),t.pagination.bullets=[],u.forEach(l=>{"custom"!==n.type&&(l.innerHTML=d||""),"bullets"===n.type&&t.pagination.bullets.push(...l.querySelectorAll(classes_to_selector_classesToSelector(n.bulletClass)))}),"custom"!==n.type&&a("paginationRender",u[0])}function init(){var n,l,a;let u;t.params.pagination=(n=t.originalParams.pagination,l=t.params.pagination,a={el:"swiper-pagination"},t.params.createElements&&Object.keys(a).forEach(u=>{if(!l[u]&&!0===l.auto){let d=utils_elementChildren(t.el,`.${a[u]}`)[0];d||((d=utils_createElement("div",a[u])).className=a[u],t.el.append(d)),l[u]=d,n[u]=d}}),l);let d=t.params.pagination;d.el&&("string"==typeof d.el&&t.isElement&&(u=t.el.shadowRoot.querySelector(d.el)),u||"string"!=typeof d.el||(u=[...document.querySelectorAll(d.el)]),u||(u=d.el),u&&0!==u.length&&(t.params.uniqueNavElements&&"string"==typeof d.el&&Array.isArray(u)&&u.length>1&&(u=[...t.el.querySelectorAll(d.el)]).length>1&&(u=u.filter(n=>utils_elementParents(n,".swiper")[0]===t.el)[0]),Array.isArray(u)&&1===u.length&&(u=u[0]),Object.assign(t.pagination,{el:u}),(u=makeElementsArray(u)).forEach(n=>{"bullets"===d.type&&d.clickable&&n.classList.add(d.clickableClass),n.classList.add(d.modifierClass+d.type),n.classList.add(t.isHorizontal()?d.horizontalClass:d.verticalClass),"bullets"===d.type&&d.dynamicBullets&&(n.classList.add(`${d.modifierClass}${d.type}-dynamic`),c=0,d.dynamicMainBullets<1&&(d.dynamicMainBullets=1)),"progressbar"===d.type&&d.progressbarOpposite&&n.classList.add(d.progressbarOppositeClass),d.clickable&&n.addEventListener("click",onBulletClick),t.enabled||n.classList.add(d.lockClass)})))}function destroy(){let n=t.params.pagination;if(isPaginationDisabled())return;let l=t.pagination.el;l&&(l=makeElementsArray(l)).forEach(l=>{l.classList.remove(n.hiddenClass),l.classList.remove(n.modifierClass+n.type),l.classList.remove(t.isHorizontal()?n.horizontalClass:n.verticalClass),n.clickable&&l.removeEventListener("click",onBulletClick)}),t.pagination.bullets&&t.pagination.bullets.forEach(t=>t.classList.remove(...n.bulletActiveClass.split(" ")))}l("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;let n=t.params.pagination,{el:l}=t.pagination;(l=makeElementsArray(l)).forEach(l=>{l.classList.remove(n.horizontalClass,n.verticalClass),l.classList.add(t.isHorizontal()?n.horizontalClass:n.verticalClass)})}),l("init",()=>{!1===t.params.pagination.enabled?disable():(init(),render(),update())}),l("activeIndexChange",()=>{void 0===t.snapIndex&&update()}),l("snapIndexChange",()=>{update()}),l("snapGridLengthChange",()=>{render(),update()}),l("destroy",()=>{destroy()}),l("enable disable",()=>{let{el:n}=t.pagination;n&&(n=makeElementsArray(n)).forEach(n=>n.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass))}),l("lock unlock",()=>{update()}),l("click",(n,l)=>{let u=l.target,{el:d}=t.pagination;if(Array.isArray(d)||(d=[d].filter(t=>!!t)),t.params.pagination.el&&t.params.pagination.hideOnClick&&d&&d.length>0&&!u.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&u===t.navigation.nextEl||t.navigation.prevEl&&u===t.navigation.prevEl))return;let n=d[0].classList.contains(t.params.pagination.hiddenClass);!0===n?a("paginationShow"):a("paginationHide"),d.forEach(n=>n.classList.toggle(t.params.pagination.hiddenClass))}});let disable=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:n}=t.pagination;n&&(n=makeElementsArray(n)).forEach(n=>n.classList.add(t.params.pagination.paginationDisabledClass)),destroy()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:n}=t.pagination;n&&(n=makeElementsArray(n)).forEach(n=>n.classList.remove(t.params.pagination.paginationDisabledClass)),init(),render(),update()},disable,render,update,init,destroy})}}}]);